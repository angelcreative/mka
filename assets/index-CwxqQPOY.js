var HL=Object.defineProperty;var K1=n=>{throw TypeError(n)};var $L=(n,t,e)=>t in n?HL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var H=(n,t,e)=>$L(n,typeof t!="symbol"?t+"":t,e),u0=(n,t,e)=>t.has(n)||K1("Cannot "+e);var h=(n,t,e)=>(u0(n,t,"read from private field"),e?e.call(n):t.get(n)),_=(n,t,e)=>t.has(n)?K1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),v=(n,t,e,i)=>(u0(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),S=(n,t,e)=>(u0(n,t,"access private method"),e);var hn=(n,t,e,i)=>({set _(r){v(n,t,r,e)},get _(){return h(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var Q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var JA={exports:{}},ky={},ZA={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=Symbol.for("react.element"),UL=Symbol.for("react.portal"),VL=Symbol.for("react.fragment"),WL=Symbol.for("react.strict_mode"),GL=Symbol.for("react.profiler"),qL=Symbol.for("react.provider"),XL=Symbol.for("react.context"),YL=Symbol.for("react.forward_ref"),KL=Symbol.for("react.suspense"),QL=Symbol.for("react.memo"),JL=Symbol.for("react.lazy"),J1=Symbol.iterator;function ZL(n){return n===null||typeof n!="object"?null:(n=J1&&n[J1]||n["@@iterator"],typeof n=="function"?n:null)}var tE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eE=Object.assign,nE={};function qc(n,t,e){this.props=n,this.context=t,this.refs=nE,this.updater=e||tE}qc.prototype.isReactComponent={};qc.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};qc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function iE(){}iE.prototype=qc.prototype;function Jw(n,t,e){this.props=n,this.context=t,this.refs=nE,this.updater=e||tE}var Zw=Jw.prototype=new iE;Zw.constructor=Jw;eE(Zw,qc.prototype);Zw.isPureReactComponent=!0;var Z1=Array.isArray,rE=Object.prototype.hasOwnProperty,tv={current:null},sE={key:!0,ref:!0,__self:!0,__source:!0};function oE(n,t,e){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)rE.call(t,i)&&!sE.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=e;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:fp,type:n,key:s,ref:o,props:r,_owner:tv.current}}function t2(n,t){return{$$typeof:fp,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function ev(n){return typeof n=="object"&&n!==null&&n.$$typeof===fp}function e2(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var t_=/\/+/g;function c0(n,t){return typeof n=="object"&&n!==null&&n.key!=null?e2(""+n.key):t.toString(36)}function dg(n,t,e,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case fp:case UL:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+c0(o,0):i,Z1(r)?(e="",n!=null&&(e=n.replace(t_,"$&/")+"/"),dg(r,t,e,"",function(u){return u})):r!=null&&(ev(r)&&(r=t2(r,e+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(t_,"$&/")+"/")+n)),t.push(r)),1;if(o=0,i=i===""?".":i+":",Z1(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+c0(s,a);o+=dg(s,t,e,l,r)}else if(l=ZL(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+c0(s,a++),o+=dg(s,t,e,l,r);else if(s==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Tp(n,t,e){if(n==null)return n;var i=[],r=0;return dg(n,i,"","",function(s){return t.call(e,s,r++)}),i}function n2(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var kn={current:null},fg={transition:null},i2={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:fg,ReactCurrentOwner:tv};function aE(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Tp,forEach:function(n,t,e){Tp(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Tp(n,function(){t++}),t},toArray:function(n){return Tp(n,function(t){return t})||[]},only:function(n){if(!ev(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};bt.Component=qc;bt.Fragment=VL;bt.Profiler=GL;bt.PureComponent=Jw;bt.StrictMode=WL;bt.Suspense=KL;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i2;bt.act=aE;bt.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=eE({},n.props),r=n.key,s=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=tv.current),t.key!==void 0&&(r=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in t)rE.call(t,l)&&!sE.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=e;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:fp,type:n.type,key:r,ref:s,props:i,_owner:o}};bt.createContext=function(n){return n={$$typeof:XL,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:qL,_context:n},n.Consumer=n};bt.createElement=oE;bt.createFactory=function(n){var t=oE.bind(null,n);return t.type=n,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(n){return{$$typeof:YL,render:n}};bt.isValidElement=ev;bt.lazy=function(n){return{$$typeof:JL,_payload:{_status:-1,_result:n},_init:n2}};bt.memo=function(n,t){return{$$typeof:QL,type:n,compare:t===void 0?null:t}};bt.startTransition=function(n){var t=fg.transition;fg.transition={};try{n()}finally{fg.transition=t}};bt.unstable_act=aE;bt.useCallback=function(n,t){return kn.current.useCallback(n,t)};bt.useContext=function(n){return kn.current.useContext(n)};bt.useDebugValue=function(){};bt.useDeferredValue=function(n){return kn.current.useDeferredValue(n)};bt.useEffect=function(n,t){return kn.current.useEffect(n,t)};bt.useId=function(){return kn.current.useId()};bt.useImperativeHandle=function(n,t,e){return kn.current.useImperativeHandle(n,t,e)};bt.useInsertionEffect=function(n,t){return kn.current.useInsertionEffect(n,t)};bt.useLayoutEffect=function(n,t){return kn.current.useLayoutEffect(n,t)};bt.useMemo=function(n,t){return kn.current.useMemo(n,t)};bt.useReducer=function(n,t,e){return kn.current.useReducer(n,t,e)};bt.useRef=function(n){return kn.current.useRef(n)};bt.useState=function(n){return kn.current.useState(n)};bt.useSyncExternalStore=function(n,t,e){return kn.current.useSyncExternalStore(n,t,e)};bt.useTransition=function(){return kn.current.useTransition()};bt.version="18.3.1";ZA.exports=bt;var te=ZA.exports;const Nn=QA(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=te,s2=Symbol.for("react.element"),o2=Symbol.for("react.fragment"),a2=Object.prototype.hasOwnProperty,l2=r2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u2={key:!0,ref:!0,__self:!0,__source:!0};function lE(n,t,e){var i,r={},s=null,o=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)a2.call(t,i)&&!u2.hasOwnProperty(i)&&(r[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:s2,type:n,key:s,ref:o,props:r,_owner:l2.current}}ky.Fragment=o2;ky.jsx=lE;ky.jsxs=lE;JA.exports=ky;var D=JA.exports,wb={},uE={exports:{}},gi={},cE={exports:{}},hE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(B,W){var T=B.length;B.push(W);t:for(;0<T;){var rt=T-1>>>1,nt=B[rt];if(0<r(nt,W))B[rt]=W,B[T]=nt,T=rt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var W=B[0],T=B.pop();if(T!==W){B[0]=T;t:for(var rt=0,nt=B.length,M=nt>>>1;rt<M;){var _t=2*(rt+1)-1,Qt=B[_t],ot=_t+1,xt=B[ot];if(0>r(Qt,T))ot<nt&&0>r(xt,Qt)?(B[rt]=xt,B[ot]=T,rt=ot):(B[rt]=Qt,B[_t]=T,rt=_t);else if(ot<nt&&0>r(xt,T))B[rt]=xt,B[ot]=T,rt=ot;else break t}}return W}function r(B,W){var T=B.sortIndex-W.sortIndex;return T!==0?T:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var W=e(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=B)i(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=e(u)}}function k(B){if(m=!1,w(B),!g)if(e(l)!==null)g=!0,z(E);else{var W=e(u);W!==null&&j(k,W.startTime-B)}}function E(B,W){g=!1,m&&(m=!1,y(R),R=-1),p=!0;var T=f;try{for(w(W),d=e(l);d!==null&&(!(d.expirationTime>W)||B&&!I());){var rt=d.callback;if(typeof rt=="function"){d.callback=null,f=d.priorityLevel;var nt=rt(d.expirationTime<=W);W=n.unstable_now(),typeof nt=="function"?d.callback=nt:d===e(l)&&i(l),w(W)}else i(l);d=e(l)}if(d!==null)var M=!0;else{var _t=e(u);_t!==null&&j(k,_t.startTime-W),M=!1}return M}finally{d=null,f=T,p=!1}}var A=!1,C=null,R=-1,L=5,P=-1;function I(){return!(n.unstable_now()-P<L)}function F(){if(C!==null){var B=n.unstable_now();P=B;var W=!0;try{W=C(!0,B)}finally{W?Y():(A=!1,C=null)}}else A=!1}var Y;if(typeof b=="function")Y=function(){b(F)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=F,Y=function(){V.postMessage(null)}}else Y=function(){x(F,0)};function z(B){C=B,A||(A=!0,Y())}function j(B,W){R=x(function(){B(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,z(E))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var T=f;f=W;try{return B()}finally{f=T}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var T=f;f=B;try{return W()}finally{f=T}},n.unstable_scheduleCallback=function(B,W,T){var rt=n.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?rt+T:rt):T=rt,B){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=T+nt,B={id:c++,callback:W,priorityLevel:B,startTime:T,expirationTime:nt,sortIndex:-1},T>rt?(B.sortIndex=T,t(u,B),e(l)===null&&B===e(u)&&(m?(y(R),R=-1):m=!0,j(k,T-rt))):(B.sortIndex=nt,t(l,B),g||p||(g=!0,z(E))),B},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(B){var W=f;return function(){var T=f;f=W;try{return B.apply(this,arguments)}finally{f=T}}}})(hE);cE.exports=hE;var c2=cE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2=te,pi=c2;function $(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dE=new Set,fd={};function Vl(n,t){Nc(n,t),Nc(n+"Capture",t)}function Nc(n,t){for(fd[n]=t,n=0;n<t.length;n++)dE.add(t[n])}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vb=Object.prototype.hasOwnProperty,d2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e_={},n_={};function f2(n){return vb.call(n_,n)?!0:vb.call(e_,n)?!1:d2.test(n)?n_[n]=!0:(e_[n]=!0,!1)}function p2(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function g2(n,t,e,i){if(t===null||typeof t>"u"||p2(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(n,t,e,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ve[n]=new An(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Ve[t]=new An(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ve[n]=new An(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ve[n]=new An(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ve[n]=new An(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ve[n]=new An(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ve[n]=new An(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ve[n]=new An(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ve[n]=new An(n,5,!1,n.toLowerCase(),null,!1,!1)});var nv=/[\-:]([a-z])/g;function iv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(nv,iv);Ve[t]=new An(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(nv,iv);Ve[t]=new An(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(nv,iv);Ve[t]=new An(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ve[n]=new An(n,1,!1,n.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ve[n]=new An(n,1,!1,n.toLowerCase(),null,!0,!0)});function rv(n,t,e,i){var r=Ve.hasOwnProperty(t)?Ve[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(g2(t,e,r,i)&&(e=null),i||r===null?f2(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):r.mustUseProperty?n[r.propertyName]=e===null?r.type===3?!1:"":e:(t=r.attributeName,i=r.attributeNamespace,e===null?n.removeAttribute(t):(r=r.type,e=r===3||r===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var $s=h2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pp=Symbol.for("react.element"),au=Symbol.for("react.portal"),lu=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),_b=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),pE=Symbol.for("react.context"),ov=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),kb=Symbol.for("react.suspense_list"),av=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),gE=Symbol.for("react.offscreen"),i_=Symbol.iterator;function sh(n){return n===null||typeof n!="object"?null:(n=i_&&n[i_]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,h0;function Ah(n){if(h0===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);h0=t&&t[1]||""}return`
`+h0+n}var d0=!1;function f0(n,t){if(!n||d0)return"";d0=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){i=u}n.call(t.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{d0=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Ah(n):""}function m2(n){switch(n.tag){case 5:return Ah(n.type);case 16:return Ah("Lazy");case 13:return Ah("Suspense");case 19:return Ah("SuspenseList");case 0:case 2:case 15:return n=f0(n.type,!1),n;case 11:return n=f0(n.type.render,!1),n;case 1:return n=f0(n.type,!0),n;default:return""}}function Ab(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case lu:return"Fragment";case au:return"Portal";case _b:return"Profiler";case sv:return"StrictMode";case Sb:return"Suspense";case kb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case pE:return(n.displayName||"Context")+".Consumer";case fE:return(n._context.displayName||"Context")+".Provider";case ov:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case av:return t=n.displayName||null,t!==null?t:Ab(n.type)||"Memo";case Ys:t=n._payload,n=n._init;try{return Ab(n(t))}catch{}}return null}function y2(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ab(t);case 8:return t===sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Go(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function mE(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b2(n){var t=mE(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var r=e.get,s=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Mp(n){n._valueTracker||(n._valueTracker=b2(n))}function yE(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=mE(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function cm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Eb(n,t){var e=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function r_(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=Go(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bE(n,t){t=t.checked,t!=null&&rv(n,"checked",t,!1)}function Cb(n,t){bE(n,t);var e=Go(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Tb(n,t.type,e):t.hasOwnProperty("defaultValue")&&Tb(n,t.type,Go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function s_(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Tb(n,t,e){(t!=="number"||cm(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Eh=Array.isArray;function vu(n,t,e,i){if(n=n.options,t){t={};for(var r=0;r<e.length;r++)t["$"+e[r]]=!0;for(e=0;e<n.length;e++)r=t.hasOwnProperty("$"+n[e].value),n[e].selected!==r&&(n[e].selected=r),r&&i&&(n[e].defaultSelected=!0)}else{for(e=""+Go(e),t=null,r=0;r<n.length;r++){if(n[r].value===e){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}t!==null||n[r].disabled||(t=n[r])}t!==null&&(t.selected=!0)}}function Pb(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function o_(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error($(92));if(Eh(e)){if(1<e.length)throw Error($(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Go(e)}}function xE(n,t){var e=Go(t.value),i=Go(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function a_(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function wE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mb(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?wE(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Rp,vE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,r){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,r)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Rp=Rp||document.createElement("div"),Rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function pd(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x2=["Webkit","ms","Moz","O"];Object.keys(Yh).forEach(function(n){x2.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Yh[t]=Yh[n]})});function _E(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Yh.hasOwnProperty(n)&&Yh[n]?(""+t).trim():t+"px"}function SE(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,r=_E(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,r):n[e]=r}}var w2=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rb(n,t){if(t){if(w2[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Lb(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=null;function lv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Db=null,_u=null,Su=null;function l_(n){if(n=mp(n)){if(typeof Db!="function")throw Error($(280));var t=n.stateNode;t&&(t=Py(t),Db(n.stateNode,n.type,t))}}function kE(n){_u?Su?Su.push(n):Su=[n]:_u=n}function AE(){if(_u){var n=_u,t=Su;if(Su=_u=null,l_(n),t)for(n=0;n<t.length;n++)l_(t[n])}}function EE(n,t){return n(t)}function CE(){}var p0=!1;function TE(n,t,e){if(p0)return n(t,e);p0=!0;try{return EE(n,t,e)}finally{p0=!1,(_u!==null||Su!==null)&&(CE(),AE())}}function gd(n,t){var e=n.stateNode;if(e===null)return null;var i=Py(e);if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error($(231,t,typeof e));return e}var Ob=!1;if(Os)try{var oh={};Object.defineProperty(oh,"passive",{get:function(){Ob=!0}}),window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{Ob=!1}function v2(n,t,e,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var Kh=!1,hm=null,dm=!1,Fb=null,_2={onError:function(n){Kh=!0,hm=n}};function S2(n,t,e,i,r,s,o,a,l){Kh=!1,hm=null,v2.apply(_2,arguments)}function k2(n,t,e,i,r,s,o,a,l){if(S2.apply(this,arguments),Kh){if(Kh){var u=hm;Kh=!1,hm=null}else throw Error($(198));dm||(dm=!0,Fb=u)}}function Wl(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function PE(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function u_(n){if(Wl(n)!==n)throw Error($(188))}function A2(n){var t=n.alternate;if(!t){if(t=Wl(n),t===null)throw Error($(188));return t!==n?null:n}for(var e=n,i=t;;){var r=e.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){e=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===e)return u_(r),n;if(s===i)return u_(r),t;s=s.sibling}throw Error($(188))}if(e.return!==i.return)e=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===e){o=!0,e=r,i=s;break}if(a===i){o=!0,i=r,e=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===e){o=!0,e=s,i=r;break}if(a===i){o=!0,i=s,e=r;break}a=a.sibling}if(!o)throw Error($(189))}}if(e.alternate!==i)throw Error($(190))}if(e.tag!==3)throw Error($(188));return e.stateNode.current===e?n:t}function ME(n){return n=A2(n),n!==null?RE(n):null}function RE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=RE(n);if(t!==null)return t;n=n.sibling}return null}var LE=pi.unstable_scheduleCallback,c_=pi.unstable_cancelCallback,E2=pi.unstable_shouldYield,C2=pi.unstable_requestPaint,ue=pi.unstable_now,T2=pi.unstable_getCurrentPriorityLevel,uv=pi.unstable_ImmediatePriority,IE=pi.unstable_UserBlockingPriority,fm=pi.unstable_NormalPriority,P2=pi.unstable_LowPriority,DE=pi.unstable_IdlePriority,Ay=null,jr=null;function M2(n){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Ay,n,void 0,(n.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:I2,R2=Math.log,L2=Math.LN2;function I2(n){return n>>>=0,n===0?32:31-(R2(n)/L2|0)|0}var Lp=64,Ip=4194304;function Ch(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function pm(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=e&268435455;if(o!==0){var a=o&~r;a!==0?i=Ch(a):(s&=o,s!==0&&(i=Ch(s)))}else o=e&~r,o!==0?i=Ch(o):s!==0&&(i=Ch(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-sr(t),r=1<<e,i|=n[e],t&=~r;return i}function D2(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O2(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-sr(s),a=1<<o,l=r[o];l===-1?(!(a&e)||a&i)&&(r[o]=D2(a,t)):l<=t&&(n.expiredLanes|=a),s&=~a}}function Nb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function OE(){var n=Lp;return Lp<<=1,!(Lp&4194240)&&(Lp=64),n}function g0(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function pp(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-sr(t),n[t]=e}function F2(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var r=31-sr(e),s=1<<r;t[r]=0,i[r]=-1,n[r]=-1,e&=~s}}function cv(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-sr(e),r=1<<i;r&t|n[i]&t&&(n[i]|=t),e&=~r}}var It=0;function FE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var NE,hv,zE,BE,jE,zb=!1,Dp=[],Oo=null,Fo=null,No=null,md=new Map,yd=new Map,Qs=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h_(n,t){switch(n){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":md.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(t.pointerId)}}function ah(n,t,e,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=mp(t),t!==null&&hv(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),n)}function z2(n,t,e,i,r){switch(t){case"focusin":return Oo=ah(Oo,n,t,e,i,r),!0;case"dragenter":return Fo=ah(Fo,n,t,e,i,r),!0;case"mouseover":return No=ah(No,n,t,e,i,r),!0;case"pointerover":var s=r.pointerId;return md.set(s,ah(md.get(s)||null,n,t,e,i,r)),!0;case"gotpointercapture":return s=r.pointerId,yd.set(s,ah(yd.get(s)||null,n,t,e,i,r)),!0}return!1}function HE(n){var t=ba(n.target);if(t!==null){var e=Wl(t);if(e!==null){if(t=e.tag,t===13){if(t=PE(e),t!==null){n.blockedOn=t,jE(n.priority,function(){zE(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pg(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Bb(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);Ib=i,e.target.dispatchEvent(i),Ib=null}else return t=mp(e),t!==null&&hv(t),n.blockedOn=e,!1;t.shift()}return!0}function d_(n,t,e){pg(n)&&e.delete(t)}function B2(){zb=!1,Oo!==null&&pg(Oo)&&(Oo=null),Fo!==null&&pg(Fo)&&(Fo=null),No!==null&&pg(No)&&(No=null),md.forEach(d_),yd.forEach(d_)}function lh(n,t){n.blockedOn===t&&(n.blockedOn=null,zb||(zb=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,B2)))}function bd(n){function t(r){return lh(r,n)}if(0<Dp.length){lh(Dp[0],n);for(var e=1;e<Dp.length;e++){var i=Dp[e];i.blockedOn===n&&(i.blockedOn=null)}}for(Oo!==null&&lh(Oo,n),Fo!==null&&lh(Fo,n),No!==null&&lh(No,n),md.forEach(t),yd.forEach(t),e=0;e<Qs.length;e++)i=Qs[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<Qs.length&&(e=Qs[0],e.blockedOn===null);)HE(e),e.blockedOn===null&&Qs.shift()}var ku=$s.ReactCurrentBatchConfig,gm=!0;function j2(n,t,e,i){var r=It,s=ku.transition;ku.transition=null;try{It=1,dv(n,t,e,i)}finally{It=r,ku.transition=s}}function H2(n,t,e,i){var r=It,s=ku.transition;ku.transition=null;try{It=4,dv(n,t,e,i)}finally{It=r,ku.transition=s}}function dv(n,t,e,i){if(gm){var r=Bb(n,t,e,i);if(r===null)A0(n,t,i,mm,e),h_(n,i);else if(z2(r,n,t,e,i))i.stopPropagation();else if(h_(n,i),t&4&&-1<N2.indexOf(n)){for(;r!==null;){var s=mp(r);if(s!==null&&NE(s),s=Bb(n,t,e,i),s===null&&A0(n,t,i,mm,e),s===r)break;r=s}r!==null&&i.stopPropagation()}else A0(n,t,i,null,e)}}var mm=null;function Bb(n,t,e,i){if(mm=null,n=lv(i),n=ba(n),n!==null)if(t=Wl(n),t===null)n=null;else if(e=t.tag,e===13){if(n=PE(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return mm=n,null}function $E(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T2()){case uv:return 1;case IE:return 4;case fm:case P2:return 16;case DE:return 536870912;default:return 16}default:return 16}}var Ro=null,fv=null,gg=null;function UE(){if(gg)return gg;var n,t=fv,e=t.length,i,r="value"in Ro?Ro.value:Ro.textContent,s=r.length;for(n=0;n<e&&t[n]===r[n];n++);var o=e-n;for(i=1;i<=o&&t[e-i]===r[s-i];i++);return gg=r.slice(n,1<i?1-i:void 0)}function mg(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Op(){return!0}function f_(){return!1}function mi(n){function t(e,i,r,s,o){this._reactName=e,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],this[a]=e?e(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Op:f_,this.isPropagationStopped=f_,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Op)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Op)},persist:function(){},isPersistent:Op}),t}var Xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pv=mi(Xc),gp=re({},Xc,{view:0,detail:0}),$2=mi(gp),m0,y0,uh,Ey=re({},gp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==uh&&(uh&&n.type==="mousemove"?(m0=n.screenX-uh.screenX,y0=n.screenY-uh.screenY):y0=m0=0,uh=n),m0)},movementY:function(n){return"movementY"in n?n.movementY:y0}}),p_=mi(Ey),U2=re({},Ey,{dataTransfer:0}),V2=mi(U2),W2=re({},gp,{relatedTarget:0}),b0=mi(W2),G2=re({},Xc,{animationName:0,elapsedTime:0,pseudoElement:0}),q2=mi(G2),X2=re({},Xc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Y2=mi(X2),K2=re({},Xc,{data:0}),g_=mi(K2),Q2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tI(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Z2[n])?!!t[n]:!1}function gv(){return tI}var eI=re({},gp,{key:function(n){if(n.key){var t=Q2[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=mg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?J2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gv,charCode:function(n){return n.type==="keypress"?mg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nI=mi(eI),iI=re({},Ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m_=mi(iI),rI=re({},gp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gv}),sI=mi(rI),oI=re({},Xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),aI=mi(oI),lI=re({},Ey,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),uI=mi(lI),cI=[9,13,27,32],mv=Os&&"CompositionEvent"in window,Qh=null;Os&&"documentMode"in document&&(Qh=document.documentMode);var hI=Os&&"TextEvent"in window&&!Qh,VE=Os&&(!mv||Qh&&8<Qh&&11>=Qh),y_=" ",b_=!1;function WE(n,t){switch(n){case"keyup":return cI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var uu=!1;function dI(n,t){switch(n){case"compositionend":return GE(t);case"keypress":return t.which!==32?null:(b_=!0,y_);case"textInput":return n=t.data,n===y_&&b_?null:n;default:return null}}function fI(n,t){if(uu)return n==="compositionend"||!mv&&WE(n,t)?(n=UE(),gg=fv=Ro=null,uu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VE&&t.locale!=="ko"?null:t.data;default:return null}}var pI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x_(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!pI[n.type]:t==="textarea"}function qE(n,t,e,i){kE(i),t=ym(t,"onChange"),0<t.length&&(e=new pv("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var Jh=null,xd=null;function gI(n){rC(n,0)}function Cy(n){var t=du(n);if(yE(t))return n}function mI(n,t){if(n==="change")return t}var XE=!1;if(Os){var x0;if(Os){var w0="oninput"in document;if(!w0){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),w0=typeof w_.oninput=="function"}x0=w0}else x0=!1;XE=x0&&(!document.documentMode||9<document.documentMode)}function v_(){Jh&&(Jh.detachEvent("onpropertychange",YE),xd=Jh=null)}function YE(n){if(n.propertyName==="value"&&Cy(xd)){var t=[];qE(t,xd,n,lv(n)),TE(gI,t)}}function yI(n,t,e){n==="focusin"?(v_(),Jh=t,xd=e,Jh.attachEvent("onpropertychange",YE)):n==="focusout"&&v_()}function bI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cy(xd)}function xI(n,t){if(n==="click")return Cy(t)}function wI(n,t){if(n==="input"||n==="change")return Cy(t)}function vI(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var lr=typeof Object.is=="function"?Object.is:vI;function wd(n,t){if(lr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var r=e[i];if(!vb.call(t,r)||!lr(n[r],t[r]))return!1}return!0}function __(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function S_(n,t){var e=__(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=__(e)}}function KE(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?KE(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function QE(){for(var n=window,t=cm();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=cm(n.document)}return t}function yv(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function _I(n){var t=QE(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&KE(e.ownerDocument.documentElement,e)){if(i!==null&&yv(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var r=e.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=S_(e,s);var o=S_(e,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var SI=Os&&"documentMode"in document&&11>=document.documentMode,cu=null,jb=null,Zh=null,Hb=!1;function k_(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Hb||cu==null||cu!==cm(i)||(i=cu,"selectionStart"in i&&yv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zh&&wd(Zh,i)||(Zh=i,i=ym(jb,"onSelect"),0<i.length&&(t=new pv("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=cu)))}function Fp(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var hu={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},v0={},JE={};Os&&(JE=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function Ty(n){if(v0[n])return v0[n];if(!hu[n])return n;var t=hu[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in JE)return v0[n]=t[e];return n}var ZE=Ty("animationend"),tC=Ty("animationiteration"),eC=Ty("animationstart"),nC=Ty("transitionend"),iC=new Map,A_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(n,t){iC.set(n,t),Vl(t,[n])}for(var _0=0;_0<A_.length;_0++){var S0=A_[_0],kI=S0.toLowerCase(),AI=S0[0].toUpperCase()+S0.slice(1);Jo(kI,"on"+AI)}Jo(ZE,"onAnimationEnd");Jo(tC,"onAnimationIteration");Jo(eC,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(nC,"onTransitionEnd");Nc("onMouseEnter",["mouseout","mouseover"]);Nc("onMouseLeave",["mouseout","mouseover"]);Nc("onPointerEnter",["pointerout","pointerover"]);Nc("onPointerLeave",["pointerout","pointerover"]);Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function E_(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,k2(i,t,void 0,n),n.currentTarget=null}function rC(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;E_(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;E_(r,a,u),s=l}}}if(dm)throw n=Fb,dm=!1,Fb=null,n}function Ut(n,t){var e=t[Gb];e===void 0&&(e=t[Gb]=new Set);var i=n+"__bubble";e.has(i)||(sC(t,n,2,!1),e.add(i))}function k0(n,t,e){var i=0;t&&(i|=4),sC(e,n,i,t)}var Np="_reactListening"+Math.random().toString(36).slice(2);function vd(n){if(!n[Np]){n[Np]=!0,dE.forEach(function(e){e!=="selectionchange"&&(EI.has(e)||k0(e,!1,n),k0(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Np]||(t[Np]=!0,k0("selectionchange",!1,t))}}function sC(n,t,e,i){switch($E(t)){case 1:var r=j2;break;case 4:r=H2;break;default:r=dv}e=r.bind(null,t,e,n),r=void 0,!Ob||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(t,e,{capture:!0,passive:r}):n.addEventListener(t,e,!0):r!==void 0?n.addEventListener(t,e,{passive:r}):n.addEventListener(t,e,!1)}function A0(n,t,e,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ba(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}TE(function(){var u=s,c=lv(e),d=[];t:{var f=iC.get(n);if(f!==void 0){var p=pv,g=n;switch(n){case"keypress":if(mg(e)===0)break t;case"keydown":case"keyup":p=nI;break;case"focusin":g="focus",p=b0;break;case"focusout":g="blur",p=b0;break;case"beforeblur":case"afterblur":p=b0;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=p_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=V2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sI;break;case ZE:case tC:case eC:p=q2;break;case nC:p=aI;break;case"scroll":p=$2;break;case"wheel":p=uI;break;case"copy":case"cut":case"paste":p=Y2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=m_}var m=(t&4)!==0,x=!m&&n==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var b=u,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=gd(b,y),k!=null&&m.push(_d(b,k,w)))),x)break;b=b.return}0<m.length&&(f=new p(f,g,null,e,c),d.push({event:f,listeners:m}))}}if(!(t&7)){t:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&e!==Ib&&(g=e.relatedTarget||e.fromElement)&&(ba(g)||g[Fs]))break t;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=e.relatedTarget||e.toElement,p=u,g=g?ba(g):null,g!==null&&(x=Wl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=p_,k="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(m=m_,k="onPointerLeave",y="onPointerEnter",b="pointer"),x=p==null?f:du(p),w=g==null?f:du(g),f=new m(k,b+"leave",p,e,c),f.target=x,f.relatedTarget=w,k=null,ba(c)===u&&(m=new m(y,b+"enter",g,e,c),m.target=w,m.relatedTarget=x,k=m),x=k,p&&g)e:{for(m=p,y=g,b=0,w=m;w;w=Yl(w))b++;for(w=0,k=y;k;k=Yl(k))w++;for(;0<b-w;)m=Yl(m),b--;for(;0<w-b;)y=Yl(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break e;m=Yl(m),y=Yl(y)}m=null}else m=null;p!==null&&C_(d,f,p,m,!1),g!==null&&x!==null&&C_(d,x,g,m,!0)}}t:{if(f=u?du(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=mI;else if(x_(f))if(XE)E=wI;else{E=bI;var A=yI}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=xI);if(E&&(E=E(n,u))){qE(d,E,e,c);break t}A&&A(n,f,u),n==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Tb(f,"number",f.value)}switch(A=u?du(u):window,n){case"focusin":(x_(A)||A.contentEditable==="true")&&(cu=A,jb=u,Zh=null);break;case"focusout":Zh=jb=cu=null;break;case"mousedown":Hb=!0;break;case"contextmenu":case"mouseup":case"dragend":Hb=!1,k_(d,e,c);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":k_(d,e,c)}var C;if(mv)t:{switch(n){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else uu?WE(n,e)&&(R="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(R="onCompositionStart");R&&(VE&&e.locale!=="ko"&&(uu||R!=="onCompositionStart"?R==="onCompositionEnd"&&uu&&(C=UE()):(Ro=c,fv="value"in Ro?Ro.value:Ro.textContent,uu=!0)),A=ym(u,R),0<A.length&&(R=new g_(R,n,null,e,c),d.push({event:R,listeners:A}),C?R.data=C:(C=GE(e),C!==null&&(R.data=C)))),(C=hI?dI(n,e):fI(n,e))&&(u=ym(u,"onBeforeInput"),0<u.length&&(c=new g_("onBeforeInput","beforeinput",null,e,c),d.push({event:c,listeners:u}),c.data=C))}rC(d,t)})}function _d(n,t,e){return{instance:n,listener:t,currentTarget:e}}function ym(n,t){for(var e=t+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=gd(n,e),s!=null&&i.unshift(_d(n,s,r)),s=gd(n,t),s!=null&&i.push(_d(n,s,r))),n=n.return}return i}function Yl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function C_(n,t,e,i,r){for(var s=t._reactName,o=[];e!==null&&e!==i;){var a=e,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=gd(e,s),l!=null&&o.unshift(_d(e,l,a))):r||(l=gd(e,s),l!=null&&o.push(_d(e,l,a)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var CI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function T_(n){return(typeof n=="string"?n:""+n).replace(CI,`
`).replace(TI,"")}function zp(n,t,e){if(t=T_(t),T_(n)!==t&&e)throw Error($(425))}function bm(){}var $b=null,Ub=null;function Vb(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wb=typeof setTimeout=="function"?setTimeout:void 0,PI=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,MI=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(n){return P_.resolve(null).then(n).catch(RI)}:Wb;function RI(n){setTimeout(function(){throw n})}function E0(n,t){var e=t,i=0;do{var r=e.nextSibling;if(n.removeChild(e),r&&r.nodeType===8)if(e=r.data,e==="/$"){if(i===0){n.removeChild(r),bd(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=r}while(e);bd(t)}function zo(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function M_(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var Yc=Math.random().toString(36).slice(2),Br="__reactFiber$"+Yc,Sd="__reactProps$"+Yc,Fs="__reactContainer$"+Yc,Gb="__reactEvents$"+Yc,LI="__reactListeners$"+Yc,II="__reactHandles$"+Yc;function ba(n){var t=n[Br];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Fs]||e[Br]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=M_(n);n!==null;){if(e=n[Br])return e;n=M_(n)}return t}n=e,e=n.parentNode}return null}function mp(n){return n=n[Br]||n[Fs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function du(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error($(33))}function Py(n){return n[Sd]||null}var qb=[],fu=-1;function Zo(n){return{current:n}}function Gt(n){0>fu||(n.current=qb[fu],qb[fu]=null,fu--)}function $t(n,t){fu++,qb[fu]=n.current,n.current=t}var qo={},ln=Zo(qo),jn=Zo(!1),Ll=qo;function zc(n,t){var e=n.type.contextTypes;if(!e)return qo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in e)r[s]=t[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=r),r}function Hn(n){return n=n.childContextTypes,n!=null}function xm(){Gt(jn),Gt(ln)}function R_(n,t,e){if(ln.current!==qo)throw Error($(168));$t(ln,t),$t(jn,e)}function oC(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error($(108,y2(n)||"Unknown",r));return re({},e,i)}function wm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qo,Ll=ln.current,$t(ln,n),$t(jn,jn.current),!0}function L_(n,t,e){var i=n.stateNode;if(!i)throw Error($(169));e?(n=oC(n,t,Ll),i.__reactInternalMemoizedMergedChildContext=n,Gt(jn),Gt(ln),$t(ln,n)):Gt(jn),$t(jn,e)}var ns=null,My=!1,C0=!1;function aC(n){ns===null?ns=[n]:ns.push(n)}function DI(n){My=!0,aC(n)}function ta(){if(!C0&&ns!==null){C0=!0;var n=0,t=It;try{var e=ns;for(It=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}ns=null,My=!1}catch(r){throw ns!==null&&(ns=ns.slice(n+1)),LE(uv,ta),r}finally{It=t,C0=!1}}return null}var pu=[],gu=0,vm=null,_m=0,Ei=[],Ci=0,Il=null,Ms=1,Rs="";function ua(n,t){pu[gu++]=_m,pu[gu++]=vm,vm=n,_m=t}function lC(n,t,e){Ei[Ci++]=Ms,Ei[Ci++]=Rs,Ei[Ci++]=Il,Il=n;var i=Ms;n=Rs;var r=32-sr(i)-1;i&=~(1<<r),e+=1;var s=32-sr(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ms=1<<32-sr(t)+r|e<<r|i,Rs=s+n}else Ms=1<<s|e<<r|i,Rs=n}function bv(n){n.return!==null&&(ua(n,1),lC(n,1,0))}function xv(n){for(;n===vm;)vm=pu[--gu],pu[gu]=null,_m=pu[--gu],pu[gu]=null;for(;n===Il;)Il=Ei[--Ci],Ei[Ci]=null,Rs=Ei[--Ci],Ei[Ci]=null,Ms=Ei[--Ci],Ei[Ci]=null}var ci=null,ui=null,Kt=!1,ir=null;function uC(n,t){var e=Ri(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function I_(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,ci=n,ui=zo(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,ci=n,ui=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Il!==null?{id:Ms,overflow:Rs}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ri(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,ci=n,ui=null,!0):!1;default:return!1}}function Xb(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Yb(n){if(Kt){var t=ui;if(t){var e=t;if(!I_(n,t)){if(Xb(n))throw Error($(418));t=zo(e.nextSibling);var i=ci;t&&I_(n,t)?uC(i,e):(n.flags=n.flags&-4097|2,Kt=!1,ci=n)}}else{if(Xb(n))throw Error($(418));n.flags=n.flags&-4097|2,Kt=!1,ci=n}}}function D_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ci=n}function Bp(n){if(n!==ci)return!1;if(!Kt)return D_(n),Kt=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Vb(n.type,n.memoizedProps)),t&&(t=ui)){if(Xb(n))throw cC(),Error($(418));for(;t;)uC(n,t),t=zo(t.nextSibling)}if(D_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error($(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){ui=zo(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}ui=null}}else ui=ci?zo(n.stateNode.nextSibling):null;return!0}function cC(){for(var n=ui;n;)n=zo(n.nextSibling)}function Bc(){ui=ci=null,Kt=!1}function wv(n){ir===null?ir=[n]:ir.push(n)}var OI=$s.ReactCurrentBatchConfig;function ch(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error($(309));var i=e.stateNode}if(!i)throw Error($(147,n));var r=i,s=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof n!="string")throw Error($(284));if(!e._owner)throw Error($(290,n))}return n}function jp(n,t){throw n=Object.prototype.toString.call(t),Error($(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function O_(n){var t=n._init;return t(n._payload)}function hC(n){function t(y,b){if(n){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function e(y,b){if(!n)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function i(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function r(y,b){return y=$o(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,b,w,k){return b===null||b.tag!==6?(b=D0(w,y.mode,k),b.return=y,b):(b=r(b,w),b.return=y,b)}function l(y,b,w,k){var E=w.type;return E===lu?c(y,b,w.props.children,k,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ys&&O_(E)===b.type)?(k=r(b,w.props),k.ref=ch(y,b,w),k.return=y,k):(k=Sg(w.type,w.key,w.props,null,y.mode,k),k.ref=ch(y,b,w),k.return=y,k)}function u(y,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=O0(w,y.mode,k),b.return=y,b):(b=r(b,w.children||[]),b.return=y,b)}function c(y,b,w,k,E){return b===null||b.tag!==7?(b=Pl(w,y.mode,k,E),b.return=y,b):(b=r(b,w),b.return=y,b)}function d(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=D0(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pp:return w=Sg(b.type,b.key,b.props,null,y.mode,w),w.ref=ch(y,null,b),w.return=y,w;case au:return b=O0(b,y.mode,w),b.return=y,b;case Ys:var k=b._init;return d(y,k(b._payload),w)}if(Eh(b)||sh(b))return b=Pl(b,y.mode,w,null),b.return=y,b;jp(y,b)}return null}function f(y,b,w,k){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(y,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pp:return w.key===E?l(y,b,w,k):null;case au:return w.key===E?u(y,b,w,k):null;case Ys:return E=w._init,f(y,b,E(w._payload),k)}if(Eh(w)||sh(w))return E!==null?null:c(y,b,w,k,null);jp(y,w)}return null}function p(y,b,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,a(b,y,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Pp:return y=y.get(k.key===null?w:k.key)||null,l(b,y,k,E);case au:return y=y.get(k.key===null?w:k.key)||null,u(b,y,k,E);case Ys:var A=k._init;return p(y,b,w,A(k._payload),E)}if(Eh(k)||sh(k))return y=y.get(w)||null,c(b,y,k,E,null);jp(b,k)}return null}function g(y,b,w,k){for(var E=null,A=null,C=b,R=b=0,L=null;C!==null&&R<w.length;R++){C.index>R?(L=C,C=null):L=C.sibling;var P=f(y,C,w[R],k);if(P===null){C===null&&(C=L);break}n&&C&&P.alternate===null&&t(y,C),b=s(P,b,R),A===null?E=P:A.sibling=P,A=P,C=L}if(R===w.length)return e(y,C),Kt&&ua(y,R),E;if(C===null){for(;R<w.length;R++)C=d(y,w[R],k),C!==null&&(b=s(C,b,R),A===null?E=C:A.sibling=C,A=C);return Kt&&ua(y,R),E}for(C=i(y,C);R<w.length;R++)L=p(C,y,R,w[R],k),L!==null&&(n&&L.alternate!==null&&C.delete(L.key===null?R:L.key),b=s(L,b,R),A===null?E=L:A.sibling=L,A=L);return n&&C.forEach(function(I){return t(y,I)}),Kt&&ua(y,R),E}function m(y,b,w,k){var E=sh(w);if(typeof E!="function")throw Error($(150));if(w=E.call(w),w==null)throw Error($(151));for(var A=E=null,C=b,R=b=0,L=null,P=w.next();C!==null&&!P.done;R++,P=w.next()){C.index>R?(L=C,C=null):L=C.sibling;var I=f(y,C,P.value,k);if(I===null){C===null&&(C=L);break}n&&C&&I.alternate===null&&t(y,C),b=s(I,b,R),A===null?E=I:A.sibling=I,A=I,C=L}if(P.done)return e(y,C),Kt&&ua(y,R),E;if(C===null){for(;!P.done;R++,P=w.next())P=d(y,P.value,k),P!==null&&(b=s(P,b,R),A===null?E=P:A.sibling=P,A=P);return Kt&&ua(y,R),E}for(C=i(y,C);!P.done;R++,P=w.next())P=p(C,y,R,P.value,k),P!==null&&(n&&P.alternate!==null&&C.delete(P.key===null?R:P.key),b=s(P,b,R),A===null?E=P:A.sibling=P,A=P);return n&&C.forEach(function(F){return t(y,F)}),Kt&&ua(y,R),E}function x(y,b,w,k){if(typeof w=="object"&&w!==null&&w.type===lu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Pp:t:{for(var E=w.key,A=b;A!==null;){if(A.key===E){if(E=w.type,E===lu){if(A.tag===7){e(y,A.sibling),b=r(A,w.props.children),b.return=y,y=b;break t}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ys&&O_(E)===A.type){e(y,A.sibling),b=r(A,w.props),b.ref=ch(y,A,w),b.return=y,y=b;break t}e(y,A);break}else t(y,A);A=A.sibling}w.type===lu?(b=Pl(w.props.children,y.mode,k,w.key),b.return=y,y=b):(k=Sg(w.type,w.key,w.props,null,y.mode,k),k.ref=ch(y,b,w),k.return=y,y=k)}return o(y);case au:t:{for(A=w.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){e(y,b.sibling),b=r(b,w.children||[]),b.return=y,y=b;break t}else{e(y,b);break}else t(y,b);b=b.sibling}b=O0(w,y.mode,k),b.return=y,y=b}return o(y);case Ys:return A=w._init,x(y,b,A(w._payload),k)}if(Eh(w))return g(y,b,w,k);if(sh(w))return m(y,b,w,k);jp(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(e(y,b.sibling),b=r(b,w),b.return=y,y=b):(e(y,b),b=D0(w,y.mode,k),b.return=y,y=b),o(y)):e(y,b)}return x}var jc=hC(!0),dC=hC(!1),Sm=Zo(null),km=null,mu=null,vv=null;function _v(){vv=mu=km=null}function Sv(n){var t=Sm.current;Gt(Sm),n._currentValue=t}function Kb(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function Au(n,t){km=n,vv=mu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(zn=!0),n.firstContext=null)}function Oi(n){var t=n._currentValue;if(vv!==n)if(n={context:n,memoizedValue:t,next:null},mu===null){if(km===null)throw Error($(308));mu=n,km.dependencies={lanes:0,firstContext:n}}else mu=mu.next=n;return t}var xa=null;function kv(n){xa===null?xa=[n]:xa.push(n)}function fC(n,t,e,i){var r=t.interleaved;return r===null?(e.next=e,kv(t)):(e.next=r.next,r.next=e),t.interleaved=e,Ns(n,i)}function Ns(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Ks=!1;function Av(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pC(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ls(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,kt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ns(n,e)}return r=i.interleaved,r===null?(t.next=t,kv(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ns(n,e)}function yg(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,cv(n,e)}}function F_(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var r=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?r=s=o:s=s.next=o,e=e.next}while(e!==null);s===null?r=s=t:s=s.next=t}else r=s=t;e={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Am(n,t,e,i){var r=n.updateQueue;Ks=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=n,m=a;switch(f=t,p=e,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break t}d=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break t;d=re({},d,f);break t;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(c===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Ol|=o,n.lanes=o,n.memoizedState=d}}function N_(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],r=i.callback;if(r!==null){if(i.callback=null,i=e,typeof r!="function")throw Error($(191,r));r.call(i)}}}var yp={},Hr=Zo(yp),kd=Zo(yp),Ad=Zo(yp);function wa(n){if(n===yp)throw Error($(174));return n}function Ev(n,t){switch($t(Ad,t),$t(kd,n),$t(Hr,yp),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mb(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Mb(t,n)}Gt(Hr),$t(Hr,t)}function Hc(){Gt(Hr),Gt(kd),Gt(Ad)}function gC(n){wa(Ad.current);var t=wa(Hr.current),e=Mb(t,n.type);t!==e&&($t(kd,n),$t(Hr,e))}function Cv(n){kd.current===n&&(Gt(Hr),Gt(kd))}var ee=Zo(0);function Em(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var T0=[];function Tv(){for(var n=0;n<T0.length;n++)T0[n]._workInProgressVersionPrimary=null;T0.length=0}var bg=$s.ReactCurrentDispatcher,P0=$s.ReactCurrentBatchConfig,Dl=0,ie=null,_e=null,Le=null,Cm=!1,td=!1,Ed=0,FI=0;function We(){throw Error($(321))}function Pv(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!lr(n[e],t[e]))return!1;return!0}function Mv(n,t,e,i,r,s){if(Dl=s,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bg.current=n===null||n.memoizedState===null?jI:HI,n=e(i,r),td){s=0;do{if(td=!1,Ed=0,25<=s)throw Error($(301));s+=1,Le=_e=null,t.updateQueue=null,bg.current=$I,n=e(i,r)}while(td)}if(bg.current=Tm,t=_e!==null&&_e.next!==null,Dl=0,Le=_e=ie=null,Cm=!1,t)throw Error($(300));return n}function Rv(){var n=Ed!==0;return Ed=0,n}function xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ie.memoizedState=Le=n:Le=Le.next=n,Le}function Fi(){if(_e===null){var n=ie.alternate;n=n!==null?n.memoizedState:null}else n=_e.next;var t=Le===null?ie.memoizedState:Le.next;if(t!==null)Le=t,_e=n;else{if(n===null)throw Error($(310));_e=n,n={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Le===null?ie.memoizedState=Le=n:Le=Le.next=n}return Le}function Cd(n,t){return typeof t=="function"?t(n):t}function M0(n){var t=Fi(),e=t.queue;if(e===null)throw Error($(311));e.lastRenderedReducer=n;var i=_e,r=i.baseQueue,s=e.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,e.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Dl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,ie.lanes|=c,Ol|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,lr(i,t.memoizedState)||(zn=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,e.lastRenderedState=i}if(n=e.interleaved,n!==null){r=n;do s=r.lane,ie.lanes|=s,Ol|=s,r=r.next;while(r!==n)}else r===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function R0(n){var t=Fi(),e=t.queue;if(e===null)throw Error($(311));e.lastRenderedReducer=n;var i=e.dispatch,r=e.pending,s=t.memoizedState;if(r!==null){e.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);lr(s,t.memoizedState)||(zn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,i]}function mC(){}function yC(n,t){var e=ie,i=Fi(),r=t(),s=!lr(i.memoizedState,r);if(s&&(i.memoizedState=r,zn=!0),i=i.queue,Lv(wC.bind(null,e,i,n),[n]),i.getSnapshot!==t||s||Le!==null&&Le.memoizedState.tag&1){if(e.flags|=2048,Td(9,xC.bind(null,e,i,r,t),void 0,null),Ie===null)throw Error($(349));Dl&30||bC(e,t,r)}return r}function bC(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function xC(n,t,e,i){t.value=e,t.getSnapshot=i,vC(t)&&_C(n)}function wC(n,t,e){return e(function(){vC(t)&&_C(n)})}function vC(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!lr(n,e)}catch{return!0}}function _C(n){var t=Ns(n,1);t!==null&&or(t,n,1,-1)}function z_(n){var t=xr();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:n},t.queue=n,n=n.dispatch=BI.bind(null,ie,n),[t.memoizedState,n]}function Td(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function SC(){return Fi().memoizedState}function xg(n,t,e,i){var r=xr();ie.flags|=n,r.memoizedState=Td(1|t,e,void 0,i===void 0?null:i)}function Ry(n,t,e,i){var r=Fi();i=i===void 0?null:i;var s=void 0;if(_e!==null){var o=_e.memoizedState;if(s=o.destroy,i!==null&&Pv(i,o.deps)){r.memoizedState=Td(t,e,s,i);return}}ie.flags|=n,r.memoizedState=Td(1|t,e,s,i)}function B_(n,t){return xg(8390656,8,n,t)}function Lv(n,t){return Ry(2048,8,n,t)}function kC(n,t){return Ry(4,2,n,t)}function AC(n,t){return Ry(4,4,n,t)}function EC(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function CC(n,t,e){return e=e!=null?e.concat([n]):null,Ry(4,4,EC.bind(null,t,n),e)}function Iv(){}function TC(n,t){var e=Fi();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&Pv(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function PC(n,t){var e=Fi();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&Pv(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function MC(n,t,e){return Dl&21?(lr(e,t)||(e=OE(),ie.lanes|=e,Ol|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,zn=!0),n.memoizedState=e)}function NI(n,t){var e=It;It=e!==0&&4>e?e:4,n(!0);var i=P0.transition;P0.transition={};try{n(!1),t()}finally{It=e,P0.transition=i}}function RC(){return Fi().memoizedState}function zI(n,t,e){var i=Ho(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},LC(n))IC(t,e);else if(e=fC(n,t,e,i),e!==null){var r=xn();or(e,n,i,r),DC(e,t,i)}}function BI(n,t,e){var i=Ho(n),r={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(LC(n))IC(t,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,e);if(r.hasEagerState=!0,r.eagerState=a,lr(a,o)){var l=t.interleaved;l===null?(r.next=r,kv(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}e=fC(n,t,r,i),e!==null&&(r=xn(),or(e,n,i,r),DC(e,t,i))}}function LC(n){var t=n.alternate;return n===ie||t!==null&&t===ie}function IC(n,t){td=Cm=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function DC(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,cv(n,e)}}var Tm={readContext:Oi,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},jI={readContext:Oi,useCallback:function(n,t){return xr().memoizedState=[n,t===void 0?null:t],n},useContext:Oi,useEffect:B_,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,xg(4194308,4,EC.bind(null,t,n),e)},useLayoutEffect:function(n,t){return xg(4194308,4,n,t)},useInsertionEffect:function(n,t){return xg(4,2,n,t)},useMemo:function(n,t){var e=xr();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=xr();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=zI.bind(null,ie,n),[i.memoizedState,n]},useRef:function(n){var t=xr();return n={current:n},t.memoizedState=n},useState:z_,useDebugValue:Iv,useDeferredValue:function(n){return xr().memoizedState=n},useTransition:function(){var n=z_(!1),t=n[0];return n=NI.bind(null,n[1]),xr().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=ie,r=xr();if(Kt){if(e===void 0)throw Error($(407));e=e()}else{if(e=t(),Ie===null)throw Error($(349));Dl&30||bC(i,t,e)}r.memoizedState=e;var s={value:e,getSnapshot:t};return r.queue=s,B_(wC.bind(null,i,s,n),[n]),i.flags|=2048,Td(9,xC.bind(null,i,s,e,t),void 0,null),e},useId:function(){var n=xr(),t=Ie.identifierPrefix;if(Kt){var e=Rs,i=Ms;e=(i&~(1<<32-sr(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=Ed++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=FI++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},HI={readContext:Oi,useCallback:TC,useContext:Oi,useEffect:Lv,useImperativeHandle:CC,useInsertionEffect:kC,useLayoutEffect:AC,useMemo:PC,useReducer:M0,useRef:SC,useState:function(){return M0(Cd)},useDebugValue:Iv,useDeferredValue:function(n){var t=Fi();return MC(t,_e.memoizedState,n)},useTransition:function(){var n=M0(Cd)[0],t=Fi().memoizedState;return[n,t]},useMutableSource:mC,useSyncExternalStore:yC,useId:RC,unstable_isNewReconciler:!1},$I={readContext:Oi,useCallback:TC,useContext:Oi,useEffect:Lv,useImperativeHandle:CC,useInsertionEffect:kC,useLayoutEffect:AC,useMemo:PC,useReducer:R0,useRef:SC,useState:function(){return R0(Cd)},useDebugValue:Iv,useDeferredValue:function(n){var t=Fi();return _e===null?t.memoizedState=n:MC(t,_e.memoizedState,n)},useTransition:function(){var n=R0(Cd)[0],t=Fi().memoizedState;return[n,t]},useMutableSource:mC,useSyncExternalStore:yC,useId:RC,unstable_isNewReconciler:!1};function $i(n,t){if(n&&n.defaultProps){t=re({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Qb(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:re({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var Ly={isMounted:function(n){return(n=n._reactInternals)?Wl(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=xn(),r=Ho(n),s=Ls(i,r);s.payload=t,e!=null&&(s.callback=e),t=Bo(n,s,r),t!==null&&(or(t,n,r,i),yg(t,n,r))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=xn(),r=Ho(n),s=Ls(i,r);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=Bo(n,s,r),t!==null&&(or(t,n,r,i),yg(t,n,r))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=xn(),i=Ho(n),r=Ls(e,i);r.tag=2,t!=null&&(r.callback=t),t=Bo(n,r,i),t!==null&&(or(t,n,i,e),yg(t,n,i))}};function j_(n,t,e,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!wd(e,i)||!wd(r,s):!0}function OC(n,t,e){var i=!1,r=qo,s=t.contextType;return typeof s=="object"&&s!==null?s=Oi(s):(r=Hn(t)?Ll:ln.current,i=t.contextTypes,s=(i=i!=null)?zc(n,r):qo),t=new t(e,s),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ly,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),t}function H_(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&Ly.enqueueReplaceState(t,t.state,null)}function Jb(n,t,e,i){var r=n.stateNode;r.props=e,r.state=n.memoizedState,r.refs={},Av(n);var s=t.contextType;typeof s=="object"&&s!==null?r.context=Oi(s):(s=Hn(t)?Ll:ln.current,r.context=zc(n,s)),r.state=n.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qb(n,t,s,e),r.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ly.enqueueReplaceState(r,r.state,null),Am(n,e,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function $c(n,t){try{var e="",i=t;do e+=m2(i),i=i.return;while(i);var r=e}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:t,stack:r,digest:null}}function L0(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function Zb(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var UI=typeof WeakMap=="function"?WeakMap:Map;function FC(n,t,e){e=Ls(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){Mm||(Mm=!0,ux=i),Zb(n,t)},e}function NC(n,t,e){e=Ls(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;e.payload=function(){return i(r)},e.callback=function(){Zb(n,t)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Zb(n,t),typeof i!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function $_(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new UI;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(e)||(r.add(e),n=iD.bind(null,n,t,e),t.then(n,n))}function U_(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function V_(n,t,e,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Ls(-1,1),t.tag=2,Bo(e,t,1))),e.lanes|=1),n)}var VI=$s.ReactCurrentOwner,zn=!1;function yn(n,t,e,i){t.child=n===null?dC(t,null,e,i):jc(t,n.child,e,i)}function W_(n,t,e,i,r){e=e.render;var s=t.ref;return Au(t,r),i=Mv(n,t,e,i,s,r),e=Rv(),n!==null&&!zn?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~r,zs(n,t,r)):(Kt&&e&&bv(t),t.flags|=1,yn(n,t,i,r),t.child)}function G_(n,t,e,i,r){if(n===null){var s=e.type;return typeof s=="function"&&!Hv(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,zC(n,t,s,i,r)):(n=Sg(e.type,null,i,t,t.mode,r),n.ref=t.ref,n.return=t,t.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(e=e.compare,e=e!==null?e:wd,e(o,i)&&n.ref===t.ref)return zs(n,t,r)}return t.flags|=1,n=$o(s,i),n.ref=t.ref,n.return=t,t.child=n}function zC(n,t,e,i,r){if(n!==null){var s=n.memoizedProps;if(wd(s,i)&&n.ref===t.ref)if(zn=!1,t.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(zn=!0);else return t.lanes=n.lanes,zs(n,t,r)}return tx(n,t,e,i,r)}function BC(n,t,e){var i=t.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(bu,oi),oi|=e;else{if(!(e&1073741824))return n=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,$t(bu,oi),oi|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:e,$t(bu,oi),oi|=i}else s!==null?(i=s.baseLanes|e,t.memoizedState=null):i=e,$t(bu,oi),oi|=i;return yn(n,t,r,e),t.child}function jC(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function tx(n,t,e,i,r){var s=Hn(e)?Ll:ln.current;return s=zc(t,s),Au(t,r),e=Mv(n,t,e,i,s,r),i=Rv(),n!==null&&!zn?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~r,zs(n,t,r)):(Kt&&i&&bv(t),t.flags|=1,yn(n,t,e,r),t.child)}function q_(n,t,e,i,r){if(Hn(e)){var s=!0;wm(t)}else s=!1;if(Au(t,r),t.stateNode===null)wg(n,t),OC(t,e,i),Jb(t,e,i,r),i=!0;else if(n===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=Oi(u):(u=Hn(e)?Ll:ln.current,u=zc(t,u));var c=e.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&H_(t,o,i,u),Ks=!1;var f=t.memoizedState;o.state=f,Am(t,i,o,r),l=t.memoizedState,a!==i||f!==l||jn.current||Ks?(typeof c=="function"&&(Qb(t,e,c,i),l=t.memoizedState),(a=Ks||j_(t,e,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,pC(n,t),a=t.memoizedProps,u=t.type===t.elementType?a:$i(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=e.contextType,typeof l=="object"&&l!==null?l=Oi(l):(l=Hn(e)?Ll:ln.current,l=zc(t,l));var p=e.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&H_(t,o,i,l),Ks=!1,f=t.memoizedState,o.state=f,Am(t,i,o,r);var g=t.memoizedState;a!==d||f!==g||jn.current||Ks?(typeof p=="function"&&(Qb(t,e,p,i),g=t.memoizedState),(u=Ks||j_(t,e,u,i,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),o.props=i,o.state=g,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),i=!1)}return ex(n,t,e,i,s,r)}function ex(n,t,e,i,r,s){jC(n,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&L_(t,e,!1),zs(n,t,s);i=t.stateNode,VI.current=t;var a=o&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&o?(t.child=jc(t,n.child,null,s),t.child=jc(t,null,a,s)):yn(n,t,a,s),t.memoizedState=i.state,r&&L_(t,e,!0),t.child}function HC(n){var t=n.stateNode;t.pendingContext?R_(n,t.pendingContext,t.pendingContext!==t.context):t.context&&R_(n,t.context,!1),Ev(n,t.containerInfo)}function X_(n,t,e,i,r){return Bc(),wv(r),t.flags|=256,yn(n,t,e,i),t.child}var nx={dehydrated:null,treeContext:null,retryLane:0};function ix(n){return{baseLanes:n,cachePool:null,transitions:null}}function $C(n,t,e){var i=t.pendingProps,r=ee.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),$t(ee,r&1),n===null)return Yb(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,n=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Oy(o,i,0,null),n=Pl(n,i,e,null),s.return=t,n.return=t,s.sibling=n,t.child=s,t.child.memoizedState=ix(e),t.memoizedState=nx,n):Dv(t,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return WI(n,t,o,i,a,r,e);if(s){s=i.fallback,o=t.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=$o(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=$o(a,s):(s=Pl(s,o,e,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=n.child.memoizedState,o=o===null?ix(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~e,t.memoizedState=nx,i}return s=n.child,n=s.sibling,i=$o(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function Dv(n,t){return t=Oy({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Hp(n,t,e,i){return i!==null&&wv(i),jc(t,n.child,null,e),n=Dv(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function WI(n,t,e,i,r,s,o){if(e)return t.flags&256?(t.flags&=-257,i=L0(Error($(422))),Hp(n,t,o,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Oy({mode:"visible",children:i.children},r,0,null),s=Pl(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&jc(t,n.child,null,o),t.child.memoizedState=ix(o),t.memoizedState=nx,s);if(!(t.mode&1))return Hp(n,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error($(419)),i=L0(s,i,void 0),Hp(n,t,o,i)}if(a=(o&n.childLanes)!==0,zn||a){if(i=Ie,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ns(n,r),or(i,n,r,-1))}return jv(),i=L0(Error($(421))),Hp(n,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=n.child,t=rD.bind(null,n),r._reactRetry=t,null):(n=s.treeContext,ui=zo(r.nextSibling),ci=t,Kt=!0,ir=null,n!==null&&(Ei[Ci++]=Ms,Ei[Ci++]=Rs,Ei[Ci++]=Il,Ms=n.id,Rs=n.overflow,Il=t),t=Dv(t,i.children),t.flags|=4096,t)}function Y_(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),Kb(n.return,t,e)}function I0(n,t,e,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=e,s.tailMode=r)}function UC(n,t,e){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(yn(n,t,i.children,e),i=ee.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Y_(n,e,t);else if(n.tag===19)Y_(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if($t(ee,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(e=t.child,r=null;e!==null;)n=e.alternate,n!==null&&Em(n)===null&&(r=e),e=e.sibling;e=r,e===null?(r=t.child,t.child=null):(r=e.sibling,e.sibling=null),I0(t,!1,r,e,s);break;case"backwards":for(e=null,r=t.child,t.child=null;r!==null;){if(n=r.alternate,n!==null&&Em(n)===null){t.child=r;break}n=r.sibling,r.sibling=e,e=r,r=n}I0(t,!0,e,null,s);break;case"together":I0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wg(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function zs(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Ol|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error($(153));if(t.child!==null){for(n=t.child,e=$o(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=$o(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function GI(n,t,e){switch(t.tag){case 3:HC(t),Bc();break;case 5:gC(t);break;case 1:Hn(t.type)&&wm(t);break;case 4:Ev(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;$t(Sm,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?($t(ee,ee.current&1),t.flags|=128,null):e&t.child.childLanes?$C(n,t,e):($t(ee,ee.current&1),n=zs(n,t,e),n!==null?n.sibling:null);$t(ee,ee.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return UC(n,t,e);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$t(ee,ee.current),i)break;return null;case 22:case 23:return t.lanes=0,BC(n,t,e)}return zs(n,t,e)}var VC,rx,WC,GC;VC=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};rx=function(){};WC=function(n,t,e,i){var r=n.memoizedProps;if(r!==i){n=t.stateNode,wa(Hr.current);var s=null;switch(e){case"input":r=Eb(n,r),i=Eb(n,i),s=[];break;case"select":r=re({},r,{value:void 0}),i=re({},i,{value:void 0}),s=[];break;case"textarea":r=Pb(n,r),i=Pb(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=bm)}Rb(e,i);var o;e=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(e||(e={}),e[o]=l[o])}else e||(s||(s=[]),s.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ut("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}e&&(s=s||[]).push("style",e);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};GC=function(n,t,e,i){e!==i&&(t.flags|=4)};function hh(n,t){if(!Kt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ge(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var r=n.child;r!==null;)e|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)e|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function qI(n,t,e){var i=t.pendingProps;switch(xv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Hn(t.type)&&xm(),Ge(t),null;case 3:return i=t.stateNode,Hc(),Gt(jn),Gt(ln),Tv(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Bp(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(dx(ir),ir=null))),rx(n,t),Ge(t),null;case 5:Cv(t);var r=wa(Ad.current);if(e=t.type,n!==null&&t.stateNode!=null)WC(n,t,e,i,r),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error($(166));return Ge(t),null}if(n=wa(Hr.current),Bp(t)){i=t.stateNode,e=t.type;var s=t.memoizedProps;switch(i[Br]=t,i[Sd]=s,n=(t.mode&1)!==0,e){case"dialog":Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":case"embed":Ut("load",i);break;case"video":case"audio":for(r=0;r<Th.length;r++)Ut(Th[r],i);break;case"source":Ut("error",i);break;case"img":case"image":case"link":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"input":r_(i,s),Ut("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ut("invalid",i);break;case"textarea":o_(i,s),Ut("invalid",i)}Rb(e,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&zp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zp(i.textContent,a,n),r=["children",""+a]):fd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ut("scroll",i)}switch(e){case"input":Mp(i),s_(i,s,!0);break;case"textarea":Mp(i),a_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=bm)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wE(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(e,{is:i.is}):(n=o.createElement(e),e==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,e),n[Br]=t,n[Sd]=i,VC(n,t,!1,!1),t.stateNode=n;t:{switch(o=Lb(e,i),e){case"dialog":Ut("cancel",n),Ut("close",n),r=i;break;case"iframe":case"object":case"embed":Ut("load",n),r=i;break;case"video":case"audio":for(r=0;r<Th.length;r++)Ut(Th[r],n);r=i;break;case"source":Ut("error",n),r=i;break;case"img":case"image":case"link":Ut("error",n),Ut("load",n),r=i;break;case"details":Ut("toggle",n),r=i;break;case"input":r_(n,i),r=Eb(n,i),Ut("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=re({},i,{value:void 0}),Ut("invalid",n);break;case"textarea":o_(n,i),r=Pb(n,i),Ut("invalid",n);break;default:r=i}Rb(e,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?SE(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vE(n,l)):s==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&pd(n,l):typeof l=="number"&&pd(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ut("scroll",n):l!=null&&rv(n,s,l,o))}switch(e){case"input":Mp(n),s_(n,i,!1);break;case"textarea":Mp(n),a_(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Go(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?vu(n,!!i.multiple,s,!1):i.defaultValue!=null&&vu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=bm)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(n&&t.stateNode!=null)GC(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error($(166));if(e=wa(Ad.current),wa(Hr.current),Bp(t)){if(i=t.stateNode,e=t.memoizedProps,i[Br]=t,(s=i.nodeValue!==e)&&(n=ci,n!==null))switch(n.tag){case 3:zp(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zp(i.nodeValue,e,(n.mode&1)!==0)}s&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[Br]=t,t.stateNode=i}return Ge(t),null;case 13:if(Gt(ee),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Kt&&ui!==null&&t.mode&1&&!(t.flags&128))cC(),Bc(),t.flags|=98560,s=!1;else if(s=Bp(t),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Br]=t}else Bc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),s=!1}else ir!==null&&(dx(ir),ir=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||ee.current&1?ke===0&&(ke=3):jv())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Hc(),rx(n,t),n===null&&vd(t.stateNode.containerInfo),Ge(t),null;case 10:return Sv(t.type._context),Ge(t),null;case 17:return Hn(t.type)&&xm(),Ge(t),null;case 19:if(Gt(ee),s=t.memoizedState,s===null)return Ge(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)hh(s,!1);else{if(ke!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=Em(n),o!==null){for(t.flags|=128,hh(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)s=e,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return $t(ee,ee.current&1|2),t.child}n=n.sibling}s.tail!==null&&ue()>Uc&&(t.flags|=128,i=!0,hh(s,!1),t.lanes=4194304)}else{if(!i)if(n=Em(o),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),hh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Kt)return Ge(t),null}else 2*ue()-s.renderingStartTime>Uc&&e!==1073741824&&(t.flags|=128,i=!0,hh(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ue(),t.sibling=null,e=ee.current,$t(ee,i?e&1|2:e&1),t):(Ge(t),null);case 22:case 23:return Bv(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?oi&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function XI(n,t){switch(xv(t),t.tag){case 1:return Hn(t.type)&&xm(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Hc(),Gt(jn),Gt(ln),Tv(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return Cv(t),null;case 13:if(Gt(ee),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error($(340));Bc()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Gt(ee),null;case 4:return Hc(),null;case 10:return Sv(t.type._context),null;case 22:case 23:return Bv(),null;case 24:return null;default:return null}}var $p=!1,nn=!1,YI=typeof WeakSet=="function"?WeakSet:Set,J=null;function yu(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){oe(n,t,i)}else e.current=null}function sx(n,t,e){try{e()}catch(i){oe(n,t,i)}}var K_=!1;function KI(n,t){if($b=gm,n=QE(),yv(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break t}var o=0,a=-1,l=-1,u=0,c=0,d=n,f=null;e:for(;;){for(var p;d!==e||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break e;if(f===e&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}e=a===-1||l===-1?null:{start:a,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(Ub={focusedElem:n,selectionRange:e},gm=!1,J=t;J!==null;)if(t=J,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,J=n;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:$i(t.type,m),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){oe(t,t.return,k)}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}return g=K_,K_=!1,g}function ed(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&sx(t,e,s)}r=r.next}while(r!==i)}}function Iy(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function ox(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function qC(n){var t=n.alternate;t!==null&&(n.alternate=null,qC(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Br],delete t[Sd],delete t[Gb],delete t[LI],delete t[II])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function XC(n){return n.tag===5||n.tag===3||n.tag===4}function Q_(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||XC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ax(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=bm));else if(i!==4&&(n=n.child,n!==null))for(ax(n,t,e),n=n.sibling;n!==null;)ax(n,t,e),n=n.sibling}function lx(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(lx(n,t,e),n=n.sibling;n!==null;)lx(n,t,e),n=n.sibling}var je=null,nr=!1;function Ws(n,t,e){for(e=e.child;e!==null;)YC(n,t,e),e=e.sibling}function YC(n,t,e){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Ay,e)}catch{}switch(e.tag){case 5:nn||yu(e,t);case 6:var i=je,r=nr;je=null,Ws(n,t,e),je=i,nr=r,je!==null&&(nr?(n=je,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):je.removeChild(e.stateNode));break;case 18:je!==null&&(nr?(n=je,e=e.stateNode,n.nodeType===8?E0(n.parentNode,e):n.nodeType===1&&E0(n,e),bd(n)):E0(je,e.stateNode));break;case 4:i=je,r=nr,je=e.stateNode.containerInfo,nr=!0,Ws(n,t,e),je=i,nr=r;break;case 0:case 11:case 14:case 15:if(!nn&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sx(e,t,o),r=r.next}while(r!==i)}Ws(n,t,e);break;case 1:if(!nn&&(yu(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(a){oe(e,t,a)}Ws(n,t,e);break;case 21:Ws(n,t,e);break;case 22:e.mode&1?(nn=(i=nn)||e.memoizedState!==null,Ws(n,t,e),nn=i):Ws(n,t,e);break;default:Ws(n,t,e)}}function J_(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new YI),t.forEach(function(i){var r=sD.bind(null,n,i);e.has(i)||(e.add(i),i.then(r,r))})}}function ji(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];try{var s=n,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,nr=!1;break t;case 3:je=a.stateNode.containerInfo,nr=!0;break t;case 4:je=a.stateNode.containerInfo,nr=!0;break t}a=a.return}if(je===null)throw Error($(160));YC(s,o,r),je=null,nr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){oe(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)KC(t,n),t=t.sibling}function KC(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ji(t,n),dr(n),i&4){try{ed(3,n,n.return),Iy(3,n)}catch(m){oe(n,n.return,m)}try{ed(5,n,n.return)}catch(m){oe(n,n.return,m)}}break;case 1:ji(t,n),dr(n),i&512&&e!==null&&yu(e,e.return);break;case 5:if(ji(t,n),dr(n),i&512&&e!==null&&yu(e,e.return),n.flags&32){var r=n.stateNode;try{pd(r,"")}catch(m){oe(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=e!==null?e.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bE(r,s),Lb(a,o);var u=Lb(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?SE(r,d):c==="dangerouslySetInnerHTML"?vE(r,d):c==="children"?pd(r,d):rv(r,c,d,u)}switch(a){case"input":Cb(r,s);break;case"textarea":xE(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?vu(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?vu(r,!!s.multiple,s.defaultValue,!0):vu(r,!!s.multiple,s.multiple?[]:"",!1))}r[Sd]=s}catch(m){oe(n,n.return,m)}}break;case 6:if(ji(t,n),dr(n),i&4){if(n.stateNode===null)throw Error($(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){oe(n,n.return,m)}}break;case 3:if(ji(t,n),dr(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{bd(t.containerInfo)}catch(m){oe(n,n.return,m)}break;case 4:ji(t,n),dr(n);break;case 13:ji(t,n),dr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Nv=ue())),i&4&&J_(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(nn=(u=nn)||c,ji(t,n),nn=u):ji(t,n),dr(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(J=n,c=n.child;c!==null;){for(d=J=c;J!==null;){switch(f=J,p=f.child,f.tag){case 0:case 11:case 14:case 15:ed(4,f,f.return);break;case 1:yu(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,e=f.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){oe(i,e,m)}}break;case 5:yu(f,f.return);break;case 22:if(f.memoizedState!==null){tS(d);continue}}p!==null?(p.return=f,J=p):tS(d)}c=c.sibling}t:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_E("display",o))}catch(m){oe(n,n.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){oe(n,n.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ji(t,n),dr(n),i&4&&J_(n);break;case 21:break;default:ji(t,n),dr(n)}}function dr(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(XC(e)){var i=e;break t}e=e.return}throw Error($(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(pd(r,""),i.flags&=-33);var s=Q_(n);lx(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Q_(n);ax(n,a,o);break;default:throw Error($(161))}}catch(l){oe(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function QI(n,t,e){J=n,QC(n)}function QC(n,t,e){for(var i=(n.mode&1)!==0;J!==null;){var r=J,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||$p;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||nn;a=$p;var u=nn;if($p=o,(nn=l)&&!u)for(J=r;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?eS(r):l!==null?(l.return=o,J=l):eS(r);for(;s!==null;)J=s,QC(s),s=s.sibling;J=r,$p=a,nn=u}Z_(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,J=s):Z_(n)}}function Z_(n){for(;J!==null;){var t=J;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||Iy(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!nn)if(e===null)i.componentDidMount();else{var r=t.elementType===t.type?e.memoizedProps:$i(t.type,e.memoizedProps);i.componentDidUpdate(r,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&N_(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}N_(t,o,e)}break;case 5:var a=t.stateNode;if(e===null&&t.flags&4){e=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&bd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}nn||t.flags&512&&ox(t)}catch(f){oe(t,t.return,f)}}if(t===n){J=null;break}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}}function tS(n){for(;J!==null;){var t=J;if(t===n){J=null;break}var e=t.sibling;if(e!==null){e.return=t.return,J=e;break}J=t.return}}function eS(n){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Iy(4,t)}catch(l){oe(t,e,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){oe(t,r,l)}}var s=t.return;try{ox(t)}catch(l){oe(t,s,l)}break;case 5:var o=t.return;try{ox(t)}catch(l){oe(t,o,l)}}}catch(l){oe(t,t.return,l)}if(t===n){J=null;break}var a=t.sibling;if(a!==null){a.return=t.return,J=a;break}J=t.return}}var JI=Math.ceil,Pm=$s.ReactCurrentDispatcher,Ov=$s.ReactCurrentOwner,Ii=$s.ReactCurrentBatchConfig,kt=0,Ie=null,ge=null,Ue=0,oi=0,bu=Zo(0),ke=0,Pd=null,Ol=0,Dy=0,Fv=0,nd=null,On=null,Nv=0,Uc=1/0,Zr=null,Mm=!1,ux=null,jo=null,Up=!1,Lo=null,Rm=0,id=0,cx=null,vg=-1,_g=0;function xn(){return kt&6?ue():vg!==-1?vg:vg=ue()}function Ho(n){return n.mode&1?kt&2&&Ue!==0?Ue&-Ue:OI.transition!==null?(_g===0&&(_g=OE()),_g):(n=It,n!==0||(n=window.event,n=n===void 0?16:$E(n.type)),n):1}function or(n,t,e,i){if(50<id)throw id=0,cx=null,Error($(185));pp(n,e,i),(!(kt&2)||n!==Ie)&&(n===Ie&&(!(kt&2)&&(Dy|=e),ke===4&&Js(n,Ue)),$n(n,i),e===1&&kt===0&&!(t.mode&1)&&(Uc=ue()+500,My&&ta()))}function $n(n,t){var e=n.callbackNode;O2(n,t);var i=pm(n,n===Ie?Ue:0);if(i===0)e!==null&&c_(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&c_(e),t===1)n.tag===0?DI(nS.bind(null,n)):aC(nS.bind(null,n)),MI(function(){!(kt&6)&&ta()}),e=null;else{switch(FE(i)){case 1:e=uv;break;case 4:e=IE;break;case 16:e=fm;break;case 536870912:e=DE;break;default:e=fm}e=sT(e,JC.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function JC(n,t){if(vg=-1,_g=0,kt&6)throw Error($(327));var e=n.callbackNode;if(Eu()&&n.callbackNode!==e)return null;var i=pm(n,n===Ie?Ue:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=Lm(n,i);else{t=i;var r=kt;kt|=2;var s=tT();(Ie!==n||Ue!==t)&&(Zr=null,Uc=ue()+500,Tl(n,t));do try{eD();break}catch(a){ZC(n,a)}while(!0);_v(),Pm.current=s,kt=r,ge!==null?t=0:(Ie=null,Ue=0,t=ke)}if(t!==0){if(t===2&&(r=Nb(n),r!==0&&(i=r,t=hx(n,r))),t===1)throw e=Pd,Tl(n,0),Js(n,i),$n(n,ue()),e;if(t===6)Js(n,i);else{if(r=n.current.alternate,!(i&30)&&!ZI(r)&&(t=Lm(n,i),t===2&&(s=Nb(n),s!==0&&(i=s,t=hx(n,s))),t===1))throw e=Pd,Tl(n,0),Js(n,i),$n(n,ue()),e;switch(n.finishedWork=r,n.finishedLanes=i,t){case 0:case 1:throw Error($(345));case 2:ca(n,On,Zr);break;case 3:if(Js(n,i),(i&130023424)===i&&(t=Nv+500-ue(),10<t)){if(pm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){xn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Wb(ca.bind(null,n,On,Zr),t);break}ca(n,On,Zr);break;case 4:if(Js(n,i),(i&4194240)===i)break;for(t=n.eventTimes,r=-1;0<i;){var o=31-sr(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=ue()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*JI(i/1960))-i,10<i){n.timeoutHandle=Wb(ca.bind(null,n,On,Zr),i);break}ca(n,On,Zr);break;case 5:ca(n,On,Zr);break;default:throw Error($(329))}}}return $n(n,ue()),n.callbackNode===e?JC.bind(null,n):null}function hx(n,t){var e=nd;return n.current.memoizedState.isDehydrated&&(Tl(n,t).flags|=256),n=Lm(n,t),n!==2&&(t=On,On=e,t!==null&&dx(t)),n}function dx(n){On===null?On=n:On.push.apply(On,n)}function ZI(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var r=e[i],s=r.getSnapshot;r=r.value;try{if(!lr(s(),r))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Js(n,t){for(t&=~Fv,t&=~Dy,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-sr(t),i=1<<e;n[e]=-1,t&=~i}}function nS(n){if(kt&6)throw Error($(327));Eu();var t=pm(n,0);if(!(t&1))return $n(n,ue()),null;var e=Lm(n,t);if(n.tag!==0&&e===2){var i=Nb(n);i!==0&&(t=i,e=hx(n,i))}if(e===1)throw e=Pd,Tl(n,0),Js(n,t),$n(n,ue()),e;if(e===6)throw Error($(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,ca(n,On,Zr),$n(n,ue()),null}function zv(n,t){var e=kt;kt|=1;try{return n(t)}finally{kt=e,kt===0&&(Uc=ue()+500,My&&ta())}}function Fl(n){Lo!==null&&Lo.tag===0&&!(kt&6)&&Eu();var t=kt;kt|=1;var e=Ii.transition,i=It;try{if(Ii.transition=null,It=1,n)return n()}finally{It=i,Ii.transition=e,kt=t,!(kt&6)&&ta()}}function Bv(){oi=bu.current,Gt(bu)}function Tl(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,PI(e)),ge!==null)for(e=ge.return;e!==null;){var i=e;switch(xv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xm();break;case 3:Hc(),Gt(jn),Gt(ln),Tv();break;case 5:Cv(i);break;case 4:Hc();break;case 13:Gt(ee);break;case 19:Gt(ee);break;case 10:Sv(i.type._context);break;case 22:case 23:Bv()}e=e.return}if(Ie=n,ge=n=$o(n.current,null),Ue=oi=t,ke=0,Pd=null,Fv=Dy=Ol=0,On=nd=null,xa!==null){for(t=0;t<xa.length;t++)if(e=xa[t],i=e.interleaved,i!==null){e.interleaved=null;var r=i.next,s=e.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}e.pending=i}xa=null}return n}function ZC(n,t){do{var e=ge;try{if(_v(),bg.current=Tm,Cm){for(var i=ie.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Cm=!1}if(Dl=0,Le=_e=ie=null,td=!1,Ed=0,Ov.current=null,e===null||e.return===null){ke=1,Pd=t,ge=null;break}t:{var s=n,o=e.return,a=e,l=t;if(t=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=U_(o);if(p!==null){p.flags&=-257,V_(p,o,a,s,t),p.mode&1&&$_(s,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break t}else{if(!(t&1)){$_(s,u,t),jv();break t}l=Error($(426))}}else if(Kt&&a.mode&1){var x=U_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),V_(x,o,a,s,t),wv($c(l,a));break t}}s=l=$c(l,a),ke!==4&&(ke=2),nd===null?nd=[s]:nd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=FC(s,l,t);F_(s,y);break t;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(jo===null||!jo.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=NC(s,a,t);F_(s,k);break t}}s=s.return}while(s!==null)}nT(e)}catch(E){t=E,ge===e&&e!==null&&(ge=e=e.return);continue}break}while(!0)}function tT(){var n=Pm.current;return Pm.current=Tm,n===null?Tm:n}function jv(){(ke===0||ke===3||ke===2)&&(ke=4),Ie===null||!(Ol&268435455)&&!(Dy&268435455)||Js(Ie,Ue)}function Lm(n,t){var e=kt;kt|=2;var i=tT();(Ie!==n||Ue!==t)&&(Zr=null,Tl(n,t));do try{tD();break}catch(r){ZC(n,r)}while(!0);if(_v(),kt=e,Pm.current=i,ge!==null)throw Error($(261));return Ie=null,Ue=0,ke}function tD(){for(;ge!==null;)eT(ge)}function eD(){for(;ge!==null&&!E2();)eT(ge)}function eT(n){var t=rT(n.alternate,n,oi);n.memoizedProps=n.pendingProps,t===null?nT(n):ge=t,Ov.current=null}function nT(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=XI(e,t),e!==null){e.flags&=32767,ge=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ke=6,ge=null;return}}else if(e=qI(e,t,oi),e!==null){ge=e;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=n}while(t!==null);ke===0&&(ke=5)}function ca(n,t,e){var i=It,r=Ii.transition;try{Ii.transition=null,It=1,nD(n,t,e,i)}finally{Ii.transition=r,It=i}return null}function nD(n,t,e,i){do Eu();while(Lo!==null);if(kt&6)throw Error($(327));e=n.finishedWork;var r=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error($(177));n.callbackNode=null,n.callbackPriority=0;var s=e.lanes|e.childLanes;if(F2(n,s),n===Ie&&(ge=Ie=null,Ue=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Up||(Up=!0,sT(fm,function(){return Eu(),null})),s=(e.flags&15990)!==0,e.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var o=It;It=1;var a=kt;kt|=4,Ov.current=null,KI(n,e),KC(e,n),_I(Ub),gm=!!$b,Ub=$b=null,n.current=e,QI(e),C2(),kt=a,It=o,Ii.transition=s}else n.current=e;if(Up&&(Up=!1,Lo=n,Rm=r),s=n.pendingLanes,s===0&&(jo=null),M2(e.stateNode),$n(n,ue()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)r=t[e],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mm)throw Mm=!1,n=ux,ux=null,n;return Rm&1&&n.tag!==0&&Eu(),s=n.pendingLanes,s&1?n===cx?id++:(id=0,cx=n):id=0,ta(),null}function Eu(){if(Lo!==null){var n=FE(Rm),t=Ii.transition,e=It;try{if(Ii.transition=null,It=16>n?16:n,Lo===null)var i=!1;else{if(n=Lo,Lo=null,Rm=0,kt&6)throw Error($(331));var r=kt;for(kt|=4,J=n.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:ed(8,c,s)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var f=c.sibling,p=c.return;if(qC(c),c===u){J=null;break}if(f!==null){f.return=p,J=f;break}J=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else t:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ed(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,J=y;break t}J=s.return}}var b=n.current;for(J=b;J!==null;){o=J;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,J=w;else t:for(o=b;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Iy(9,a)}}catch(E){oe(a,a.return,E)}if(a===o){J=null;break t}var k=a.sibling;if(k!==null){k.return=a.return,J=k;break t}J=a.return}}if(kt=r,ta(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Ay,n)}catch{}i=!0}return i}finally{It=e,Ii.transition=t}}return!1}function iS(n,t,e){t=$c(e,t),t=FC(n,t,1),n=Bo(n,t,1),t=xn(),n!==null&&(pp(n,1,t),$n(n,t))}function oe(n,t,e){if(n.tag===3)iS(n,n,e);else for(;t!==null;){if(t.tag===3){iS(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(jo===null||!jo.has(i))){n=$c(e,n),n=NC(t,n,1),t=Bo(t,n,1),n=xn(),t!==null&&(pp(t,1,n),$n(t,n));break}}t=t.return}}function iD(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=xn(),n.pingedLanes|=n.suspendedLanes&e,Ie===n&&(Ue&e)===e&&(ke===4||ke===3&&(Ue&130023424)===Ue&&500>ue()-Nv?Tl(n,0):Fv|=e),$n(n,t)}function iT(n,t){t===0&&(n.mode&1?(t=Ip,Ip<<=1,!(Ip&130023424)&&(Ip=4194304)):t=1);var e=xn();n=Ns(n,t),n!==null&&(pp(n,t,e),$n(n,e))}function rD(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),iT(n,e)}function sD(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(e=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error($(314))}i!==null&&i.delete(t),iT(n,e)}var rT;rT=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||jn.current)zn=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return zn=!1,GI(n,t,e);zn=!!(n.flags&131072)}else zn=!1,Kt&&t.flags&1048576&&lC(t,_m,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;wg(n,t),n=t.pendingProps;var r=zc(t,ln.current);Au(t,e),r=Mv(null,t,i,n,r,e);var s=Rv();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(i)?(s=!0,wm(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Av(t),r.updater=Ly,t.stateNode=r,r._reactInternals=t,Jb(t,i,n,e),t=ex(null,t,i,!0,s,e)):(t.tag=0,Kt&&s&&bv(t),yn(null,t,r,e),t=t.child),t;case 16:i=t.elementType;t:{switch(wg(n,t),n=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=aD(i),n=$i(i,n),r){case 0:t=tx(null,t,i,n,e);break t;case 1:t=q_(null,t,i,n,e);break t;case 11:t=W_(null,t,i,n,e);break t;case 14:t=G_(null,t,i,$i(i.type,n),e);break t}throw Error($(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:$i(i,r),tx(n,t,i,r,e);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:$i(i,r),q_(n,t,i,r,e);case 3:t:{if(HC(t),n===null)throw Error($(387));i=t.pendingProps,s=t.memoizedState,r=s.element,pC(n,t),Am(t,i,null,e);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=$c(Error($(423)),t),t=X_(n,t,i,e,r);break t}else if(i!==r){r=$c(Error($(424)),t),t=X_(n,t,i,e,r);break t}else for(ui=zo(t.stateNode.containerInfo.firstChild),ci=t,Kt=!0,ir=null,e=dC(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Bc(),i===r){t=zs(n,t,e);break t}yn(n,t,i,e)}t=t.child}return t;case 5:return gC(t),n===null&&Yb(t),i=t.type,r=t.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Vb(i,r)?o=null:s!==null&&Vb(i,s)&&(t.flags|=32),jC(n,t),yn(n,t,o,e),t.child;case 6:return n===null&&Yb(t),null;case 13:return $C(n,t,e);case 4:return Ev(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=jc(t,null,i,e):yn(n,t,i,e),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:$i(i,r),W_(n,t,i,r,e);case 7:return yn(n,t,t.pendingProps,e),t.child;case 8:return yn(n,t,t.pendingProps.children,e),t.child;case 12:return yn(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,$t(Sm,i._currentValue),i._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===r.children&&!jn.current){t=zs(n,t,e);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ls(-1,e&-e),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),Kb(s.return,e,t),a.lanes|=e;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),Kb(o,e,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yn(n,t,r.children,e),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Au(t,e),r=Oi(r),i=i(r),t.flags|=1,yn(n,t,i,e),t.child;case 14:return i=t.type,r=$i(i,t.pendingProps),r=$i(i.type,r),G_(n,t,i,r,e);case 15:return zC(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:$i(i,r),wg(n,t),t.tag=1,Hn(i)?(n=!0,wm(t)):n=!1,Au(t,e),OC(t,i,r),Jb(t,i,r,e),ex(null,t,i,!0,n,e);case 19:return UC(n,t,e);case 22:return BC(n,t,e)}throw Error($(156,t.tag))};function sT(n,t){return LE(n,t)}function oD(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(n,t,e,i){return new oD(n,t,e,i)}function Hv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function aD(n){if(typeof n=="function")return Hv(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ov)return 11;if(n===av)return 14}return 2}function $o(n,t){var e=n.alternate;return e===null?(e=Ri(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Sg(n,t,e,i,r,s){var o=2;if(i=n,typeof n=="function")Hv(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case lu:return Pl(e.children,r,s,t);case sv:o=8,r|=8;break;case _b:return n=Ri(12,e,t,r|2),n.elementType=_b,n.lanes=s,n;case Sb:return n=Ri(13,e,t,r),n.elementType=Sb,n.lanes=s,n;case kb:return n=Ri(19,e,t,r),n.elementType=kb,n.lanes=s,n;case gE:return Oy(e,r,s,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case fE:o=10;break t;case pE:o=9;break t;case ov:o=11;break t;case av:o=14;break t;case Ys:o=16,i=null;break t}throw Error($(130,n==null?n:typeof n,""))}return t=Ri(o,e,t,r),t.elementType=n,t.type=i,t.lanes=s,t}function Pl(n,t,e,i){return n=Ri(7,n,i,t),n.lanes=e,n}function Oy(n,t,e,i){return n=Ri(22,n,i,t),n.elementType=gE,n.lanes=e,n.stateNode={isHidden:!1},n}function D0(n,t,e){return n=Ri(6,n,null,t),n.lanes=e,n}function O0(n,t,e){return t=Ri(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function lD(n,t,e,i,r){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g0(0),this.expirationTimes=g0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $v(n,t,e,i,r,s,o,a,l){return n=new lD(n,t,e,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ri(3,null,null,t),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(s),n}function uD(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:au,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function oT(n){if(!n)return qo;n=n._reactInternals;t:{if(Wl(n)!==n||n.tag!==1)throw Error($(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error($(171))}if(n.tag===1){var e=n.type;if(Hn(e))return oC(n,e,t)}return t}function aT(n,t,e,i,r,s,o,a,l){return n=$v(e,i,!0,n,r,s,o,a,l),n.context=oT(null),e=n.current,i=xn(),r=Ho(e),s=Ls(i,r),s.callback=t??null,Bo(e,s,r),n.current.lanes=r,pp(n,r,i),$n(n,i),n}function Fy(n,t,e,i){var r=t.current,s=xn(),o=Ho(r);return e=oT(e),t.context===null?t.context=e:t.pendingContext=e,t=Ls(s,o),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=Bo(r,t,o),n!==null&&(or(n,r,o,s),yg(n,r,o)),o}function Im(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function rS(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function Uv(n,t){rS(n,t),(n=n.alternate)&&rS(n,t)}function cD(){return null}var lT=typeof reportError=="function"?reportError:function(n){console.error(n)};function Vv(n){this._internalRoot=n}Ny.prototype.render=Vv.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error($(409));Fy(n,t,null,null)};Ny.prototype.unmount=Vv.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Fl(function(){Fy(null,n,null,null)}),t[Fs]=null}};function Ny(n){this._internalRoot=n}Ny.prototype.unstable_scheduleHydration=function(n){if(n){var t=BE();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Qs.length&&t!==0&&t<Qs[e].priority;e++);Qs.splice(e,0,n),e===0&&HE(n)}};function Wv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function zy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sS(){}function hD(n,t,e,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Im(o);s.call(u)}}var o=aT(t,i,n,0,null,!1,!1,"",sS);return n._reactRootContainer=o,n[Fs]=o.current,vd(n.nodeType===8?n.parentNode:n),Fl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Im(l);a.call(u)}}var l=$v(n,0,!1,null,null,!1,!1,"",sS);return n._reactRootContainer=l,n[Fs]=l.current,vd(n.nodeType===8?n.parentNode:n),Fl(function(){Fy(t,l,e,i)}),l}function By(n,t,e,i,r){var s=e._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Im(o);a.call(l)}}Fy(t,o,n,r)}else o=hD(e,t,n,r,i);return Im(o)}NE=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Ch(t.pendingLanes);e!==0&&(cv(t,e|1),$n(t,ue()),!(kt&6)&&(Uc=ue()+500,ta()))}break;case 13:Fl(function(){var i=Ns(n,1);if(i!==null){var r=xn();or(i,n,1,r)}}),Uv(n,1)}};hv=function(n){if(n.tag===13){var t=Ns(n,134217728);if(t!==null){var e=xn();or(t,n,134217728,e)}Uv(n,134217728)}};zE=function(n){if(n.tag===13){var t=Ho(n),e=Ns(n,t);if(e!==null){var i=xn();or(e,n,t,i)}Uv(n,t)}};BE=function(){return It};jE=function(n,t){var e=It;try{return It=n,t()}finally{It=e}};Db=function(n,t,e){switch(t){case"input":if(Cb(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var r=Py(i);if(!r)throw Error($(90));yE(i),Cb(i,r)}}}break;case"textarea":xE(n,e);break;case"select":t=e.value,t!=null&&vu(n,!!e.multiple,t,!1)}};EE=zv;CE=Fl;var dD={usingClientEntryPoint:!1,Events:[mp,du,Py,kE,AE,zv]},dh={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fD={bundleType:dh.bundleType,version:dh.version,rendererPackageName:dh.rendererPackageName,rendererConfig:dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ME(n),n===null?null:n.stateNode},findFiberByHostInstance:dh.findFiberByHostInstance||cD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{Ay=Vp.inject(fD),jr=Vp}catch{}}gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dD;gi.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wv(t))throw Error($(200));return uD(n,t,null,e)};gi.createRoot=function(n,t){if(!Wv(n))throw Error($(299));var e=!1,i="",r=lT;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=$v(n,1,!1,null,null,e,!1,i,r),n[Fs]=t.current,vd(n.nodeType===8?n.parentNode:n),new Vv(t)};gi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error($(188)):(n=Object.keys(n).join(","),Error($(268,n)));return n=ME(t),n=n===null?null:n.stateNode,n};gi.flushSync=function(n){return Fl(n)};gi.hydrate=function(n,t,e){if(!zy(t))throw Error($(200));return By(null,n,t,!0,e)};gi.hydrateRoot=function(n,t,e){if(!Wv(n))throw Error($(405));var i=e!=null&&e.hydratedSources||null,r=!1,s="",o=lT;if(e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=aT(t,null,n,1,e??null,r,!1,s,o),n[Fs]=t.current,vd(n),i)for(n=0;n<i.length;n++)e=i[n],r=e._getVersion,r=r(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,r]:t.mutableSourceEagerHydrationData.push(e,r);return new Ny(t)};gi.render=function(n,t,e){if(!zy(t))throw Error($(200));return By(null,n,t,!1,e)};gi.unmountComponentAtNode=function(n){if(!zy(n))throw Error($(40));return n._reactRootContainer?(Fl(function(){By(null,null,n,!1,function(){n._reactRootContainer=null,n[Fs]=null})}),!0):!1};gi.unstable_batchedUpdates=zv;gi.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!zy(e))throw Error($(200));if(n==null||n._reactInternals===void 0)throw Error($(38));return By(n,t,e,!1,i)};gi.version="18.3.1-next-f1338f8080-20240426";function uT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uT)}catch(n){console.error(n)}}uT(),uE.exports=gi;var pD=uE.exports,oS=pD;wb.createRoot=oS.createRoot,wb.hydrateRoot=oS.hydrateRoot;var cT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aS=Nn.createContext&&Nn.createContext(cT),gD=["attr","size","title"];function mD(n,t){if(n==null)return{};var e=yD(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function yD(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Dm(){return Dm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Dm.apply(this,arguments)}function lS(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Om(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(e),!0).forEach(function(i){bD(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lS(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function bD(n,t,e){return t=xD(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function xD(n){var t=wD(n,"string");return typeof t=="symbol"?t:t+""}function wD(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function hT(n){return n&&n.map((t,e)=>Nn.createElement(t.tag,Om({key:e},t.attr),hT(t.child)))}function Kc(n){return t=>Nn.createElement(vD,Dm({attr:Om({},n.attr)},t),hT(n.child))}function vD(n){var t=e=>{var{attr:i,size:r,title:s}=n,o=mD(n,gD),a=r||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),Nn.createElement("svg",Dm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,o,{className:l,style:Om(Om({color:n.color||e.color},e.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Nn.createElement("title",null,s),n.children)};return aS!==void 0?Nn.createElement(aS.Consumer,null,e=>t(e)):t(cT)}function _D(n){return Kc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"},child:[]}]})(n)}function uS(n){return Kc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"},child:[]}]})(n)}function SD(n){return Kc({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"},child:[]}]})(n)}function dT(n,t){return function(){return n.apply(t,arguments)}}const{toString:kD}=Object.prototype,{getPrototypeOf:Gv}=Object,jy=(n=>t=>{const e=kD.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),hr=n=>(n=n.toLowerCase(),t=>jy(t)===n),Hy=n=>t=>typeof t===n,{isArray:Qc}=Array,Md=Hy("undefined");function AD(n){return n!==null&&!Md(n)&&n.constructor!==null&&!Md(n.constructor)&&hi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const fT=hr("ArrayBuffer");function ED(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&fT(n.buffer),t}const CD=Hy("string"),hi=Hy("function"),pT=Hy("number"),$y=n=>n!==null&&typeof n=="object",TD=n=>n===!0||n===!1,kg=n=>{if(jy(n)!=="object")return!1;const t=Gv(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},PD=hr("Date"),MD=hr("File"),RD=hr("Blob"),LD=hr("FileList"),ID=n=>$y(n)&&hi(n.pipe),DD=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||hi(n.append)&&((t=jy(n))==="formdata"||t==="object"&&hi(n.toString)&&n.toString()==="[object FormData]"))},OD=hr("URLSearchParams"),[FD,ND,zD,BD]=["ReadableStream","Request","Response","Headers"].map(hr),jD=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bp(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Qc(n))for(i=0,r=n.length;i<r;i++)t.call(null,n[i],i,n);else{const s=e?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],t.call(null,n[a],a,n)}}function gT(n,t){t=t.toLowerCase();const e=Object.keys(n);let i=e.length,r;for(;i-- >0;)if(r=e[i],t===r.toLowerCase())return r;return null}const va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mT=n=>!Md(n)&&n!==va;function fx(){const{caseless:n}=mT(this)&&this||{},t={},e=(i,r)=>{const s=n&&gT(t,r)||r;kg(t[s])&&kg(i)?t[s]=fx(t[s],i):kg(i)?t[s]=fx({},i):Qc(i)?t[s]=i.slice():t[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&bp(arguments[i],e);return t}const HD=(n,t,e,{allOwnKeys:i}={})=>(bp(t,(r,s)=>{e&&hi(r)?n[s]=dT(r,e):n[s]=r},{allOwnKeys:i}),n),$D=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),UD=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},VD=(n,t,e,i)=>{let r,s,o;const a={};if(t=t||{},n==null)return t;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,t))&&!a[o]&&(t[o]=n[o],a[o]=!0);n=e!==!1&&Gv(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},WD=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},GD=n=>{if(!n)return null;if(Qc(n))return n;let t=n.length;if(!pT(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},qD=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&Gv(Uint8Array)),XD=(n,t)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(n,s[0],s[1])}},YD=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},KD=hr("HTMLFormElement"),QD=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),cS=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),JD=hr("RegExp"),yT=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};bp(e,(r,s)=>{let o;(o=t(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},ZD=n=>{yT(n,(t,e)=>{if(hi(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(hi(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},tO=(n,t)=>{const e={},i=r=>{r.forEach(s=>{e[s]=!0})};return Qc(n)?i(n):i(String(n).split(t)),e},eO=()=>{},nO=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t,F0="abcdefghijklmnopqrstuvwxyz",hS="0123456789",bT={DIGIT:hS,ALPHA:F0,ALPHA_DIGIT:F0+F0.toUpperCase()+hS},iO=(n=16,t=bT.ALPHA_DIGIT)=>{let e="";const{length:i}=t;for(;n--;)e+=t[Math.random()*i|0];return e};function rO(n){return!!(n&&hi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const sO=n=>{const t=new Array(10),e=(i,r)=>{if($y(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const s=Qc(i)?[]:{};return bp(i,(o,a)=>{const l=e(o,r+1);!Md(l)&&(s[a]=l)}),t[r]=void 0,s}}return i};return e(n,0)},oO=hr("AsyncFunction"),aO=n=>n&&($y(n)||hi(n))&&hi(n.then)&&hi(n.catch),xT=((n,t)=>n?setImmediate:t?((e,i)=>(va.addEventListener("message",({source:r,data:s})=>{r===va&&s===e&&i.length&&i.shift()()},!1),r=>{i.push(r),va.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",hi(va.postMessage)),lO=typeof queueMicrotask<"u"?queueMicrotask.bind(va):typeof process<"u"&&process.nextTick||xT,O={isArray:Qc,isArrayBuffer:fT,isBuffer:AD,isFormData:DD,isArrayBufferView:ED,isString:CD,isNumber:pT,isBoolean:TD,isObject:$y,isPlainObject:kg,isReadableStream:FD,isRequest:ND,isResponse:zD,isHeaders:BD,isUndefined:Md,isDate:PD,isFile:MD,isBlob:RD,isRegExp:JD,isFunction:hi,isStream:ID,isURLSearchParams:OD,isTypedArray:qD,isFileList:LD,forEach:bp,merge:fx,extend:HD,trim:jD,stripBOM:$D,inherits:UD,toFlatObject:VD,kindOf:jy,kindOfTest:hr,endsWith:WD,toArray:GD,forEachEntry:XD,matchAll:YD,isHTMLForm:KD,hasOwnProperty:cS,hasOwnProp:cS,reduceDescriptors:yT,freezeMethods:ZD,toObjectSet:tO,toCamelCase:QD,noop:eO,toFiniteNumber:nO,findKey:gT,global:va,isContextDefined:mT,ALPHABET:bT,generateString:iO,isSpecCompliantForm:rO,toJSONObject:sO,isAsyncFn:oO,isThenable:aO,setImmediate:xT,asap:lO};function ct(n,t,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}O.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const wT=ct.prototype,vT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{vT[n]={value:n}});Object.defineProperties(ct,vT);Object.defineProperty(wT,"isAxiosError",{value:!0});ct.from=(n,t,e,i,r,s)=>{const o=Object.create(wT);return O.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ct.call(o,n.message,t,e,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const uO=null;function px(n){return O.isPlainObject(n)||O.isArray(n)}function _T(n){return O.endsWith(n,"[]")?n.slice(0,-2):n}function dS(n,t,e){return n?n.concat(t).map(function(r,s){return r=_T(r),!e&&s?"["+r+"]":r}).join(e?".":""):t}function cO(n){return O.isArray(n)&&!n.some(px)}const hO=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Uy(n,t,e){if(!O.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=O.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!O.isUndefined(x[m])});const i=e.metaTokens,r=e.visitor||c,s=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(r))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(O.isDate(g))return g.toISOString();if(!l&&O.isBlob(g))throw new ct("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(g)||O.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,m,x){let y=g;if(g&&!x&&typeof g=="object"){if(O.endsWith(m,"{}"))m=i?m:m.slice(0,-2),g=JSON.stringify(g);else if(O.isArray(g)&&cO(g)||(O.isFileList(g)||O.endsWith(m,"[]"))&&(y=O.toArray(g)))return m=_T(m),y.forEach(function(w,k){!(O.isUndefined(w)||w===null)&&t.append(o===!0?dS([m],k,s):o===null?m:m+"[]",u(w))}),!1}return px(g)?!0:(t.append(dS(x,m,s),u(g)),!1)}const d=[],f=Object.assign(hO,{defaultVisitor:c,convertValue:u,isVisitable:px});function p(g,m){if(!O.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),O.forEach(g,function(y,b){(!(O.isUndefined(y)||y===null)&&r.call(t,y,O.isString(b)?b.trim():b,m,f))===!0&&p(y,m?m.concat(b):[b])}),d.pop()}}if(!O.isObject(n))throw new TypeError("data must be an object");return p(n),t}function fS(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function qv(n,t){this._pairs=[],n&&Uy(n,this,t)}const ST=qv.prototype;ST.append=function(t,e){this._pairs.push([t,e])};ST.toString=function(t){const e=t?function(i){return t.call(this,i,fS)}:fS;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function dO(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kT(n,t,e){if(!t)return n;const i=e&&e.encode||dO;O.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let s;if(r?s=r(t,e):s=O.isURLSearchParams(t)?t.toString():new qv(t,e).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class pS{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(i){i!==null&&t(i)})}}const AT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fO=typeof URLSearchParams<"u"?URLSearchParams:qv,pO=typeof FormData<"u"?FormData:null,gO=typeof Blob<"u"?Blob:null,mO={isBrowser:!0,classes:{URLSearchParams:fO,FormData:pO,Blob:gO},protocols:["http","https","file","blob","url","data"]},Xv=typeof window<"u"&&typeof document<"u",gx=typeof navigator=="object"&&navigator||void 0,yO=Xv&&(!gx||["ReactNative","NativeScript","NS"].indexOf(gx.product)<0),bO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xO=Xv&&window.location.href||"http://localhost",wO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xv,hasStandardBrowserEnv:yO,hasStandardBrowserWebWorkerEnv:bO,navigator:gx,origin:xO},Symbol.toStringTag,{value:"Module"})),rn={...wO,...mO};function vO(n,t){return Uy(n,new rn.classes.URLSearchParams,Object.assign({visitor:function(e,i,r,s){return rn.isNode&&O.isBuffer(e)?(this.append(i,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function _O(n){return O.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function SO(n){const t={},e=Object.keys(n);let i;const r=e.length;let s;for(i=0;i<r;i++)s=e[i],t[s]=n[s];return t}function ET(n){function t(e,i,r,s){let o=e[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=e.length;return o=!o&&O.isArray(r)?r.length:o,l?(O.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!O.isObject(r[o]))&&(r[o]=[]),t(e,i,r[o],s)&&O.isArray(r[o])&&(r[o]=SO(r[o])),!a)}if(O.isFormData(n)&&O.isFunction(n.entries)){const e={};return O.forEachEntry(n,(i,r)=>{t(_O(i),r,e,0)}),e}return null}function kO(n,t,e){if(O.isString(n))try{return(t||JSON.parse)(n),O.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const xp={transitional:AT,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,s=O.isObject(t);if(s&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return r?JSON.stringify(ET(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return vO(t,this.formSerializer).toString();if((a=O.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Uy(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),kO(t)):t}],transformResponse:[function(t){const e=this.transitional||xp.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(i&&!this.responseType||r)){const o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ct.from(a,ct.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],n=>{xp.headers[n]={}});const AO=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EO=n=>{const t={};let e,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!e||t[e]&&AO[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},gS=Symbol("internals");function fh(n){return n&&String(n).trim().toLowerCase()}function Ag(n){return n===!1||n==null?n:O.isArray(n)?n.map(Ag):String(n)}function CO(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const TO=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function N0(n,t,e,i,r){if(O.isFunction(i))return i.call(this,t,e);if(r&&(t=e),!!O.isString(t)){if(O.isString(i))return t.indexOf(i)!==-1;if(O.isRegExp(i))return i.test(t)}}function PO(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function MO(n,t){const e=O.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}let Un=class{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function s(a,l,u){const c=fh(l);if(!c)throw new Error("header name must be a non-empty string");const d=O.findKey(r,c);(!d||r[d]===void 0||u===!0||u===void 0&&r[d]!==!1)&&(r[d||l]=Ag(a))}const o=(a,l)=>O.forEach(a,(u,c)=>s(u,c,l));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(O.isString(t)&&(t=t.trim())&&!TO(t))o(EO(t),e);else if(O.isHeaders(t))for(const[a,l]of t.entries())s(l,a,i);else t!=null&&s(e,t,i);return this}get(t,e){if(t=fh(t),t){const i=O.findKey(this,t);if(i){const r=this[i];if(!e)return r;if(e===!0)return CO(r);if(O.isFunction(e))return e.call(this,r,i);if(O.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=fh(t),t){const i=O.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||N0(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let r=!1;function s(o){if(o=fh(o),o){const a=O.findKey(i,o);a&&(!e||N0(i,i[a],a,e))&&(delete i[a],r=!0)}}return O.isArray(t)?t.forEach(s):s(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const s=e[i];(!t||N0(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const e=this,i={};return O.forEach(this,(r,s)=>{const o=O.findKey(i,s);if(o){e[o]=Ag(r),delete e[s];return}const a=t?PO(s):String(s).trim();a!==s&&delete e[s],e[a]=Ag(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return O.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=t&&O.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[gS]=this[gS]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=fh(o);i[a]||(MO(r,o),i[a]=!0)}return O.isArray(t)?t.forEach(s):s(t),this}};Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Un.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});O.freezeMethods(Un);function z0(n,t){const e=this||xp,i=t||e,r=Un.from(i.headers);let s=i.data;return O.forEach(n,function(a){s=a.call(e,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function CT(n){return!!(n&&n.__CANCEL__)}function Jc(n,t,e){ct.call(this,n??"canceled",ct.ERR_CANCELED,t,e),this.name="CanceledError"}O.inherits(Jc,ct,{__CANCEL__:!0});function TT(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new ct("Request failed with status code "+e.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function RO(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function LO(n,t){n=n||10;const e=new Array(n),i=new Array(n);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=i[s];o||(o=u),e[r]=l,i[r]=u;let d=s,f=0;for(;d!==r;)f+=e[d++],d=d%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),u-o<t)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function IO(n,t){let e=0,i=1e3/t,r,s;const o=(u,c=Date.now())=>{e=c,r=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-e;d>=i?o(u,c):(r=u,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}const Fm=(n,t,e=3)=>{let i=0;const r=LO(50,250);return IO(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,u=r(l),c=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};n(d)},e)},mS=(n,t)=>{const e=n!=null;return[i=>t[0]({lengthComputable:e,total:n,loaded:i}),t[1]]},yS=n=>(...t)=>O.asap(()=>n(...t)),DO=rn.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,rn.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,OO=rn.hasStandardBrowserEnv?{write(n,t,e,i,r,s){const o=[n+"="+encodeURIComponent(t)];O.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),O.isString(i)&&o.push("path="+i),O.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FO(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function NO(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function PT(n,t){return n&&!FO(t)?NO(n,t):t}const bS=n=>n instanceof Un?{...n}:n;function Nl(n,t){t=t||{};const e={};function i(u,c,d,f){return O.isPlainObject(u)&&O.isPlainObject(c)?O.merge.call({caseless:f},u,c):O.isPlainObject(c)?O.merge({},c):O.isArray(c)?c.slice():c}function r(u,c,d,f){if(O.isUndefined(c)){if(!O.isUndefined(u))return i(void 0,u,d,f)}else return i(u,c,d,f)}function s(u,c){if(!O.isUndefined(c))return i(void 0,c)}function o(u,c){if(O.isUndefined(c)){if(!O.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function a(u,c,d){if(d in t)return i(u,c);if(d in n)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>r(bS(u),bS(c),d,!0)};return O.forEach(Object.keys(Object.assign({},n,t)),function(c){const d=l[c]||r,f=d(n[c],t[c],c);O.isUndefined(f)&&d!==a||(e[c]=f)}),e}const MT=n=>{const t=Nl({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Un.from(o),t.url=kT(PT(t.baseURL,t.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(O.isFormData(e)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(rn.hasStandardBrowserEnv&&(i&&O.isFunction(i)&&(i=i(t)),i||i!==!1&&DO(t.url))){const u=r&&s&&OO.read(s);u&&o.set(r,u)}return t},zO=typeof XMLHttpRequest<"u",BO=zO&&function(n){return new Promise(function(e,i){const r=MT(n);let s=r.data;const o=Un.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,c,d,f,p,g;function m(){p&&p(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function y(){if(!x)return;const w=Un.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:n,request:x};TT(function(C){e(C),m()},function(C){i(C),m()},E),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(i(new ct("Request aborted",ct.ECONNABORTED,n,x)),x=null)},x.onerror=function(){i(new ct("Network Error",ct.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||AT;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),i(new ct(k,E.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,n,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&O.forEach(o.toJSON(),function(k,E){x.setRequestHeader(E,k)}),O.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),a&&a!=="json"&&(x.responseType=r.responseType),u&&([f,g]=Fm(u,!0),x.addEventListener("progress",f)),l&&x.upload&&([d,p]=Fm(l),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(c=w=>{x&&(i(!w||w.type?new Jc(null,n,x):w),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const b=RO(r.url);if(b&&rn.protocols.indexOf(b)===-1){i(new ct("Unsupported protocol "+b+":",ct.ERR_BAD_REQUEST,n));return}x.send(s||null)})},jO=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let i=new AbortController,r;const s=function(u){if(!r){r=!0,a();const c=u instanceof Error?u:this.reason;i.abort(c instanceof ct?c:new Jc(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,s(new ct(`timeout ${t} of ms exceeded`,ct.ETIMEDOUT))},t);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>O.asap(a),l}},HO=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let i=0,r;for(;i<e;)r=i+t,yield n.slice(i,r),i=r},$O=async function*(n,t){for await(const e of UO(n))yield*HO(e,t)},UO=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},xS=(n,t,e,i)=>{const r=$O(n,t);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){a(),l.close();return}let d=c.byteLength;if(e){let f=s+=d;e(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Vy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",RT=Vy&&typeof ReadableStream=="function",VO=Vy&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),LT=(n,...t)=>{try{return!!n(...t)}catch{return!1}},WO=RT&&LT(()=>{let n=!1;const t=new Request(rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),wS=64*1024,mx=RT&&LT(()=>O.isReadableStream(new Response("").body)),Nm={stream:mx&&(n=>n.body)};Vy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Nm[t]&&(Nm[t]=O.isFunction(n[t])?e=>e[t]():(e,i)=>{throw new ct(`Response type '${t}' is not supported`,ct.ERR_NOT_SUPPORT,i)})})})(new Response);const GO=async n=>{if(n==null)return 0;if(O.isBlob(n))return n.size;if(O.isSpecCompliantForm(n))return(await new Request(rn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(O.isArrayBufferView(n)||O.isArrayBuffer(n))return n.byteLength;if(O.isURLSearchParams(n)&&(n=n+""),O.isString(n))return(await VO(n)).byteLength},qO=async(n,t)=>{const e=O.toFiniteNumber(n.getContentLength());return e??GO(t)},XO=Vy&&(async n=>{let{url:t,method:e,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=MT(n);u=u?(u+"").toLowerCase():"text";let p=jO([r,s&&s.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&WO&&e!=="get"&&e!=="head"&&(x=await qO(c,i))!==0){let E=new Request(t,{method:"POST",body:i,duplex:"half"}),A;if(O.isFormData(i)&&(A=E.headers.get("content-type"))&&c.setContentType(A),E.body){const[C,R]=mS(x,Fm(yS(l)));i=xS(E.body,wS,C,R)}}O.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:e.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",credentials:y?d:void 0});let b=await fetch(g);const w=mx&&(u==="stream"||u==="response");if(mx&&(a||w&&m)){const E={};["status","statusText","headers"].forEach(L=>{E[L]=b[L]});const A=O.toFiniteNumber(b.headers.get("content-length")),[C,R]=a&&mS(A,Fm(yS(a),!0))||[];b=new Response(xS(b.body,wS,C,()=>{R&&R(),m&&m()}),E)}u=u||"text";let k=await Nm[O.findKey(Nm,u)||"text"](b,n);return!w&&m&&m(),await new Promise((E,A)=>{TT(E,A,{data:k,headers:Un.from(b.headers),status:b.status,statusText:b.statusText,config:n,request:g})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,n,g),{cause:y.cause||y}):ct.from(y,y&&y.code,n,g)}}),yx={http:uO,xhr:BO,fetch:XO};O.forEach(yx,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const vS=n=>`- ${n}`,YO=n=>O.isFunction(n)||n===null||n===!1,IT={getAdapter:n=>{n=O.isArray(n)?n:[n];const{length:t}=n;let e,i;const r={};for(let s=0;s<t;s++){e=n[s];let o;if(i=e,!YO(e)&&(i=yx[(o=String(e)).toLowerCase()],i===void 0))throw new ct(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(vS).join(`
`):" "+vS(s[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:yx};function B0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Jc(null,n)}function _S(n){return B0(n),n.headers=Un.from(n.headers),n.data=z0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),IT.getAdapter(n.adapter||xp.adapter)(n).then(function(i){return B0(n),i.data=z0.call(n,n.transformResponse,i),i.headers=Un.from(i.headers),i},function(i){return CT(i)||(B0(n),i&&i.response&&(i.response.data=z0.call(n,n.transformResponse,i.response),i.response.headers=Un.from(i.response.headers))),Promise.reject(i)})}const DT="1.7.9",Wy={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Wy[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const SS={};Wy.transitional=function(t,e,i){function r(s,o){return"[Axios v"+DT+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(t===!1)throw new ct(r(o," has been removed"+(e?" in "+e:"")),ct.ERR_DEPRECATED);return e&&!SS[o]&&(SS[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,o,a):!0}};Wy.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function KO(n,t,e){if(typeof n!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new ct("option "+s+" must be "+l,ct.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new ct("Unknown option "+s,ct.ERR_BAD_OPTION)}}const Eg={assertOptions:KO,validators:Wy},fr=Eg.validators;let Ml=class{constructor(t){this.defaults=t,this.interceptors={request:new pS,response:new pS}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Nl(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:s}=e;i!==void 0&&Eg.assertOptions(i,{silentJSONParsing:fr.transitional(fr.boolean),forcedJSONParsing:fr.transitional(fr.boolean),clarifyTimeoutError:fr.transitional(fr.boolean)},!1),r!=null&&(O.isFunction(r)?e.paramsSerializer={serialize:r}:Eg.assertOptions(r,{encode:fr.function,serialize:fr.function},!0)),Eg.assertOptions(e,{baseUrl:fr.spelling("baseURL"),withXsrfToken:fr.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&O.merge(s.common,s[e.method]);s&&O.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),e.headers=Un.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(e)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,f;if(!l){const g=[_S.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),f=g.length,c=Promise.resolve(e);d<f;)c=c.then(g[d++],g[d++]);return c}f=a.length;let p=e;for(d=0;d<f;){const g=a[d++],m=a[d++];try{p=g(p)}catch(x){m.call(this,x);break}}try{c=_S.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Nl(this.defaults,t);const e=PT(t.baseURL,t.url);return kT(e,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){Ml.prototype[t]=function(e,i){return this.request(Nl(i||{},{method:t,url:e,data:(i||{}).data}))}});O.forEach(["post","put","patch"],function(t){function e(i){return function(s,o,a){return this.request(Nl(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ml.prototype[t]=e(),Ml.prototype[t+"Form"]=e(!0)});let QO=class OT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,a){i.reason||(i.reason=new Jc(s,o,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new OT(function(r){t=r}),cancel:t}}};function JO(n){return function(e){return n.apply(null,e)}}function ZO(n){return O.isObject(n)&&n.isAxiosError===!0}const bx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bx).forEach(([n,t])=>{bx[t]=n});function FT(n){const t=new Ml(n),e=dT(Ml.prototype.request,t);return O.extend(e,Ml.prototype,t,{allOwnKeys:!0}),O.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return FT(Nl(n,r))},e}const he=FT(xp);he.Axios=Ml;he.CanceledError=Jc;he.CancelToken=QO;he.isCancel=CT;he.VERSION=DT;he.toFormData=Uy;he.AxiosError=ct;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=JO;he.isAxiosError=ZO;he.mergeConfig=Nl;he.AxiosHeaders=Un;he.formToJSON=n=>ET(O.isHTMLForm(n)?new FormData(n):n);he.getAdapter=IT.getAdapter;he.HttpStatusCode=bx;he.default=he;const{Axios:j6,AxiosError:H6,CanceledError:$6,isCancel:U6,CancelToken:V6,VERSION:W6,all:G6,Cancel:q6,isAxiosError:X6,spread:Y6,toFormData:K6,AxiosHeaders:Q6,HttpStatusCode:J6,formToJSON:Z6,getAdapter:tW,mergeConfig:eW}=he;var rd={};rd.d=(n,t)=>{for(var e in t)rd.o(t,e)&&!rd.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};rd.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var at=globalThis.pdfjsLib={};rd.d(at,{AbortException:()=>Xo,AnnotationEditorLayer:()=>Cw,AnnotationEditorParamsType:()=>vt,AnnotationEditorType:()=>dt,AnnotationEditorUIManager:()=>Bl,AnnotationLayer:()=>XN,AnnotationMode:()=>Zs,ColorPicker:()=>Um,DOMSVGFactory:()=>i1,DrawLayer:()=>Mw,FeatureTest:()=>wn,GlobalWorkerOptions:()=>Ps,ImageKind:()=>Cg,InvalidPDFException:()=>wx,MissingPDFException:()=>Rd,OPS:()=>Ui,OutputScale:()=>_x,PDFDataRangeTransport:()=>zP,PDFDateString:()=>Zv,PDFWorker:()=>Tu,PasswordResponses:()=>iF,PermissionFlag:()=>nF,PixelsPerInch:()=>Yo,RenderingCancelledException:()=>Qv,TextLayer:()=>Ld,TouchManager:()=>Hm,UnexpectedResponseException:()=>zm,Util:()=>et,VerbosityLevel:()=>Gy,XfaLayer:()=>jP,build:()=>TN,createValidAbsoluteUrl:()=>aF,fetchData:()=>Ky,getDocument:()=>xN,getFilenameFromUrl:()=>mF,getPdfFilenameFromUrl:()=>yF,getXfaPageViewport:()=>bF,isDataScheme:()=>Qy,isPdfFile:()=>Jv,noContextMenu:()=>ur,normalizeUnicode:()=>fF,setLayerDimensions:()=>zl,shadow:()=>mt,stopEvent:()=>li,version:()=>CN});const sn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),NT=[1,0,0,1,0,0],xx=[.001,0,0,.001,0,0],tF=1e7,j0=1.35,si={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Zs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},eF="pdfjs_internal_editor_",dt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},vt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},nF={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},qe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Cg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},be={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},ph={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Gy={ERRORS:0,WARNINGS:1,INFOS:5},Ui={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},iF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let qy=Gy.WARNINGS;function rF(n){Number.isInteger(n)&&(qy=n)}function sF(){return qy}function Xy(n){qy>=Gy.INFOS&&console.log(`Info: ${n}`)}function ft(n){qy>=Gy.WARNINGS&&console.log(`Warning: ${n}`)}function zt(n){throw new Error(n)}function me(n,t){n||zt(t)}function oF(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function aF(n,t=null,e=null){if(!n)return null;try{if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=dF(n)}catch{}}const i=t?new URL(n,t):new URL(n);if(oF(i))return i}catch{}return null}function mt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const ea=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class kS extends ea{constructor(t,e){super(t,"PasswordException"),this.code=e}}class H0 extends ea{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class wx extends ea{constructor(t){super(t,"InvalidPDFException")}}class Rd extends ea{constructor(t){super(t,"MissingPDFException")}}class zm extends ea{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class lF extends ea{constructor(t){super(t,"FormatError")}}class Xo extends ea{constructor(t){super(t,"AbortException")}}function zT(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&zt("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Yy(n){typeof n!="string"&&zt("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function uF(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Yv(n){const t=Object.create(null);for(const[e,i]of n)t[e]=i;return t}function cF(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function hF(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return mt(this,"isLittleEndian",cF())}static get isEvalSupported(){return mt(this,"isEvalSupported",hF())}static get isOffscreenCanvasSupported(){return mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return mt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?mt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):mt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return mt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const $0=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Is,Tg,vx;class et{static makeHexColor(t,e,i){return`#${$0[t]}${$0[e]}${$0[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[i,r]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,s=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[r,s]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),s=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],s=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(t,e,i,r,s,o,a,l,u){return u?(u[0]=Math.min(u[0],t,a),u[1]=Math.min(u[1],e,l),u[2]=Math.max(u[2],t,a),u[3]=Math.max(u[3],e,l)):u=[Math.min(t,a),Math.min(e,l),Math.max(t,a),Math.max(e,l)],S(this,Is,vx).call(this,t,i,s,a,e,r,o,l,3*(-t+3*(i-s)+a),6*(t-2*i+s),3*(i-t),u),S(this,Is,vx).call(this,t,i,s,a,e,r,o,l,3*(-e+3*(r-o)+l),6*(e-2*r+o),3*(r-e),u),u}}Is=new WeakSet,Tg=function(t,e,i,r,s,o,a,l,u,c){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,g=d*(d*(d*t+3*u*e)+3*f*i)+p*r,m=d*(d*(d*s+3*u*o)+3*f*a)+p*l;c[0]=Math.min(c[0],g),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],g),c[3]=Math.max(c[3],m)},vx=function(t,e,i,r,s,o,a,l,u,c,d,f){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&S(this,Is,Tg).call(this,t,e,i,r,s,o,a,l,-d/c,f);return}const p=c**2-4*d*u;if(p<0)return;const g=Math.sqrt(p),m=2*u;S(this,Is,Tg).call(this,t,e,i,r,s,o,a,l,(-c+g)/m,f),S(this,Is,Tg).call(this,t,e,i,r,s,o,a,l,(-c-g)/m,f)},_(et,Is);function dF(n){return decodeURIComponent(escape(n))}let U0=null,AS=null;function fF(n){return U0||(U0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,AS=new Map([["","t"]])),n.replaceAll(U0,(t,e,i)=>e?e.normalize("NFKC"):AS.get(i))}function pF(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),zT(n)}const Kv="pdfjs_internal_id_";function gF(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(zT(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});const Xr="http://www.w3.org/2000/svg",ma=class ma{};H(ma,"CSS",96),H(ma,"PDF",72),H(ma,"PDF_TO_CSS_UNITS",ma.CSS/ma.PDF);let Yo=ma;async function Ky(n,t="text"){if(Ph(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class wp{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=o,i*=e;const l=(t[2]+t[0])/2,u=(t[3]+t[1])/2;let c,d,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,d=0,f=0,p=1;break;case 90:c=0,d=1,f=1,p=0;break;case 270:c=0,d=-1,f=-1,p=0;break;case 0:c=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let g,m,x,y;c===0?(g=Math.abs(u-t[1])*i+s,m=Math.abs(l-t[0])*i+o,x=(t[3]-t[1])*i,y=(t[2]-t[0])*i):(g=Math.abs(l-t[0])*i+s,m=Math.abs(u-t[1])*i+o,x=(t[2]-t[0])*i,y=(t[3]-t[1])*i),this.transform=[c*i,d*i,f*i,p*i,g-c*i*l-f*i*u,m-d*i*l-p*i*u],this.width=x,this.height=y}get rawDims(){const{userUnit:t,viewBox:e}=this,i=e.map(r=>r*t);return mt(this,"rawDims",{pageWidth:i[2]-i[0],pageHeight:i[3]-i[1],pageX:i[0],pageY:i[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new wp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){return et.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=et.applyTransform([t[0],t[1]],this.transform),i=et.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return et.applyInverseTransform([t,e],this.transform)}}class Qv extends ea{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Qy(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Jv(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function mF(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function yF(n,t="document.pdf"){if(typeof n!="string")return t;if(Qy(n))return ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||t}class ES{constructor(){H(this,"started",Object.create(null));H(this,"times",[])}time(t){t in this.started&&ft(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ft(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:s}of this.times)t.push(`${i.padEnd(e)} ${s-r}ms
`);return t.join("")}}function Ph(n,t){try{const{protocol:e}=t?new URL(n,t):new URL(n);return e==="http:"||e==="https:"}catch{return!1}}function ur(n){n.preventDefault()}function li(n){n.preventDefault(),n.stopPropagation()}var Hd;class Zv{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Hd)||v(this,Hd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Hd).exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const u=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(o+=c,a+=d):u==="+"&&(o-=c,a-=d),new Date(Date.UTC(i,r,s,o,a,l))}}Hd=new WeakMap,_(Zv,Hd);function bF(n,{scale:t=1,rotation:e=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new wp({viewBox:s,userUnit:1,scale:t,rotation:e})}function t1(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ft(`Not a valid color format: "${n}"`),[0,0,0])}function xF(n){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,t1(i))}t.remove()}function Xt(n){const{a:t,b:e,c:i,d:r,e:s,f:o}=n.getTransform();return[t,e,i,r,s,o]}function pr(n){const{a:t,b:e,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[t,e,i,r,s,o]}function zl(n,t,e=!1,i=!0){if(t instanceof wp){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:o}=n,a=wn.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${s}px`,c=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=a?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!e||t.rotation%180===0?(o.width=c,o.height=d):(o.width=d,o.height=c)}i&&n.setAttribute("data-main-rotation",t.rotation)}class _x{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var to,ka,Vi,Aa,$d,Ud,sy,BT,_n,jT,HT,Pg,$T,kx;const ts=class ts{constructor(t){_(this,_n);_(this,to,null);_(this,ka,null);_(this,Vi);_(this,Aa,null);_(this,$d,null);v(this,Vi,t),h(ts,Ud)||v(ts,Ud,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=v(this,to,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,Vi)._uiManager._signal;t.addEventListener("contextmenu",ur,{signal:e}),t.addEventListener("pointerdown",S(ts,sy,BT),{signal:e});const i=v(this,Aa,document.createElement("div"));i.className="buttons",t.append(i);const r=h(this,Vi).toolbarPosition;if(r){const{style:s}=t,o=h(this,Vi)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return S(this,_n,$T).call(this),t}get div(){return h(this,to)}hide(){var t;h(this,to).classList.add("hidden"),(t=h(this,ka))==null||t.hideDropdown()}show(){var t;h(this,to).classList.remove("hidden"),(t=h(this,$d))==null||t.shown()}async addAltText(t){const e=await t.render();S(this,_n,Pg).call(this,e),h(this,Aa).prepend(e,h(this,_n,kx)),v(this,$d,t)}addColorPicker(t){v(this,ka,t);const e=t.renderButton();S(this,_n,Pg).call(this,e),h(this,Aa).prepend(e,h(this,_n,kx))}remove(){var t;h(this,to).remove(),(t=h(this,ka))==null||t.destroy(),v(this,ka,null)}};to=new WeakMap,ka=new WeakMap,Vi=new WeakMap,Aa=new WeakMap,$d=new WeakMap,Ud=new WeakMap,sy=new WeakSet,BT=function(t){t.stopPropagation()},_n=new WeakSet,jT=function(t){h(this,Vi)._focusEventsAllowed=!1,li(t)},HT=function(t){h(this,Vi)._focusEventsAllowed=!0,li(t)},Pg=function(t){const e=h(this,Vi)._uiManager._signal;t.addEventListener("focusin",S(this,_n,jT).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",S(this,_n,HT).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ur,{signal:e})},$T=function(){const{editorType:t,_uiManager:e}=h(this,Vi),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",h(ts,Ud)[t]),S(this,_n,Pg).call(this,i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,Aa).append(i)},kx=function(){const t=document.createElement("div");return t.className="divider",t},_(ts,sy),_(ts,Ud,null);let Sx=ts;var Vd,Ea,Ca,Qo,UT,VT,WT;class wF{constructor(t){_(this,Qo);_(this,Vd,null);_(this,Ea,null);_(this,Ca);v(this,Ca,t)}show(t,e,i){const[r,s]=S(this,Qo,VT).call(this,e,i),{style:o}=h(this,Ea)||v(this,Ea,S(this,Qo,UT).call(this));t.append(h(this,Ea)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Ea).remove()}}Vd=new WeakMap,Ea=new WeakMap,Ca=new WeakMap,Qo=new WeakSet,UT=function(){const t=v(this,Ea,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ur,{signal:h(this,Ca)._signal});const e=v(this,Vd,document.createElement("div"));return e.className="buttons",t.append(e),S(this,Qo,WT).call(this),t},VT=function(t,e){let i=0,r=0;for(const s of t){const o=s.y+s.height;if(o<i)continue;const a=s.x+(e?s.width:0);if(o>i){r=a,i=o;continue}e?a>r&&(r=a):a<r&&(r=a)}return[e?1-r:r,i]},WT=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=h(this,Ca)._signal;t.addEventListener("contextmenu",ur,{signal:i}),t.addEventListener("click",()=>{h(this,Ca).highlightSelection("floating_button")},{signal:i}),h(this,Vd).append(t)};function Bm(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var oy;class vF{constructor(){_(this,oy,0)}get id(){return`${eF}${hn(this,oy)._++}`}}oy=new WeakMap;var Lu,Wd,Ke,Iu,Mg;const B1=class B1{constructor(){_(this,Iu);_(this,Lu,pF());_(this,Wd,0);_(this,Ke,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return mt(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:i,size:r,type:s}=t;return S(this,Iu,Mg).call(this,`${e}_${i}_${r}_${s}`,t)}async getFromUrl(t){return S(this,Iu,Mg).call(this,t,t)}async getFromBlob(t,e){const i=await e;return S(this,Iu,Mg).call(this,t,i)}async getFromId(t){h(this,Ke)||v(this,Ke,new Map);const e=h(this,Ke).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,Ke)||v(this,Ke,new Map);let i=h(this,Ke).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${h(this,Lu)}_${hn(this,Wd)._++}`,refCounter:1,isSvg:!1},h(this,Ke).set(t,i),h(this,Ke).set(i.id,i),i}getSvgUrl(t){const e=h(this,Ke).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,Ke)||v(this,Ke,new Map);const e=h(this,Ke).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,Lu)}_`)}};Lu=new WeakMap,Wd=new WeakMap,Ke=new WeakMap,Iu=new WeakSet,Mg=async function(t,e){h(this,Ke)||v(this,Ke,new Map);let i=h(this,Ke).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${h(this,Lu)}_${hn(this,Wd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(i.url=e,r=await Ky(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=B1._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,u()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=c});o.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){ft(r),i=null}return h(this,Ke).set(t,i),i&&h(this,Ke).set(i.id,i),i};let Ax=B1;var ae,eo,Gd,Jt;class _F{constructor(t=128){_(this,ae,[]);_(this,eo,!1);_(this,Gd);_(this,Jt,-1);v(this,Gd,t)}add({cmd:t,undo:e,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&t(),h(this,eo))return;const l={cmd:t,undo:e,post:i,type:s};if(h(this,Jt)===-1){h(this,ae).length>0&&(h(this,ae).length=0),v(this,Jt,0),h(this,ae).push(l);return}if(o&&h(this,ae)[h(this,Jt)].type===s){a&&(l.undo=h(this,ae)[h(this,Jt)].undo),h(this,ae)[h(this,Jt)]=l;return}const u=h(this,Jt)+1;u===h(this,Gd)?h(this,ae).splice(0,1):(v(this,Jt,u),u<h(this,ae).length&&h(this,ae).splice(u)),h(this,ae).push(l)}undo(){if(h(this,Jt)===-1)return;v(this,eo,!0);const{undo:t,post:e}=h(this,ae)[h(this,Jt)];t(),e==null||e(),v(this,eo,!1),v(this,Jt,h(this,Jt)-1)}redo(){if(h(this,Jt)<h(this,ae).length-1){v(this,Jt,h(this,Jt)+1),v(this,eo,!0);const{cmd:t,post:e}=h(this,ae)[h(this,Jt)];t(),e==null||e(),v(this,eo,!1)}}hasSomethingToUndo(){return h(this,Jt)!==-1}hasSomethingToRedo(){return h(this,Jt)<h(this,ae).length-1}cleanType(t){if(h(this,Jt)!==-1){for(let e=h(this,Jt);e>=0;e--)if(h(this,ae)[e].type!==t){h(this,ae).splice(e+1,h(this,Jt)-e),v(this,Jt,e);return}h(this,ae).length=0,v(this,Jt,-1)}}destroy(){v(this,ae,null)}}ae=new WeakMap,eo=new WeakMap,Gd=new WeakMap,Jt=new WeakMap;var ay,GT;class vp{constructor(t){_(this,ay);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=wn.platform;for(const[i,r,s={}]of t)for(const o of i){const a=o.startsWith("mac+");e&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!e&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(S(this,ay,GT).call(this,e));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(t,e)||(r.bind(t,...o,e)(),s||li(e))}}ay=new WeakSet,GT=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const ly=class ly{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return xF(t),mt(this,"_colors",t)}convert(t){const e=t1(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((s,o)=>s===e[o]))return ly._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?et.makeHexColor(...e):t}};H(ly,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ex=ly;var Du,qn,we,Oe,Ou,rs,Fu,xi,no,Ta,Nu,Pa,_r,Wi,Ma,qd,Xd,zu,Yd,Sr,io,Bu,ro,kr,uy,so,Kd,oo,Ra,Qd,Jd,Ee,Mt,ss,La,Zd,tf,ao,Ar,os,ef,wi,X,Rg,Cx,qT,XT,Lg,YT,KT,QT,Tx,JT,Px,Mx,ZT,dn,Yr,tP,eP,Rx,nP,Mh,Lx;const xu=class xu{constructor(t,e,i,r,s,o,a,l,u,c,d,f,p){_(this,X);_(this,Du,new AbortController);_(this,qn,null);_(this,we,new Map);_(this,Oe,new Map);_(this,Ou,null);_(this,rs,null);_(this,Fu,null);_(this,xi,new _F);_(this,no,null);_(this,Ta,null);_(this,Nu,0);_(this,Pa,new Set);_(this,_r,null);_(this,Wi,null);_(this,Ma,new Set);H(this,"_editorUndoBar",null);_(this,qd,!1);_(this,Xd,!1);_(this,zu,!1);_(this,Yd,null);_(this,Sr,null);_(this,io,null);_(this,Bu,null);_(this,ro,!1);_(this,kr,null);_(this,uy,new vF);_(this,so,!1);_(this,Kd,!1);_(this,oo,null);_(this,Ra,null);_(this,Qd,null);_(this,Jd,null);_(this,Ee,dt.NONE);_(this,Mt,new Set);_(this,ss,null);_(this,La,null);_(this,Zd,null);_(this,tf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});_(this,ao,[0,0]);_(this,Ar,null);_(this,os,null);_(this,ef,null);_(this,wi,null);const g=this._signal=h(this,Du).signal;v(this,os,t),v(this,ef,e),v(this,Ou,i),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:g}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),r._on("setpreference",this.onSetPreference.bind(this),{signal:g}),r._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:g}),S(this,X,YT).call(this),S(this,X,ZT).call(this),S(this,X,Tx).call(this),v(this,rs,s.annotationStorage),v(this,Yd,s.filterFactory),v(this,La,o),v(this,Bu,a||null),v(this,qd,l),v(this,Xd,u),v(this,zu,c),v(this,Jd,d||null),this.viewParameters={realScale:Yo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=p!==!1}static get _keyboardManager(){const t=xu.prototype,e=o=>h(o,os).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return mt(this,"_keyboardManager",new vp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,os).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,os).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}destroy(){var t,e,i,r,s;(t=h(this,wi))==null||t.resolve(),v(this,wi,null),(e=h(this,Du))==null||e.abort(),v(this,Du,null),this._signal=null;for(const o of h(this,Oe).values())o.destroy();h(this,Oe).clear(),h(this,we).clear(),h(this,Ma).clear(),v(this,qn,null),h(this,Mt).clear(),h(this,xi).destroy(),(i=h(this,Ou))==null||i.destroy(),(r=h(this,kr))==null||r.hide(),v(this,kr,null),h(this,Sr)&&(clearTimeout(h(this,Sr)),v(this,Sr,null)),h(this,Ar)&&(clearTimeout(h(this,Ar)),v(this,Ar,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Jd)}get useNewAltTextFlow(){return h(this,Xd)}get useNewAltTextWhenAddingImage(){return h(this,zu)}get hcmFilter(){return mt(this,"hcmFilter",h(this,La)?h(this,Yd).addHCMFilter(h(this,La).foreground,h(this,La).background):"none")}get direction(){return mt(this,"direction",getComputedStyle(h(this,os)).direction)}get highlightColors(){return mt(this,"highlightColors",h(this,Bu)?new Map(h(this,Bu).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return mt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),v(this,Ta,t)}setMainHighlightColorPicker(t){v(this,Qd,t)}editAltText(t,e=!1){var i;(i=h(this,Ou))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":v(this,zu,e);break}}onPageChanging({pageNumber:t}){v(this,Nu,t-1)}focusMainContainer(){h(this,os).focus()}findParent(t,e){for(const i of h(this,Oe).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(t>=r&&t<=r+o&&e>=s&&e<=s+a)return i}return null}disableUserSelect(t=!1){h(this,ef).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,Ma).add(t)}removeShouldRescale(t){h(this,Ma).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Yo.PDF_TO_CSS_UNITS;for(const i of h(this,Ma))i.onScaleChanging();(e=h(this,Ta))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=e,a=e.toString(),u=S(this,X,Rg).call(this,e).closest(".textLayer"),c=this.getSelectionBoxes(u);if(!c)return;e.empty();const d=S(this,X,Cx).call(this,u),f=h(this,Ee)===dt.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:c,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(dt.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,rs)&&!h(this,rs).has(t.id)&&h(this,rs).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,ro)&&(v(this,ro,!1),S(this,X,Lg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Mt))if(e.div.contains(t)){v(this,Ra,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,Ra))return;const[t,e]=h(this,Ra);v(this,Ra,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){S(this,X,Tx).call(this),S(this,X,Px).call(this)}removeEditListeners(){S(this,X,JT).call(this),S(this,X,Mx).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of h(this,Wi))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of h(this,Wi))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=h(this,qn))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Mt)){const s=r.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const o of h(this,Wi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ft(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)S(this,X,Rx).call(this,l);S(this,X,Lx).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ft(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Ee)!==dt.NONE&&!this.isEditorHandlingKeyboard&&xu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,ro)&&(v(this,ro,!1),S(this,X,Lg).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(S(this,X,KT).call(this),S(this,X,Px).call(this),S(this,X,dn).call(this,{isEditing:h(this,Ee)!==dt.NONE,isEmpty:S(this,X,Mh).call(this),hasSomethingToUndo:h(this,xi).hasSomethingToUndo(),hasSomethingToRedo:h(this,xi).hasSomethingToRedo(),hasSelectedEditor:!1})):(S(this,X,QT).call(this),S(this,X,Mx).call(this),S(this,X,dn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,Wi)){v(this,Wi,t);for(const e of h(this,Wi))S(this,X,Yr).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,uy).id}get currentLayer(){return h(this,Oe).get(h(this,Nu))}getLayer(t){return h(this,Oe).get(t)}get currentPageIndex(){return h(this,Nu)}addLayer(t){h(this,Oe).set(t.pageIndex,t),h(this,so)?t.enable():t.disable()}removeLayer(t){h(this,Oe).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){var r;if(h(this,Ee)!==t&&!(h(this,wi)&&(await h(this,wi).promise,!h(this,wi)))){if(v(this,wi,Promise.withResolvers()),v(this,Ee,t),t===dt.NONE){this.setEditingState(!1),S(this,X,eP).call(this),(r=this._editorUndoBar)==null||r.hide(),h(this,wi).resolve();return}this.setEditingState(!0),await S(this,X,tP).call(this),this.unselectAll();for(const s of h(this,Oe).values())s.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),h(this,wi).resolve();return}for(const s of h(this,we).values())s.annotationElementId===e?(this.setSelected(s),s.enterInEditMode()):s.unselect();h(this,wi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,Ee)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(h(this,Wi)){switch(t){case vt.CREATE:this.currentLayer.addNewEditor();return;case vt.HIGHLIGHT_DEFAULT_COLOR:(i=h(this,Qd))==null||i.updateColor(e);break;case vt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Zd)||v(this,Zd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Mt))r.updateParams(t,e);for(const r of h(this,Wi))r.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var s;for(const o of h(this,we).values())o.editorType===t&&o.show(e);(((s=h(this,Zd))==null?void 0:s.get(vt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&S(this,X,Yr).call(this,[[vt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Kd)!==t){v(this,Kd,t);for(const e of h(this,Oe).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of h(this,we).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return h(this,we).get(t)}addEditor(t){h(this,we).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,Sr)&&clearTimeout(h(this,Sr)),v(this,Sr,setTimeout(()=>{this.focusMainContainer(),v(this,Sr,null)},0))),h(this,we).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,Pa).has(t.annotationElementId))&&((e=h(this,rs))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,Pa).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Pa).has(t)}removeDeletedAnnotationElement(t){h(this,Pa).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,qn)!==t&&(v(this,qn,t),t&&S(this,X,Yr).call(this,t.propertiesToUpdate))}updateUI(t){h(this,X,nP)===t&&S(this,X,Yr).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){S(this,X,Yr).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(h(this,Mt).has(t)){h(this,Mt).delete(t),t.unselect(),S(this,X,dn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Mt).add(t),t.select(),S(this,X,Yr).call(this,t.propertiesToUpdate),S(this,X,dn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=h(this,Ta))==null||e.commitOrRemove();for(const i of h(this,Mt))i!==t&&i.unselect();h(this,Mt).clear(),h(this,Mt).add(t),t.select(),S(this,X,Yr).call(this,t.propertiesToUpdate),S(this,X,dn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Mt).has(t)}get firstSelectedEditor(){return h(this,Mt).values().next().value}unselect(t){t.unselect(),h(this,Mt).delete(t),S(this,X,dn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Mt).size!==0}get isEnterHandled(){return h(this,Mt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;h(this,xi).undo(),S(this,X,dn).call(this,{hasSomethingToUndo:h(this,xi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:S(this,X,Mh).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){h(this,xi).redo(),S(this,X,dn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,xi).hasSomethingToRedo(),isEmpty:S(this,X,Mh).call(this)})}addCommands(t){h(this,xi).add(t),S(this,X,dn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:S(this,X,Mh).call(this)})}cleanUndoStack(t){h(this,xi).cleanType(t)}delete(){var s;this.commitOrRemove();const t=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...h(this,Mt)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},r=()=>{for(const o of e)S(this,X,Rx).call(this,o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=h(this,qn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,qn)||this.hasSelection}selectAll(){for(const t of h(this,Mt))t.commit();S(this,X,Lx).call(this,h(this,we).values())}unselectAll(){var t;if(!(h(this,qn)&&(h(this,qn).commitOrRemove(),h(this,Ee)!==dt.NONE))&&!((t=h(this,Ta))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of h(this,Mt))e.unselect();h(this,Mt).clear(),S(this,X,dn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;h(this,ao)[0]+=t,h(this,ao)[1]+=e;const[r,s]=h(this,ao),o=[...h(this,Mt)],a=1e3;h(this,Ar)&&clearTimeout(h(this,Ar)),v(this,Ar,setTimeout(()=>{v(this,Ar,null),h(this,ao)[0]=h(this,ao)[1]=0,this.addCommands({cmd:()=>{for(const l of o)h(this,we).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)h(this,we).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),v(this,_r,new Map);for(const t of h(this,Mt))h(this,_r).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,_r))return!1;this.disableUserSelect(!1);const t=h(this,_r);v(this,_r,null);let e=!1;for(const[{x:r,y:s,pageIndex:o},a]of t)a.newX=r,a.newY=s,a.newPageIndex=o,e||(e=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!e)return!1;const i=(r,s,o,a)=>{if(h(this,we).has(r.id)){const l=h(this,Oe).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of t)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of t)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,_r))for(const i of h(this,_r).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Mt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,qn)===t}getActive(){return h(this,qn)}getMode(){return h(this,Ee)}get imageManager(){return mt(this,"imageManager",new Ax)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let u=0,c=e.rangeCount;u<c;u++)if(!t.contains(e.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(u,c,d,f)=>({x:(c-r)/o,y:1-(u+d-i)/s,width:f/o,height:d/s});break;case"180":a=(u,c,d,f)=>({x:1-(u+d-i)/s,y:1-(c+f-r)/o,width:d/s,height:f/o});break;case"270":a=(u,c,d,f)=>({x:1-(c+f-r)/o,y:(u-i)/s,width:f/o,height:d/s});break;default:a=(u,c,d,f)=>({x:(u-i)/s,y:(c-r)/o,width:d/s,height:f/o});break}const l=[];for(let u=0,c=e.rangeCount;u<c;u++){const d=e.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:g,height:m}of d.getClientRects())g===0||m===0||l.push(a(f,p,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,Fu)||v(this,Fu,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,Fu))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,Fu))==null?void 0:r.get(t.data.id);if(!e)return;const i=h(this,rs).getRawValue(e);i&&(h(this,Ee)===dt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};Du=new WeakMap,qn=new WeakMap,we=new WeakMap,Oe=new WeakMap,Ou=new WeakMap,rs=new WeakMap,Fu=new WeakMap,xi=new WeakMap,no=new WeakMap,Ta=new WeakMap,Nu=new WeakMap,Pa=new WeakMap,_r=new WeakMap,Wi=new WeakMap,Ma=new WeakMap,qd=new WeakMap,Xd=new WeakMap,zu=new WeakMap,Yd=new WeakMap,Sr=new WeakMap,io=new WeakMap,Bu=new WeakMap,ro=new WeakMap,kr=new WeakMap,uy=new WeakMap,so=new WeakMap,Kd=new WeakMap,oo=new WeakMap,Ra=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,Ee=new WeakMap,Mt=new WeakMap,ss=new WeakMap,La=new WeakMap,Zd=new WeakMap,tf=new WeakMap,ao=new WeakMap,Ar=new WeakMap,os=new WeakMap,ef=new WeakMap,wi=new WeakMap,X=new WeakSet,Rg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Cx=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of h(this,Oe).values())if(i.hasTextLayer(t))return i;return null},qT=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=S(this,X,Rg).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(h(this,kr)||v(this,kr,new wF(this)),h(this,kr).show(i,r,this.direction==="ltr"))},XT=function(){var s,o,a;const t=document.getSelection();if(!t||t.isCollapsed){h(this,ss)&&((s=h(this,kr))==null||s.hide(),v(this,ss,null),S(this,X,dn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,ss))return;const r=S(this,X,Rg).call(this,t).closest(".textLayer");if(!r){h(this,ss)&&((o=h(this,kr))==null||o.hide(),v(this,ss,null),S(this,X,dn).call(this,{hasSelectedText:!1}));return}if((a=h(this,kr))==null||a.hide(),v(this,ss,e),S(this,X,dn).call(this,{hasSelectedText:!0}),!(h(this,Ee)!==dt.HIGHLIGHT&&h(this,Ee)!==dt.NONE)&&(h(this,Ee)===dt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),v(this,ro,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,Ee)===dt.HIGHLIGHT?S(this,X,Cx).call(this,r):null;l==null||l.toggleDrawing();const u=new AbortController,c=this.combinedSignal(u),d=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&S(this,X,Lg).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}},Lg=function(t=""){h(this,Ee)===dt.HIGHLIGHT?this.highlightSelection(t):h(this,qd)&&S(this,X,qT).call(this)},YT=function(){document.addEventListener("selectionchange",S(this,X,XT).bind(this),{signal:this._signal})},KT=function(){if(h(this,io))return;v(this,io,new AbortController);const t=this.combinedSignal(h(this,io));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},QT=function(){var t;(t=h(this,io))==null||t.abort(),v(this,io,null)},Tx=function(){if(h(this,oo))return;v(this,oo,new AbortController);const t=this.combinedSignal(h(this,oo));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},JT=function(){var t;(t=h(this,oo))==null||t.abort(),v(this,oo,null)},Px=function(){if(h(this,no))return;v(this,no,new AbortController);const t=this.combinedSignal(h(this,no));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Mx=function(){var t;(t=h(this,no))==null||t.abort(),v(this,no,null)},ZT=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},dn=function(t){Object.entries(t).some(([i,r])=>h(this,tf)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,tf),t)}),h(this,Ee)===dt.HIGHLIGHT&&t.hasSelectedEditor===!1&&S(this,X,Yr).call(this,[[vt.HIGHLIGHT_FREE,!0]]))},Yr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},tP=async function(){if(!h(this,so)){v(this,so,!0);const t=[];for(const e of h(this,Oe).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,we).values())e.enable()}},eP=function(){if(this.unselectAll(),h(this,so)){v(this,so,!1);for(const t of h(this,Oe).values())t.disable();for(const t of h(this,we).values())t.disable()}},Rx=function(t){const e=h(this,Oe).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},nP=function(){let t=null;for(t of h(this,Mt));return t},Mh=function(){if(h(this,we).size===0)return!0;if(h(this,we).size===1)for(const t of h(this,we).values())return t.isEmpty();return!1},Lx=function(t){for(const e of h(this,Mt))e.unselect();h(this,Mt).clear();for(const e of t)e.isEmpty()||(h(this,Mt).add(e),e.select());S(this,X,dn).call(this,{hasSelectedEditor:this.hasSelection})},H(xu,"TRANSLATE_SMALL",1),H(xu,"TRANSLATE_BIG",10);let Bl=xu;var Ce,Er,Gi,ju,Cr,Xn,Hu,Tr,Rn,as,Ia,Pr,lo,rr,Rh,Ig;const fn=class fn{constructor(t){_(this,rr);_(this,Ce,null);_(this,Er,!1);_(this,Gi,null);_(this,ju,null);_(this,Cr,null);_(this,Xn,null);_(this,Hu,!1);_(this,Tr,null);_(this,Rn,null);_(this,as,null);_(this,Ia,null);_(this,Pr,!1);v(this,Rn,t),v(this,Pr,t._uiManager.useNewAltTextFlow),h(fn,lo)||v(fn,lo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){fn._l10n??(fn._l10n=t)}async render(){const t=v(this,Gi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=v(this,ju,document.createElement("span"));t.append(e),h(this,Pr)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(fn,lo).missing),e.setAttribute("data-l10n-id",h(fn,lo)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=h(this,Rn)._uiManager._signal;t.addEventListener("contextmenu",ur,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),h(this,Rn)._uiManager.editAltText(h(this,Rn)),h(this,Pr)&&h(this,Rn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,rr,Rh)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(v(this,Hu,!0),r(s))},{signal:i}),await S(this,rr,Ig).call(this),t}finish(){h(this,Gi)&&(h(this,Gi).focus({focusVisible:h(this,Hu)}),v(this,Hu,!1))}isEmpty(){return h(this,Pr)?h(this,Ce)===null:!h(this,Ce)&&!h(this,Er)}hasData(){return h(this,Pr)?h(this,Ce)!==null||!!h(this,as):this.isEmpty()}get guessedText(){return h(this,as)}async setGuessedText(t){h(this,Ce)===null&&(v(this,as,t),v(this,Ia,await fn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),S(this,rr,Ig).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,Pr)||h(this,Ce)){(e=h(this,Tr))==null||e.remove(),v(this,Tr,null);return}if(!h(this,Tr)){const i=v(this,Tr,document.createElement("div"));i.className="noAltTextBadge",h(this,Rn).div.append(i)}h(this,Tr).classList.toggle("hidden",!t)}serialize(t){let e=h(this,Ce);return!t&&h(this,as)===e&&(e=h(this,Ia)),{altText:e,decorative:h(this,Er),guessedText:h(this,as),textWithDisclaimer:h(this,Ia)}}get data(){return{altText:h(this,Ce),decorative:h(this,Er)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(v(this,as,i),v(this,Ia,r)),!(h(this,Ce)===t&&h(this,Er)===e)&&(s||(v(this,Ce,t),v(this,Er,e)),S(this,rr,Ig).call(this))}toggle(t=!1){h(this,Gi)&&(!t&&h(this,Xn)&&(clearTimeout(h(this,Xn)),v(this,Xn,null)),h(this,Gi).disabled=!t)}shown(){h(this,Rn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,rr,Rh)}})}destroy(){var t,e;(t=h(this,Gi))==null||t.remove(),v(this,Gi,null),v(this,ju,null),v(this,Cr,null),(e=h(this,Tr))==null||e.remove(),v(this,Tr,null)}};Ce=new WeakMap,Er=new WeakMap,Gi=new WeakMap,ju=new WeakMap,Cr=new WeakMap,Xn=new WeakMap,Hu=new WeakMap,Tr=new WeakMap,Rn=new WeakMap,as=new WeakMap,Ia=new WeakMap,Pr=new WeakMap,lo=new WeakMap,rr=new WeakSet,Rh=function(){return h(this,Ce)&&"added"||h(this,Ce)===null&&this.guessedText&&"review"||"missing"},Ig=async function(){var r,s,o;const t=h(this,Gi);if(!t)return;if(h(this,Pr)){if(t.classList.toggle("done",!!h(this,Ce)),t.setAttribute("data-l10n-id",h(fn,lo)[h(this,rr,Rh)]),(r=h(this,ju))==null||r.setAttribute("data-l10n-id",h(fn,lo)[`${h(this,rr,Rh)}-label`]),!h(this,Ce)){(s=h(this,Cr))==null||s.remove();return}}else{if(!h(this,Ce)&&!h(this,Er)){t.classList.remove("done"),(o=h(this,Cr))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,Cr);if(!e){v(this,Cr,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Rn).id}`;const a=100,l=h(this,Rn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,Xn)),v(this,Xn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{v(this,Xn,setTimeout(()=>{v(this,Xn,null),h(this,Cr).classList.add("show"),h(this,Rn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),t.addEventListener("mouseleave",()=>{var u;h(this,Xn)&&(clearTimeout(h(this,Xn)),v(this,Xn,null)),(u=h(this,Cr))==null||u.classList.remove("show")},{signal:l})}h(this,Er)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,Ce)),e.parentNode||t.append(e);const i=h(this,Rn).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},_(fn,lo,null),H(fn,"_l10n",null);let jm=fn;var nf,Da,rf,sf,of,af,lf,$u,ls,Oa,uo,js,iP,rP,Ix;const j1=class j1{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){_(this,js);_(this,nf);_(this,Da,!1);_(this,rf,null);_(this,sf);_(this,of);_(this,af);_(this,lf);_(this,$u);_(this,ls,null);_(this,Oa);_(this,uo,null);v(this,nf,t),v(this,rf,i),v(this,sf,e),v(this,of,r),v(this,af,s),v(this,lf,o),v(this,Oa,new AbortController),v(this,$u,AbortSignal.any([a,h(this,Oa).signal])),t.addEventListener("touchstart",S(this,js,iP).bind(this),{passive:!1,signal:h(this,$u)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return mt(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var t;(t=h(this,Oa))==null||t.abort(),v(this,Oa,null)}};nf=new WeakMap,Da=new WeakMap,rf=new WeakMap,sf=new WeakMap,of=new WeakMap,af=new WeakMap,lf=new WeakMap,$u=new WeakMap,ls=new WeakMap,Oa=new WeakMap,uo=new WeakMap,js=new WeakSet,iP=function(t){var r,s,o;if((r=h(this,sf))!=null&&r.call(this)||t.touches.length<2)return;if(!h(this,uo)){v(this,uo,new AbortController);const a=AbortSignal.any([h(this,$u),h(this,uo).signal]),l=h(this,nf),u={signal:a,passive:!1};l.addEventListener("touchmove",S(this,js,rP).bind(this),u),l.addEventListener("touchend",S(this,js,Ix).bind(this),u),l.addEventListener("touchcancel",S(this,js,Ix).bind(this),u),(s=h(this,of))==null||s.call(this)}if(li(t),t.touches.length!==2||(o=h(this,rf))!=null&&o.call(this)){v(this,ls,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),v(this,ls,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},rP=function(t){var k;if(!h(this,ls)||t.touches.length!==2)return;let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:s}=e,{screenX:o,screenY:a}=i,l=h(this,ls),{touch0X:u,touch0Y:c,touch1X:d,touch1Y:f}=l,p=d-u,g=f-c,m=o-r,x=a-s,y=Math.hypot(m,x)||1,b=Math.hypot(p,g)||1;if(!h(this,Da)&&Math.abs(b-y)<=j1.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,t.preventDefault(),!h(this,Da)){v(this,Da,!0);return}const w=[(r+o)/2,(s+a)/2];(k=h(this,af))==null||k.call(this,w,b,y)},Ix=function(t){var e;h(this,uo).abort(),v(this,uo,null),(e=h(this,lf))==null||e.call(this),h(this,ls)&&(t.preventDefault(),v(this,ls,null),v(this,Da,!1))};let Hm=j1;var Fa,qi,Vt,Uu,co,uf,Na,Fe,za,us,ho,cf,Ba,Yn,hf,ja,cs,Mr,Vu,Wu,vi,Ha,df,cy,st,Dx,ff,Ox,Dg,sP,oP,Fx,Og,Nx,aP,lP,uP,zx,cP,Bx,hP,dP,fP,jx,Lh;const pt=class pt{constructor(t){_(this,st);_(this,Fa,null);_(this,qi,null);_(this,Vt,null);_(this,Uu,!1);_(this,co,null);_(this,uf,"");_(this,Na,!1);_(this,Fe,null);_(this,za,null);_(this,us,null);_(this,ho,null);_(this,cf,"");_(this,Ba,!1);_(this,Yn,null);_(this,hf,!1);_(this,ja,!1);_(this,cs,!1);_(this,Mr,null);_(this,Vu,0);_(this,Wu,0);_(this,vi,null);_(this,Ha,null);H(this,"_editToolbar",null);H(this,"_initialOptions",Object.create(null));H(this,"_initialData",null);H(this,"_isVisible",!0);H(this,"_uiManager",null);H(this,"_focusEventsAllowed",!0);_(this,df,!1);_(this,cy,pt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=Bl.TRANSLATE_SMALL,i=Bl.TRANSLATE_BIG;return mt(this,"_resizerKeyboardManager",new vp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return mt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new SF({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??(pt._l10n=t),pt._l10nResizer||(pt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),pt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,df)}set _isDraggable(t){var e;v(this,df,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,cy)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):S(this,st,Lh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,Ba)?v(this,Ba,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/s,this.y=(e+r)/o,this.fixAndSetPosition()}translate(t,e){S(this,st,Dx).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,Yn)||v(this,Yn,[this.x,this.y,this.width,this.height]),S(this,st,Dx).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,Yn)||v(this,Yn,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,u]=this.getBaseTranslation();o+=l,a+=u;const{style:c}=i;c.left=`${(100*o).toFixed(2)}%`,c.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!h(this,Yn)&&(h(this,Yn)[0]!==this.x||h(this,Yn)[1]!==this.y)}get _hasBeenResized(){return!!h(this,Yn)&&(h(this,Yn)[2]!==this.width||h(this,Yn)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=pt,r=i/t,s=i/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=i,l*=r,s*=i,o*=r,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(i-a,s)),o=Math.max(0,Math.min(r-l,o));break;case 90:s=Math.max(0,Math.min(i-l,s)),o=Math.min(r,Math.max(a,o));break;case 180:s=Math.min(i,Math.max(a,s)),o=Math.min(r,Math.max(l,o));break;case 270:s=Math.min(i,Math.max(l,s)),o=Math.max(0,Math.min(r-a,o));break}this.x=s/=i,this.y=o/=r;const[u,c]=this.getBaseTranslation();s+=u,o+=c,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return S(i=pt,ff,Ox).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return S(i=pt,ff,Ox).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/i).toFixed(2)}%`,h(this,Na)||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),s=!h(this,Na)&&e.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!h(this,Na)&&!s&&(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=h(this,Vt))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,ja)?this._editToolbar:(this._editToolbar=new Sx(this),this.div.append(this._editToolbar.render()),h(this,Vt)&&await this._editToolbar.addAltText(h(this,Vt)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,Vt))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,Vt)||(jm.initialize(pt._l10n),v(this,Vt,new jm(this)),h(this,Fa)&&(h(this,Vt).data=h(this,Fa),v(this,Fa,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,Vt))==null?void 0:t.data}set altTextData(t){h(this,Vt)&&(h(this,Vt).data=t)}get guessedAltText(){var t;return(t=h(this,Vt))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,Vt))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,Vt))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,Vt)&&!h(this,Vt).isEmpty()}hasAltTextData(){var t;return((t=h(this,Vt))==null?void 0:t.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Uu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),S(this,st,Bx).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Bm(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,Ha)||v(this,Ha,new Hm({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:S(this,st,aP).bind(this),onPinching:S(this,st,lP).bind(this),onPinchEnd:S(this,st,uP).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(t){const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(v(this,Ba,!0),this._isDraggable){S(this,st,cP).call(this,t);return}S(this,st,zx).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,Mr)&&clearTimeout(h(this,Mr)),v(this,Mr,setTimeout(()=>{var t;v(this,Mr,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=t/r,c=e/r,d=this.x*s,f=this.y*o,p=this.width*s,g=this.height*o;switch(i){case 0:return[d+u+a,o-f-c-g+l,d+u+p+a,o-f-c+l];case 90:return[d+c+a,o-f+u+l,d+c+g+a,o-f+u+p+l];case 180:return[d-u-p+a,o-f+c+l,d-u+a,o-f+c+g+l];case 270:return[d-c-g+a,o-f-u-p+l,d-c+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,s,o]=t,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,e-o,a,l];case 90:return[i,e-r,l,a];case 180:return[s,e-r,a,l];case 270:return[s,e-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){v(this,ja,!0)}disableEditMode(){v(this,ja,!1)}isInEditMode(){return h(this,ja)}shouldGetKeyboardEvents(){return h(this,cs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return e<o&&r>0&&t<s&&i>0}rebuild(){S(this,st,Bx).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){zt("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,v(r,Fa,t.accessibilityData);const[s,o]=r.pageDimensions,[a,l,u,c]=r.getRectInCurrentCoords(t.rect,o);return r.x=a/s,r.y=l/o,r.width=u/s,r.height=c/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=h(this,ho))==null||t.abort(),v(this,ho,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,Mr)&&(clearTimeout(h(this,Mr)),v(this,Mr,null)),S(this,st,Lh).call(this),this.removeEditToolbar(),h(this,vi)){for(const i of h(this,vi).values())clearTimeout(i);v(this,vi,null)}this.parent=null,(e=h(this,Ha))==null||e.destroy(),v(this,Ha,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(S(this,st,sP).call(this),h(this,Fe).classList.remove("hidden"),Bm(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),v(this,us,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,Fe).children;if(!h(this,qi)){v(this,qi,Array.from(e));const o=S(this,st,hP).bind(this),a=S(this,st,dP).bind(this),l=this._uiManager._signal;for(const u of h(this,qi)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",S(this,st,fP).bind(this,c),{signal:l}),u.setAttribute("data-l10n-id",pt._l10nResizer[c])}}const i=h(this,qi)[0];let r=0;for(const o of e){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,qi).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)h(this,Fe).append(h(this,Fe).firstChild);else if(s>r)for(let a=0;a<s-r;a++)h(this,Fe).firstChild.before(h(this,Fe).lastChild);let o=0;for(const a of e){const u=h(this,qi)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",pt._l10nResizer[u])}}S(this,st,jx).call(this,0),v(this,cs,!0),h(this,Fe).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,cs)&&S(this,st,Nx).call(this,h(this,cf),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){S(this,st,Lh).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(e=this._editToolbar)==null||e.show(),(i=h(this,Vt))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,r,s;(t=h(this,Fe))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=h(this,Vt))==null||s.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,hf)}set isEditing(t){v(this,hf,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){v(this,Na,!0);const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,vi)||v(this,vi,new Map);const{action:i}=t;let r=h(this,vi).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,vi).delete(i),h(this,vi).size===0&&v(this,vi,null)},pt._telemetryTimeout),h(this,vi).set(i,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),v(this,Uu,!1)}disable(){this.div&&(this.div.tabIndex=-1),v(this,Uu,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Fa=new WeakMap,qi=new WeakMap,Vt=new WeakMap,Uu=new WeakMap,co=new WeakMap,uf=new WeakMap,Na=new WeakMap,Fe=new WeakMap,za=new WeakMap,us=new WeakMap,ho=new WeakMap,cf=new WeakMap,Ba=new WeakMap,Yn=new WeakMap,hf=new WeakMap,ja=new WeakMap,cs=new WeakMap,Mr=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,vi=new WeakMap,Ha=new WeakMap,df=new WeakMap,cy=new WeakMap,st=new WeakSet,Dx=function([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ff=new WeakSet,Ox=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Dg=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},sP=function(){if(h(this,Fe))return;v(this,Fe,document.createElement("div")),h(this,Fe).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");h(this,Fe).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",S(this,st,oP).bind(this,i),{signal:e}),r.addEventListener("contextmenu",ur,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,Fe))},oP=function(t,e){var c;e.preventDefault();const{isMac:i}=wn.platform;if(e.button!==0||e.ctrlKey&&i)return;(c=h(this,Vt))==null||c.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,v(this,za,[e.screenX,e.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",S(this,st,Nx).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",li,{passive:!1,signal:o}),window.addEventListener("contextmenu",ur,{signal:o}),v(this,us,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const u=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=h(this,Vt))==null||d.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=l,S(this,st,Og).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},Fx=function(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e;const[s,o]=this.parentDimensions;this.setDims(s*i,o*r),this.fixAndSetPosition(),this._onResized()},Og=function(){if(!h(this,us))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=h(this,us);v(this,us,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===t&&o===e&&a===i&&l===r||this.addCommands({cmd:S(this,st,Fx).bind(this,s,o,a,l),undo:S(this,st,Fx).bind(this,t,e,i,r),mustExec:!0})},Nx=function(t,e){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=pt.MIN_SIZE/i,c=pt.MIN_SIZE/r,d=S(this,st,Dg).call(this,this.rotation),f=(z,j)=>[d[0]*z+d[2]*j,d[1]*z+d[3]*j],p=S(this,st,Dg).call(this,360-this.rotation),g=(z,j)=>[p[0]*z+p[2]*j,p[1]*z+p[3]*j];let m,x,y=!1,b=!1;switch(t){case"topLeft":y=!0,m=(z,j)=>[0,0],x=(z,j)=>[z,j];break;case"topMiddle":m=(z,j)=>[z/2,0],x=(z,j)=>[z/2,j];break;case"topRight":y=!0,m=(z,j)=>[z,0],x=(z,j)=>[0,j];break;case"middleRight":b=!0,m=(z,j)=>[z,j/2],x=(z,j)=>[0,j/2];break;case"bottomRight":y=!0,m=(z,j)=>[z,j],x=(z,j)=>[0,0];break;case"bottomMiddle":m=(z,j)=>[z/2,j],x=(z,j)=>[z/2,0];break;case"bottomLeft":y=!0,m=(z,j)=>[0,j],x=(z,j)=>[z,0];break;case"middleLeft":b=!0,m=(z,j)=>[0,j/2],x=(z,j)=>[z,j/2];break}const w=m(a,l),k=x(a,l);let E=f(...k);const A=pt._round(s+E[0]),C=pt._round(o+E[1]);let R=1,L=1,P,I;if(e.fromKeyboard)({deltaX:P,deltaY:I}=e);else{const{screenX:z,screenY:j}=e,[B,W]=h(this,za);[P,I]=this.screenToPageTranslation(z-B,j-W),h(this,za)[0]=z,h(this,za)[1]=j}if([P,I]=g(P/i,I/r),y){const z=Math.hypot(a,l);R=L=Math.max(Math.min(Math.hypot(k[0]-w[0]-P,k[1]-w[1]-I)/z,1/a,1/l),u/a,c/l)}else b?R=Math.max(u,Math.min(1,Math.abs(k[0]-w[0]-P)))/a:L=Math.max(c,Math.min(1,Math.abs(k[1]-w[1]-I)))/l;const F=pt._round(a*R),Y=pt._round(l*L);E=f(...x(F,Y));const q=A-E[0],V=C-E[1];h(this,Yn)||v(this,Yn,[this.x,this.y,this.width,this.height]),this.width=F,this.height=Y,this.x=q,this.y=V,this.setDims(i*F,r*Y),this.fixAndSetPosition(),this._onResizing()},aP=function(){var t;v(this,us,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=h(this,Vt))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},lP=function(t,e,i){let s=.7*(i/e)+1-.7;if(s===1)return;const o=S(this,st,Dg).call(this,this.rotation),a=(A,C)=>[o[0]*A+o[2]*C,o[1]*A+o[3]*C],[l,u]=this.parentDimensions,c=this.x,d=this.y,f=this.width,p=this.height,g=pt.MIN_SIZE/l,m=pt.MIN_SIZE/u;s=Math.max(Math.min(s,1/f,1/p),g/f,m/p);const x=pt._round(f*s),y=pt._round(p*s);if(x===f&&y===p)return;h(this,Yn)||v(this,Yn,[c,d,f,p]);const b=a(f/2,p/2),w=pt._round(c+b[0]),k=pt._round(d+b[1]),E=a(x/2,y/2);this.x=w-E[0],this.y=k-E[1],this.width=x,this.height=y,this.setDims(l*x,u*y),this.fixAndSetPosition(),this._onResizing()},uP=function(){var t;(t=h(this,Vt))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),S(this,st,Og).call(this)},zx=function(t){const{isMac:e}=wn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},cP=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},a=u=>{r.abort(),v(this,co,null),v(this,Ba,!1),this._uiManager.endDragSession()||S(this,st,zx).call(this,u),i&&this._onStopDragging()};e&&(v(this,Vu,t.clientX),v(this,Wu,t.clientY),v(this,co,t.pointerId),v(this,uf,t.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._onStartDragging());const{clientX:c,clientY:d,pointerId:f}=u;if(f!==h(this,co)){li(u);return}const[p,g]=this.screenToPageTranslation(c-h(this,Vu),d-h(this,Wu));v(this,Vu,c),v(this,Wu,d),this._uiManager.dragSelectedEditors(p,g)},o),window.addEventListener("touchmove",li,o),window.addEventListener("pointerdown",u=>{u.pointerType===h(this,uf)&&(h(this,Ha)||u.isPrimary)&&a(u),li(u)},o));const l=u=>{if(!h(this,co)||h(this,co)===u.pointerId){a(u);return}li(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},Bx=function(){if(h(this,ho)||!this.div)return;v(this,ho,new AbortController);const t=this._uiManager.combinedSignal(h(this,ho));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},hP=function(t){pt._resizerKeyboardManager.exec(this,t)},dP=function(t){var e;h(this,cs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,Fe)&&S(this,st,Lh).call(this)},fP=function(t){v(this,cf,h(this,cs)?t:"")},jx=function(t){if(h(this,qi))for(const e of h(this,qi))e.tabIndex=t},Lh=function(){v(this,cs,!1),S(this,st,jx).call(this,-1),S(this,st,Og).call(this)},_(pt,ff),H(pt,"_l10n",null),H(pt,"_l10nResizer",null),H(pt,"_borderLineWidth",-1),H(pt,"_colorManager",new Ex),H(pt,"_zIndex",1),H(pt,"_telemetryTimeout",1e3);let ne=pt;class SF extends ne{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CS=3285377520,yi=4294901760,gr=65535;class pP{constructor(t){this.h1=t?t&4294967295:CS,this.h2=t?t&4294967295:CS}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let m=0,x=t.length;m<x;m++){const y=t.charCodeAt(m);y<=255?e[i++]=y:(e[i++]=y>>>8,e[i++]=y&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(e.buffer,0,r);let a=0,l=0,u=this.h1,c=this.h2;const d=3432918353,f=461845907,p=d&gr,g=f&gr;for(let m=0;m<r;m++)m&1?(a=o[m],a=a*d&yi|a*p&gr,a=a<<15|a>>>17,a=a*f&yi|a*g&gr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[m],l=l*d&yi|l*p&gr,l=l<<15|l>>>17,l=l*f&yi|l*g&gr,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,s){case 3:a^=e[r*4+2]<<16;case 2:a^=e[r*4+1]<<8;case 1:a^=e[r*4],a=a*d&yi|a*p&gr,a=a<<15|a>>>17,a=a*f&yi|a*g&gr,r&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&yi|t*36045&gr,e=e*4283543511&yi|((e<<16|t>>>16)*2950163797&yi)>>>16,t^=e>>>1,t=t*444984403&yi|t*60499&gr,e=e*3301882366&yi|((e<<16|t>>>16)*3120437893&yi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Hx=Object.freeze({map:null,hash:"",transfer:void 0});var $a,Ua,Te,hy,gP;class e1{constructor(){_(this,hy);_(this,$a,!1);_(this,Ua,null);_(this,Te,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=h(this,Te).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return h(this,Te).get(t)}remove(t){if(h(this,Te).delete(t),h(this,Te).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Te).values())if(e instanceof ne)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=h(this,Te).get(t);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(e))i[s]!==o&&(r=!0,i[s]=o);else r=!0,h(this,Te).set(t,e);r&&S(this,hy,gP).call(this),e instanceof ne&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Te).has(t)}getAll(){return h(this,Te).size>0?Yv(h(this,Te)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return h(this,Te).size}resetModified(){h(this,$a)&&(v(this,$a,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new mP(this)}get serializable(){if(h(this,Te).size===0)return Hx;const t=new Map,e=new pP,i=[],r=Object.create(null);let s=!1;for(const[o,a]of h(this,Te)){const l=a instanceof ne?a.serialize(!1,r):a;l&&(t.set(o,l),e.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Hx}get editorStats(){let t=null;const e=new Map;for(const i of h(this,Te).values()){if(!(i instanceof ne))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const o=t[s]||(t[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){v(this,Ua,null)}get modifiedIds(){if(h(this,Ua))return h(this,Ua);const t=[];for(const e of h(this,Te).values())!(e instanceof ne)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return v(this,Ua,{ids:new Set(t),hash:t.join(",")})}}$a=new WeakMap,Ua=new WeakMap,Te=new WeakMap,hy=new WeakSet,gP=function(){h(this,$a)||(v(this,$a,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var pf;class mP extends e1{constructor(e){super();_(this,pf);const{map:i,hash:r,transfer:s}=e.serializable,o=structuredClone(i,s?{transfer:s}:null);v(this,pf,{map:o,hash:r,transfer:s})}get print(){zt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,pf)}get modifiedIds(){return mt(this,"modifiedIds",{ids:new Set,hash:""})}}pf=new WeakMap;var Gu;class kF{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){_(this,Gu,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,Gu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,Gu).has(t.loadedName))){if(me(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=t,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),h(this,Gu).add(i),e==null||e(t)}catch{ft(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ft(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return mt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(sn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),mt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(me(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return mt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(k,E){return k.charCodeAt(E)<<24|k.charCodeAt(E+1)<<16|k.charCodeAt(E+2)<<8|k.charCodeAt(E+3)&255}function r(k,E,A,C){const R=k.substring(0,E),L=k.substring(E+A);return R+C+L}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(k,E){if(++u>30){ft("Load test font never loaded."),E();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(c.bind(null,k,E))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const g=16,m=1482184792;let x=i(f,g);for(s=0,o=d.length-3;s<o;s+=4)x=x-m+i(d,s)|0;s<d.length&&(x=x-m+i(d+"XXX",s)|0),f=r(f,g,4,uF(x));const y=`url(data:font/opentype;base64,${btoa(f)});`,b=`@font-face {font-family:"${d}";src:${y}}`;this.insertRule(b);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const k of[t.loadedName,d]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=k,w.append(E)}this._document.body.append(w),c(d,()=>{w.remove(),e.complete()})}}Gu=new WeakMap;class AF{constructor(t,{disableFontFace:e=!1,fontExtraProperties:i=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this.fontExtraProperties=i===!0,this._inspectFont=r}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${gF(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(o){ft(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=s}}const Wp={DATA:1,ERROR:2},fe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function TS(){}function Pn(n){if(n instanceof Xo||n instanceof wx||n instanceof Rd||n instanceof kS||n instanceof zm||n instanceof H0)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Xo(n.message);case"InvalidPDFException":return new wx(n.message);case"MissingPDFException":return new Rd(n.message);case"PasswordException":return new kS(n.message,n.code);case"UnexpectedResponseException":return new zm(n.message,n.status);case"UnknownErrorException":return new H0(n.message,n.details)}return new H0(n.message,n.toString())}var qu,Di,yP,bP,xP,Fg;class Ih{constructor(t,e,i){_(this,Di);_(this,qu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",S(this,Di,yP).bind(this),{signal:h(this,qu).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,e,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:t,streamId:s,data:e,desiredSize:u.desiredSize},r),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[s].pullCall=c,l.postMessage({sourceName:o,targetName:a,stream:fe.PULL,streamId:s,desiredSize:u.desiredSize}),c.promise},cancel:u=>{me(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[s].cancelCall=c,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:fe.CANCEL,streamId:s,reason:Pn(u)}),c.promise}},i)}destroy(){var t;(t=h(this,qu))==null||t.abort(),v(this,qu,null)}}qu=new WeakMap,Di=new WeakSet,yP=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){S(this,Di,xP).call(this,t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Wp.DATA)r.resolve(t.data);else if(t.callback===Wp.ERROR)r.reject(Pn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:Wp.DATA,callbackId:t.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:Wp.ERROR,callbackId:t.callbackId,reason:Pn(o)})});return}if(t.streamId){S(this,Di,bP).call(this,t);return}e(t.data)},bP=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,o=this,a=this.actionHandler[t.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=c,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:fe.ENQUEUE,streamId:e,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:fe.CLOSE,streamId:e}),delete o.streamSinks[e])},error(u){me(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:fe.ERROR,streamId:e,reason:Pn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(a,t.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:fe.START_COMPLETE,streamId:e,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:fe.START_COMPLETE,streamId:e,reason:Pn(u)})})},xP=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case fe.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Pn(t.reason));break;case fe.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Pn(t.reason));break;case fe.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||TS).then(function(){s.postMessage({sourceName:i,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,reason:Pn(u)})});break;case fe.ENQUEUE:if(me(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case fe.CLOSE:if(me(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),S(this,Di,Fg).call(this,o,e);break;case fe.ERROR:me(o,"error should have stream controller"),o.controller.error(Pn(t.reason)),S(this,Di,Fg).call(this,o,e);break;case fe.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Pn(t.reason)),S(this,Di,Fg).call(this,o,e);break;case fe.CANCEL:if(!a)break;const l=Pn(t.reason);Promise.try(a.onCancel||TS,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:fe.CANCEL_COMPLETE,streamId:e,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:fe.CANCEL_COMPLETE,streamId:e,reason:Pn(u)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Fg=async function(t,e){var i,r,s;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(r=t.pullCall)==null?void 0:r.promise,(s=t.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[e]};var gf;class wP{constructor({enableHWA:t=!1}){_(this,gf,!1);v(this,gf,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!h(this,gf)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){zt("Abstract method `_createCanvas` called.")}}gf=new WeakMap;class EF extends wP{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class vP{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class _P extends vP{async _fetch(t){const e=await Ky(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Yy(e)}}class SP{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,s){return"none"}destroy(t=!1){}}var Va,Xu,hs,ds,Qe,Wa,Ga,K,Xe,Dh,Zl,Ng,tu,kP,$x,eu,Oh,Fh,Ux,Nh;class CF extends SP{constructor({docId:e,ownerDocument:i=globalThis.document}){super();_(this,K);_(this,Va);_(this,Xu);_(this,hs);_(this,ds);_(this,Qe);_(this,Wa);_(this,Ga,0);v(this,ds,e),v(this,Qe,i)}addFilter(e){if(!e)return"none";let i=h(this,K,Xe).get(e);if(i)return i;const[r,s,o]=S(this,K,Ng).call(this,e),a=e.length===1?r:`${r}${s}${o}`;if(i=h(this,K,Xe).get(a),i)return h(this,K,Xe).set(e,i),i;const l=`g_${h(this,ds)}_transfer_map_${hn(this,Ga)._++}`,u=S(this,K,tu).call(this,l);h(this,K,Xe).set(e,u),h(this,K,Xe).set(a,u);const c=S(this,K,eu).call(this,l);return S(this,K,Fh).call(this,r,s,o,c),u}addHCMFilter(e,i){var g;const r=`${e}-${i}`,s="base";let o=h(this,K,Dh).get(s);if((o==null?void 0:o.key)===r||(o?((g=o.filter)==null||g.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},h(this,K,Dh).set(s,o)),!e||!i))return o.url;const a=S(this,K,Nh).call(this,e);e=et.makeHexColor(...a);const l=S(this,K,Nh).call(this,i);if(i=et.makeHexColor(...l),h(this,K,Zl).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const u=new Array(256);for(let m=0;m<=255;m++){const x=m/255;u[m]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const c=u.join(","),d=`g_${h(this,ds)}_hcm_filter`,f=o.filter=S(this,K,eu).call(this,d);S(this,K,Fh).call(this,c,c,c,f),S(this,K,$x).call(this,f);const p=(m,x)=>{const y=a[m]/255,b=l[m]/255,w=new Array(x+1);for(let k=0;k<=x;k++)w[k]=y+k/x*(b-y);return w.join(",")};return S(this,K,Fh).call(this,p(0,5),p(1,5),p(2,5),f),o.url=S(this,K,tu).call(this,d),o.url}addAlphaFilter(e){let i=h(this,K,Xe).get(e);if(i)return i;const[r]=S(this,K,Ng).call(this,[e]),s=`alpha_${r}`;if(i=h(this,K,Xe).get(s),i)return h(this,K,Xe).set(e,i),i;const o=`g_${h(this,ds)}_alpha_map_${hn(this,Ga)._++}`,a=S(this,K,tu).call(this,o);h(this,K,Xe).set(e,a),h(this,K,Xe).set(s,a);const l=S(this,K,eu).call(this,o);return S(this,K,Ux).call(this,r,l),a}addLuminosityFilter(e){let i=h(this,K,Xe).get(e||"luminosity");if(i)return i;let r,s;if(e?([r]=S(this,K,Ng).call(this,[e]),s=`luminosity_${r}`):s="luminosity",i=h(this,K,Xe).get(s),i)return h(this,K,Xe).set(e,i),i;const o=`g_${h(this,ds)}_luminosity_map_${hn(this,Ga)._++}`,a=S(this,K,tu).call(this,o);h(this,K,Xe).set(e,a),h(this,K,Xe).set(s,a);const l=S(this,K,eu).call(this,o);return S(this,K,kP).call(this,l),e&&S(this,K,Ux).call(this,r,l),a}addHighlightHCMFilter(e,i,r,s,o){var b;const a=`${i}-${r}-${s}-${o}`;let l=h(this,K,Dh).get(e);if((l==null?void 0:l.key)===a||(l?((b=l.filter)==null||b.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},h(this,K,Dh).set(e,l)),!i||!r))return l.url;const[u,c]=[i,r].map(S(this,K,Nh).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,g]=[s,o].map(S(this,K,Nh).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),h(this,K,Zl).style.color="";const m=(w,k,E)=>{const A=new Array(256),C=(f-d)/E,R=w/255,L=(k-w)/(255*E);let P=0;for(let I=0;I<=E;I++){const F=Math.round(d+I*C),Y=R+I*L;for(let q=P;q<=F;q++)A[q]=Y;P=F+1}for(let I=P;I<256;I++)A[I]=A[P-1];return A.join(",")},x=`g_${h(this,ds)}_hcm_${e}_filter`,y=l.filter=S(this,K,eu).call(this,x);return S(this,K,$x).call(this,y),S(this,K,Fh).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),y),l.url=S(this,K,tu).call(this,x),l.url}destroy(e=!1){var i,r,s,o;e&&((i=h(this,Wa))!=null&&i.size)||((r=h(this,hs))==null||r.parentNode.parentNode.remove(),v(this,hs,null),(s=h(this,Xu))==null||s.clear(),v(this,Xu,null),(o=h(this,Wa))==null||o.clear(),v(this,Wa,null),v(this,Ga,0))}}Va=new WeakMap,Xu=new WeakMap,hs=new WeakMap,ds=new WeakMap,Qe=new WeakMap,Wa=new WeakMap,Ga=new WeakMap,K=new WeakSet,Xe=function(){return h(this,Xu)||v(this,Xu,new Map)},Dh=function(){return h(this,Wa)||v(this,Wa,new Map)},Zl=function(){if(!h(this,hs)){const e=h(this,Qe).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=h(this,Qe).createElementNS(Xr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),v(this,hs,h(this,Qe).createElementNS(Xr,"defs")),e.append(r),r.append(h(this,hs)),h(this,Qe).body.append(e)}return h(this,hs)},Ng=function(e){if(e.length===1){const u=e[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=u[f]/255;const d=c.join(",");return[d,d,d]}const[i,r,s]=e,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,a[u]=r[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},tu=function(e){if(h(this,Va)===void 0){v(this,Va,"");const i=h(this,Qe).URL;i!==h(this,Qe).baseURI&&(Qy(i)?ft('#createUrl: ignore "data:"-URL for performance reasons.'):v(this,Va,i.split("#",1)[0]))}return`url(${h(this,Va)}#${e})`},kP=function(e){const i=h(this,Qe).createElementNS(Xr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},$x=function(e){const i=h(this,Qe).createElementNS(Xr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},eu=function(e){const i=h(this,Qe).createElementNS(Xr,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),h(this,K,Zl).append(i),i},Oh=function(e,i,r){const s=h(this,Qe).createElementNS(Xr,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),e.append(s)},Fh=function(e,i,r,s){const o=h(this,Qe).createElementNS(Xr,"feComponentTransfer");s.append(o),S(this,K,Oh).call(this,o,"feFuncR",e),S(this,K,Oh).call(this,o,"feFuncG",i),S(this,K,Oh).call(this,o,"feFuncB",r)},Ux=function(e,i){const r=h(this,Qe).createElementNS(Xr,"feComponentTransfer");i.append(r),S(this,K,Oh).call(this,r,"feFuncA",e)},Nh=function(e){return h(this,K,Zl).style.color=e,t1(getComputedStyle(h(this,K,Zl)).getPropertyValue("color"))};class AP{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class EP extends AP{async _fetch(t){const e=await Ky(t,"arraybuffer");return new Uint8Array(e)}}sn&&ft("Please use the `legacy` build in Node.js environments.");async function CP(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class TF extends SP{}class PF extends wP{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class MF extends vP{async _fetch(t){return CP(t)}}class RF extends AP{async _fetch(t){return CP(t)}}const en={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Vx(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}class n1{getPattern(){zt("Abstract method `getPattern` called.")}}class LF extends n1{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let s;if(r===en.STROKE||r===en.FILL){const o=e.current.getClippedPathBoundingBox(r,Xt(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=e.cachedCanvases.getCanvas("pattern",a,l),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-o[0],-o[1]),i=et.transform(i,[1,0,0,1,o[0],o[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),Vx(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=t.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else Vx(t,this._bbox),s=this._createGradient(t);return s}}function V0(n,t,e,i,r,s,o,a){const l=t.coords,u=t.colors,c=n.data,d=n.width*4;let f;l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=s,s=o,o=f),l[i+1]>l[r+1]&&(f=i,i=r,r=f,f=o,o=a,a=f),l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=s,s=o,o=f);const p=(l[e]+t.offsetX)*t.scaleX,g=(l[e+1]+t.offsetY)*t.scaleY,m=(l[i]+t.offsetX)*t.scaleX,x=(l[i+1]+t.offsetY)*t.scaleY,y=(l[r]+t.offsetX)*t.scaleX,b=(l[r+1]+t.offsetY)*t.scaleY;if(g>=b)return;const w=u[s],k=u[s+1],E=u[s+2],A=u[o],C=u[o+1],R=u[o+2],L=u[a],P=u[a+1],I=u[a+2],F=Math.round(g),Y=Math.round(b);let q,V,z,j,B,W,T,rt;for(let nt=F;nt<=Y;nt++){if(nt<x){const xt=nt<g?0:(g-nt)/(g-x);q=p-(p-m)*xt,V=w-(w-A)*xt,z=k-(k-C)*xt,j=E-(E-R)*xt}else{let xt;nt>b?xt=1:x===b?xt=0:xt=(x-nt)/(x-b),q=m-(m-y)*xt,V=A-(A-L)*xt,z=C-(C-P)*xt,j=R-(R-I)*xt}let M;nt<g?M=0:nt>b?M=1:M=(g-nt)/(g-b),B=p-(p-y)*M,W=w-(w-L)*M,T=k-(k-P)*M,rt=E-(E-I)*M;const _t=Math.round(Math.min(q,B)),Qt=Math.round(Math.max(q,B));let ot=d*nt+_t*4;for(let xt=_t;xt<=Qt;xt++)M=(q-xt)/(q-B),M<0?M=0:M>1&&(M=1),c[ot++]=V-(V-W)*M|0,c[ot++]=z-(z-T)*M|0,c[ot++]=j-(j-rt)*M|0,c[ot++]=255}}function IF(n,t,e){const i=t.coords,r=t.colors;let s,o;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(i.length/a)-1,u=a-1;for(s=0;s<l;s++){let c=s*a;for(let d=0;d<u;d++,c++)V0(n,e,i[c],i[c+1],i[c+a],r[c],r[c+1],r[c+a]),V0(n,e,i[c+a+1],i[c+1],i[c+a],r[c+a+1],r[c+1],r[c+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)V0(n,e,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class DF extends n1{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(c*t[1]*1.1)),3e3),p=u/d,g=c/f,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},x=d+2*2,y=f+2*2,b=i.getCanvas("mesh",x,y),w=b.context,k=w.createImageData(d,f);if(e){const A=k.data;for(let C=0,R=A.length;C<R;C+=4)A[C]=e[0],A[C+1]=e[1],A[C+2]=e[2],A[C+3]=255}for(const A of this._figures)IF(k,A,m);return w.putImageData(k,2,2),{canvas:b.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(t,e,i,r){Vx(t,this._bbox);let s;if(r===en.SHADING)s=et.singularValueDecompose2dScale(Xt(t));else if(s=et.singularValueDecompose2dScale(e.baseTransform),this.matrix){const a=et.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===en.SHADING?null:this._background,e.cachedCanvases);return r!==en.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class OF extends n1{getPattern(){return"hotpink"}}function FF(n){switch(n[0]){case"RadialAxial":return new LF(n);case"Mesh":return new DF(n);case"Dummy":return new OF}throw new Error(`Unknown IR type: ${n[0]}`)}const PS={COLORED:1,UNCOLORED:2},dy=class dy{constructor(t,e,i,r,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),Xy("TilingType: "+s);const c=e[0],d=e[1],f=e[2],p=e[3],g=f-c,m=p-d,x=et.singularValueDecompose2dScale(this.matrix),y=et.singularValueDecompose2dScale(this.baseTransform),b=x[0]*y[0],w=x[1]*y[1];let k=g,E=m,A=!1,C=!1;const R=Math.ceil(l*b),L=Math.ceil(u*w),P=Math.ceil(g*b),I=Math.ceil(m*w);R>=P?k=l:A=!0,L>=I?E=u:C=!0;const F=this.getSizeAndScale(k,this.ctx.canvas.width,b),Y=this.getSizeAndScale(E,this.ctx.canvas.height,w),q=t.cachedCanvases.getCanvas("pattern",F.size,Y.size),V=q.context,z=a.createCanvasGraphics(V);if(z.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(z,r,o),V.translate(-F.scale*c,-Y.scale*d),z.transform(F.scale,0,0,Y.scale,0,0),V.save(),this.clipBbox(z,c,d,f,p),z.baseTransform=Xt(z.ctx),z.executeOperatorList(i),z.endDrawing(),V.restore(),A||C){const j=q.canvas;A&&(k=l),C&&(E=u);const B=this.getSizeAndScale(k,this.ctx.canvas.width,b),W=this.getSizeAndScale(E,this.ctx.canvas.height,w),T=B.size,rt=W.size,nt=t.cachedCanvases.getCanvas("pattern-workaround",T,rt),M=nt.context,_t=A?Math.floor(g/l):0,Qt=C?Math.floor(m/u):0;for(let ot=0;ot<=_t;ot++)for(let xt=0;xt<=Qt;xt++)M.drawImage(j,T*ot,rt*xt,T,rt,0,0,T,rt);return{canvas:nt.canvas,scaleX:B.scale,scaleY:W.scale,offsetX:c,offsetY:d}}return{canvas:q.canvas,scaleX:F.scale,scaleY:Y.scale,offsetX:c,offsetY:d}}getSizeAndScale(t,e,i){const r=Math.max(dy.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*i);return s>=r?s=r:i=s/t,{scale:i,size:s}}clipBbox(t,e,i,r,s){const o=r-e,a=s-i;t.ctx.rect(e,i,o,a),t.current.updateRectMinMax(Xt(t.ctx),[e,i,r,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,s=t.current;switch(e){case PS.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case PS.UNCOLORED:const a=et.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new lF(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,r){let s=i;r!==en.SHADING&&(s=et.transform(s,e.baseTransform),this.matrix&&(s=et.transform(s,this.matrix)));const o=this.createPatternCanvas(e);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=t.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};H(dy,"MAX_PATTERN_SIZE",3e3);let Wx=dy;function NF({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=wn.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],c=i>>3,d=i&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let g=0;g<r;g++){for(const x=t+c;t<x;t++){const y=t<f?n[t]:255;e[p++]=y&128?u:l,e[p++]=y&64?u:l,e[p++]=y&32?u:l,e[p++]=y&16?u:l,e[p++]=y&8?u:l,e[p++]=y&4?u:l,e[p++]=y&2?u:l,e[p++]=y&1?u:l}if(d===0)continue;const m=t<f?n[t++]:255;for(let x=0;x<d;x++)e[p++]=m&1<<7-x?u:l}return{srcPos:t,destPos:p}}const MS=16,RS=100,zF=15,LS=10,IS=1e3,Dn=16;function BF(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(i,r){t.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){t.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){t.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){t.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){t.rotate(i),this.__originalRotate(i)},n.clip=function(i){t.clip(i),this.__originalClip(i)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,s,o,a){t.bezierCurveTo(e,i,r,s,o,a),this.__originalBezierCurveTo(e,i,r,s,o,a)},n.rect=function(e,i,r,s){t.rect(e,i,r,s),this.__originalRect(e,i,r,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class jF{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Gp(n,t,e,i,r,s,o,a,l,u){const[c,d,f,p,g,m]=Xt(n);if(d===0&&f===0){const b=o*c+g,w=Math.round(b),k=a*p+m,E=Math.round(k),A=(o+l)*c+g,C=Math.abs(Math.round(A)-w)||1,R=(a+u)*p+m,L=Math.abs(Math.round(R)-E)||1;return n.setTransform(Math.sign(c),0,0,Math.sign(p),w,E),n.drawImage(t,e,i,r,s,0,0,C,L),n.setTransform(c,d,f,p,g,m),[C,L]}if(c===0&&p===0){const b=a*f+g,w=Math.round(b),k=o*d+m,E=Math.round(k),A=(a+u)*f+g,C=Math.abs(Math.round(A)-w)||1,R=(o+l)*d+m,L=Math.abs(Math.round(R)-E)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,w,E),n.drawImage(t,e,i,r,s,0,0,L,C),n.setTransform(c,d,f,p,g,m),[L,C]}n.drawImage(t,e,i,r,s,o,a,l,u);const x=Math.hypot(c,d),y=Math.hypot(f,p);return[x*l,y*u]}function HF(n){const{width:t,height:e}=n;if(t>IS||e>IS)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let o=new Uint8Array(s*(e+1)),a,l,u;const c=t+7&-8;let d=new Uint8Array(c*e),f=0;for(const y of n.data){let b=128;for(;b>0;)d[f++]=y&b?0:255,b>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<e;a++){f=a*c,u=a*s,d[f-c]!==d[f]&&(o[u]=d[f]?1:8,++p);let y=(d[f]?4:0)+(d[f-c]?8:0);for(l=1;l<t;l++)y=(y>>2)+(d[f+1]?4:0)+(d[f-c+1]?8:0),r[y]&&(o[u+l]=r[y],++p),f++;if(d[f-c]!==d[f]&&(o[u+l]=d[f]?2:4,++p),p>i)return null}for(f=c*(e-1),u=a*s,d[f]!==0&&(o[u]=8,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(o[u+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[u+l]=4,++p),p>i)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),m=new Path2D;for(a=0;p&&a<=e;a++){let y=a*s;const b=y+t;for(;y<b&&!o[y];)y++;if(y===b)continue;m.moveTo(y%s,a);const w=y;let k=o[y];do{const E=g[k];do y+=E;while(!o[y]);const A=o[y];A!==5&&A!==10?(k=A,o[y]=0):(k=A&51*k>>4,o[y]&=k>>2|k<<2),m.lineTo(y%s,y/s|0),o[y]||--p}while(w!==y);--a}return d=null,o=null,function(y){y.save(),y.scale(1/t,-1/e),y.translate(0,-e),y.fill(m),y.beginPath(),y.restore()}}class DS{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=NT,this.textMatrixScale=1,this.fontMatrix=xx,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=qe.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=et.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=et.applyTransform(e,t),r=et.applyTransform(e.slice(2),t),s=et.applyTransform([e[0],e[3]],t),o=et.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(t,e){et.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,r,s,o,a,l,u,c){const d=et.bezierBoundingBox(e,i,r,s,o,a,l,u,c);c||this.updateRectMinMax(t,d)}getPathBoundingBox(t=en.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===en.STROKE){e||zt("Stroke bounding box must include transform.");const r=et.singularValueDecompose2dScale(e),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const t=et.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=en.FILL,e=null){return et.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function OS(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%Dn,s=(e-r)/Dn,o=r===0?s:s+1,a=n.createImageData(i,Dn);let l=0,u;const c=t.data,d=a.data;let f,p,g,m;if(t.kind===Cg.GRAYSCALE_1BPP){const x=c.byteLength,y=new Uint32Array(d.buffer,0,d.byteLength>>2),b=y.length,w=i+7>>3,k=4294967295,E=wn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<s?Dn:r,u=0,p=0;p<g;p++){const A=x-l;let C=0;const R=A>w?i:A*8-7,L=R&-8;let P=0,I=0;for(;C<L;C+=8)I=c[l++],y[u++]=I&128?k:E,y[u++]=I&64?k:E,y[u++]=I&32?k:E,y[u++]=I&16?k:E,y[u++]=I&8?k:E,y[u++]=I&4?k:E,y[u++]=I&2?k:E,y[u++]=I&1?k:E;for(;C<R;C++)P===0&&(I=c[l++],P=128),y[u++]=I&P?k:E,P>>=1}for(;u<b;)y[u++]=0;n.putImageData(a,0,f*Dn)}}else if(t.kind===Cg.RGBA_32BPP){for(p=0,m=i*Dn*4,f=0;f<s;f++)d.set(c.subarray(l,l+m)),l+=m,n.putImageData(a,0,p),p+=Dn;f<o&&(m=i*r*4,d.set(c.subarray(l,l+m)),n.putImageData(a,0,p))}else if(t.kind===Cg.RGB_24BPP)for(g=Dn,m=i*g,f=0;f<o;f++){for(f>=s&&(g=r,m=i*g),u=0,p=m;p--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;n.putImageData(a,0,f*Dn)}else throw new Error(`bad image kind: ${t.kind}`)}function FS(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%Dn,s=(e-r)/Dn,o=r===0?s:s+1,a=n.createImageData(i,Dn);let l=0;const u=t.data,c=a.data;for(let d=0;d<o;d++){const f=d<s?Dn:r;({srcPos:l}=NF({src:u,srcPos:l,dest:c,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*Dn)}}function gh(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function qp(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!sn){const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}}function NS(n,t){if(t)return!0;const e=et.singularValueDecompose2dScale(n);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Yo.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const $F=["butt","round","square"],UF=["miter","round","bevel"],VF={},zS={};var cr,Gx,qx,Xx;const H1=class H1{constructor(t,e,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){_(this,cr);this.ctx=t,this.current=new DS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new jF(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Xt(this.compositeCtx))}this.ctx.save(),qp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Xt(this.ctx)}executeOperatorList(t,e,i,r){const s=t.argsArray,o=t.fnArray;let a=e||0;const l=s.length;if(l===a)return a;const u=l-a>LS&&typeof i=="function",c=u?Date.now()+zF:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(g=o[a],g!==Ui.dependency)this[g].apply(this,s[a]);else for(const m of s[a]){const x=m.startsWith("g_")?f:p;if(!x.has(m))return x.get(m,i),a}if(a++,a===l)return a;if(u&&++d>LS){if(Date.now()>c)return i(),a;d=0}}}endDrawing(){S(this,cr,Gx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),S(this,cr,qx).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),a=i,l=r,u="prescale1",c,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),c=this.cachedCanvases.getCanvas(u,f,p),d=c.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,a,l,0,0,f,p),t=c.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,s=this.current.fillColor,o=this.current.patternFill,a=Xt(e);let l,u,c,d;if((t.bitmap||t.data)&&t.count>1){const R=t.bitmap||t.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const L=l.get(u);if(L&&!o){const P=Math.round(Math.min(a[0],a[2])+a[4]),I=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:L,offsetX:P,offsetY:I}}c=L}c||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),FS(d.context,t));let f=et.transform(a,[1/i,0,0,-1/r,0,0]);f=et.transform(f,[1,0,0,1,0,-r]);const[p,g,m,x]=et.getAxialAlignedBoundingBox([0,0,i,r],f),y=Math.round(m-p)||1,b=Math.round(x-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",y,b),k=w.context,E=p,A=g;k.translate(-E,-A),k.transform(...f),c||(c=this._scaleImage(d.canvas,pr(k)),c=c.img,l&&o&&l.set(u,c)),k.imageSmoothingEnabled=NS(Xt(k),t.interpolate),Gp(k,c,0,0,c.width,c.height,0,0,i,r),k.globalCompositeOperation="source-in";const C=et.transform(pr(k),[1,0,0,1,-E,-A]);return k.fillStyle=o?s.getPattern(e,this,C,en.FILL):s,k.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,w.canvas)),{canvas:w.canvas,offsetX:Math.round(E),offsetY:Math.round(A)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=$F[t]}setLineJoin(t){this.ctx.lineJoin=UF[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...Xt(this.suspendedCtx)),gh(this.suspendedCtx,s),BF(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(e.context,i,a,l,e.subtype,e.backdrop,e.transferMap,s,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,s,o,a,l,u,c,d){let f=t.canvas,p=l-c,g=u-d;if(o){const x=et.makeHexColor(...o);if(p<0||g<0||p+i>f.width||g+r>f.height){const y=this.cachedCanvases.getCanvas("maskExtension",i,r),b=y.context;b.drawImage(f,-p,-g),b.globalCompositeOperation="destination-atop",b.fillStyle=x,b.fillRect(0,0,i,r),b.globalCompositeOperation="source-over",f=y.canvas,p=g=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(p,g,i,r),t.clip(y),t.globalCompositeOperation="destination-atop",t.fillStyle=x,t.fillRect(p,g,i,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?e.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(l,u,i,r),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,g,i,r,l,u,i,r),e.restore()}save(){this.inSMaskMode?(gh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),gh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,r,s,o){this.ctx.transform(t,e,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const c=Xt(r),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,f=d?i.slice(0):null;for(let p=0,g=0,m=t.length;p<m;p++)switch(t[p]|0){case Ui.rectangle:o=e[g++],a=e[g++];const x=e[g++],y=e[g++],b=o+x,w=a+y;r.moveTo(o,a),x===0||y===0?r.lineTo(b,w):(r.lineTo(b,a),r.lineTo(b,w),r.lineTo(o,w)),d||s.updateRectMinMax(c,[o,a,b,w]),r.closePath();break;case Ui.moveTo:o=e[g++],a=e[g++],r.moveTo(o,a),d||s.updatePathMinMax(c,o,a);break;case Ui.lineTo:o=e[g++],a=e[g++],r.lineTo(o,a),d||s.updatePathMinMax(c,o,a);break;case Ui.curveTo:l=o,u=a,o=e[g+4],a=e[g+5],r.bezierCurveTo(e[g],e[g+1],e[g+2],e[g+3],o,a),s.updateCurvePathMinMax(c,l,u,e[g],e[g+1],e[g+2],e[g+3],o,a,f),g+=6;break;case Ui.curveTo2:l=o,u=a,r.bezierCurveTo(o,a,e[g],e[g+1],e[g+2],e[g+3]),s.updateCurvePathMinMax(c,l,u,o,a,e[g],e[g+1],e[g+2],e[g+3],f),o=e[g+2],a=e[g+3],g+=4;break;case Ui.curveTo3:l=o,u=a,o=e[g+2],a=e[g+3],r.bezierCurveTo(e[g],e[g+1],o,a,o,a),s.updateCurvePathMinMax(c,l,u,e[g],e[g+1],o,a,o,a,f),g+=4;break;case Ui.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(c,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,pr(e),en.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(e.save(),e.fillStyle=i.getPattern(e,this,pr(e),en.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=VF}eoClip(){this.pendingClip=zS}beginText(){this.current.textMatrix=NT,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}const i=new Path2D,r=e.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:u}of t)i.addPath(u,new DOMMatrix(s).preMultiplySelf(r).translate(o,a).scale(l,-l));e.clip(i),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var c;const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||xx,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ft("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((c=i.systemFontInfo)==null?void 0:c.css)||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let u=e;e<MS?u=MS:e>RS&&(u=RS),this.current.fontSizeScale=e/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,r,s,o){this.current.textMatrix=[t,e,i,r,s,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,r,s){const o=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,d=u&qe.FILL_STROKE_MASK,f=!!(u&qe.ADD_TO_PATH_FLAG),p=a.patternFill&&!l.missingFile,g=a.patternStroke&&!l.missingFile;let m;if((l.disableFontFace||f||p||g)&&(m=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p||g){if(o.save(),o.translate(e,i),o.scale(c,-c),d===qe.FILL||d===qe.FILL_STROKE)if(r){const x=o.getTransform();o.setTransform(...r),o.fill(S(this,cr,Xx).call(this,m,x,r))}else o.fill(m);if(d===qe.STROKE||d===qe.FILL_STROKE)if(s){const x=o.getTransform();o.setTransform(...s),o.stroke(S(this,cr,Xx).call(this,m,x,s))}else o.lineWidth/=c,o.stroke(m);o.restore()}else(d===qe.FILL||d===qe.FILL_STROKE)&&o.fillText(t,e,i),(d===qe.STROKE||d===qe.FILL_STROKE)&&o.strokeText(t,e,i);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Xt(o),x:e,y:i,fontSize:c,path:m})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return mt(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const s=this.ctx,o=e.fontSizeScale,a=e.charSpacing,l=e.wordSpacing,u=e.fontDirection,c=e.textHScale*u,d=t.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,m=r*e.fontMatrix[0],x=e.textRenderingMode===qe.FILL&&!i.disableFontFace&&!e.patternFill;s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),u>0?s.scale(c,-1):s.scale(c,1);let y,b;if(e.patternFill){s.save();const C=e.fillColor.getPattern(s,this,pr(s),en.FILL);y=Xt(s),s.restore(),s.fillStyle=C}if(e.patternStroke){s.save();const C=e.strokeColor.getPattern(s,this,pr(s),en.STROKE);b=Xt(s),s.restore(),s.strokeStyle=C}let w=e.lineWidth;const k=e.textMatrixScale;if(k===0||w===0){const C=e.textRenderingMode&qe.FILL_STROKE_MASK;(C===qe.STROKE||C===qe.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=k;if(o!==1&&(s.scale(o,o),w/=o),s.lineWidth=w,i.isInvalidPDFjsFont){const C=[];let R=0;for(const L of t)C.push(L.unicode),R+=L.width;s.fillText(C.join(""),0,0),e.x+=R*m*c,s.restore(),this.compose();return}let E=0,A;for(A=0;A<d;++A){const C=t[A];if(typeof C=="number"){E+=p*C*r/1e3;continue}let R=!1;const L=(C.isSpace?l:0)+a,P=C.fontChar,I=C.accent;let F,Y,q=C.width;if(f){const z=C.vmetric||g,j=-(C.vmetric?z[1]:q*.5)*m,B=z[2]*m;q=z?-z[0]:q,F=j/o,Y=(E+B)/o}else F=E/o,Y=0;if(i.remeasure&&q>0){const z=s.measureText(P).width*1e3/r*o;if(q<z&&this.isFontSubpixelAAEnabled){const j=q/z;R=!0,s.save(),s.scale(j,1),F/=j}else q!==z&&(F+=(q-z)/2e3*r/o)}if(this.contentVisible&&(C.isInFont||i.missingFile)){if(x&&!I)s.fillText(P,F,Y);else if(this.paintChar(P,F,Y,y,b),I){const z=F+r*I.offset.x/o,j=Y-r*I.offset.y/o;this.paintChar(I.fontChar,z,j,y,b)}}const V=f?q*m-L*u:q*m+L*u;E+=V,R&&s.restore()}f?e.y-=E:e.x+=E*c,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,c=i.textHScale*o,d=i.fontMatrix||xx,f=t.length,p=i.textRenderingMode===qe.INVISIBLE;let g,m,x,y;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(c,o),g=0;g<f;++g){if(m=t[g],typeof m=="number"){y=a*m*s/1e3,this.ctx.translate(y,0),i.x+=y*c;continue}const b=(m.isSpace?u:0)+l,w=r.charProcOperatorList[m.operatorListId];if(!w){ft(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),e.scale(s,s),e.transform(...d),this.executeOperatorList(w),this.restore()),x=et.applyTransform([m.width,0],d)[0]*s+b,e.translate(x,0),i.x+=x*c}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],r=this.baseTransform||Xt(this.ctx),s={createCanvasGraphics:o=>new H1(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Wx(t,i,this.ctx,s,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=et.makeHexColor(t,e,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=et.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=FF(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,pr(e),en.SHADING);const r=pr(e);if(r){const{width:s,height:o}=e.canvas,[a,l,u,c]=et.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,u-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){zt("Should not call beginInlineImage")}beginImageData(){zt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Xt(this.ctx),e)){const i=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],i,r),this.current.updateRectMinMax(Xt(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Xy("TODO: Support non-isolated groups."),t.knockout&&ft("Knockout groups not supported.");const i=Xt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=et.getAxialAlignedBoundingBox(t.bbox,Xt(e));const s=[0,0,e.canvas.width,e.canvas.height];r=et.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),u=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;t.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),f=d.context;f.translate(-o,-a),f.transform(...i),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),gh(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Xt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=et.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,i,r,s){if(S(this,cr,Gx).call(this),qp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],a=e[3]-e[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=a;const[l,u]=et.singularValueDecompose2dScale(Xt(this.ctx)),{viewportScale:c}=this,d=Math.ceil(o*this.outputScaleX*c),f=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),qp(this.ctx)}else qp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new DS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),S(this,cr,qx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=HF(t)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(t),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const l=Xt(a);a.transform(e,i,r,s,0,0);const u=this._createMaskCanvas(t);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=o.length;c<d;c+=2){const f=et.transform(l,[e,i,r,s,o[c],o[c+1]]),[p,g]=et.applyTransform([0,0],f);a.drawImage(u.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of t){const{data:o,width:a,height:l,transform:u}=s,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=c.context;d.save();const f=this.getObject(o,s);FS(d,f),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,pr(e),en.FILL):i,d.fillRect(0,0,a,l),d.restore(),e.save(),e.transform(...u),e.scale(1,-1),Gp(e,c.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){ft("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,c=r.length;u<c;u+=2)l.push({transform:[e,0,0,i,r[u],r[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;if(this.save(),!sn){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/e,-1/i);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,i).context;OS(l,t),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,pr(r));r.imageSmoothingEnabled=NS(Xt(r),t.interpolate),Gp(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;OS(l,t),r=this.applyTransferMapsToCanvas(l)}for(const s of e)i.save(),i.transform(...s.transform),i.scale(1,-1),Gp(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===zS?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Xt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(e),u=Math.abs(s);if(l===u)if(t===0)o=a=1/l;else{const c=l*t;o=a=c<1?1/c:1}else if(t===0)o=1/l,a=1/u;else{const c=l*t,d=u*t;o=c<1?1/c:1,a=d<1?1/d:1}}else{const l=Math.abs(e*s-i*r),u=Math.hypot(e,i),c=Math.hypot(r,s);if(t===0)o=c/l,a=u/l;else{const d=t*l;o=c>d?c/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(e.lineWidth=i||1,r===1&&s===1){e.stroke();return}const o=e.getLineDash();if(t&&e.save(),e.scale(r,s),o.length>0){const a=Math.max(r,s);e.setLineDash(o.map(l=>l/a)),e.lineDashOffset/=a}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};cr=new WeakSet,Gx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qx=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},Xx=function(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r};let Cu=H1;for(const n in Ui)Cu.prototype[n]!==void 0&&(Cu.prototype[Ui[n]]=Cu.prototype[n]);var mf,yf;class Ps{static get workerPort(){return h(this,mf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");v(this,mf,t)}static get workerSrc(){return h(this,yf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");v(this,yf,t)}}mf=new WeakMap,yf=new WeakMap,_(Ps,mf,null),_(Ps,yf,"");var qa,bf;class WF{constructor({parsedData:t,rawData:e}){_(this,qa);_(this,bf);v(this,qa,t),v(this,bf,e)}getRaw(){return h(this,bf)}get(t){return h(this,qa).get(t)??null}getAll(){return Yv(h(this,qa))}has(t){return h(this,qa).has(t)}}qa=new WeakMap,bf=new WeakMap;const nu=Symbol("INTERNAL");var xf,wf,vf,Yu;class GF{constructor(t,{name:e,intent:i,usage:r,rbGroups:s}){_(this,xf,!1);_(this,wf,!1);_(this,vf,!1);_(this,Yu,!0);v(this,xf,!!(t&si.DISPLAY)),v(this,wf,!!(t&si.PRINT)),this.name=e,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(h(this,vf))return h(this,Yu);if(!h(this,Yu))return!1;const{print:t,view:e}=this.usage;return h(this,xf)?(e==null?void 0:e.viewState)!=="OFF":h(this,wf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==nu&&zt("Internal method `_setVisible` called."),v(this,vf,i),v(this,Yu,e)}}xf=new WeakMap,wf=new WeakMap,vf=new WeakMap,Yu=new WeakMap;var fo,Rt,Ku,Qu,_f,Yx;class qF{constructor(t,e=si.DISPLAY){_(this,_f);_(this,fo,null);_(this,Rt,new Map);_(this,Ku,null);_(this,Qu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,v(this,Qu,t.order);for(const i of t.groups)h(this,Rt).set(i.id,new GF(e,i));if(t.baseState==="OFF")for(const i of h(this,Rt).values())i._setVisible(nu,!1);for(const i of t.on)h(this,Rt).get(i)._setVisible(nu,!0);for(const i of t.off)h(this,Rt).get(i)._setVisible(nu,!1);v(this,Ku,this.getHash())}}isVisible(t){if(h(this,Rt).size===0)return!0;if(!t)return Xy("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Rt).has(t.id)?h(this,Rt).get(t.id).visible:(ft(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return S(this,_f,Yx).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Rt).has(e))return ft(`Optional content group not found: ${e}`),!0;if(h(this,Rt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Rt).has(e))return ft(`Optional content group not found: ${e}`),!0;if(!h(this,Rt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Rt).has(e))return ft(`Optional content group not found: ${e}`),!0;if(!h(this,Rt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Rt).has(e))return ft(`Optional content group not found: ${e}`),!0;if(h(this,Rt).get(e).visible)return!1}return!0}return ft(`Unknown optional content policy ${t.policy}.`),!0}return ft(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var s;const r=h(this,Rt).get(t);if(!r){ft(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==t&&((s=h(this,Rt).get(a))==null||s._setVisible(nu,!1,!0));r._setVisible(nu,!!e,!0),v(this,fo,null)}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=h(this,Rt).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}v(this,fo,null)}get hasInitialVisibility(){return h(this,Ku)===null||this.getHash()===h(this,Ku)}getOrder(){return h(this,Rt).size?h(this,Qu)?h(this,Qu).slice():[...h(this,Rt).keys()]:null}getGroups(){return h(this,Rt).size>0?Yv(h(this,Rt)):null}getGroup(t){return h(this,Rt).get(t)||null}getHash(){if(h(this,fo)!==null)return h(this,fo);const t=new pP;for(const[e,i]of h(this,Rt))t.update(`${e}:${i.visible}`);return v(this,fo,t.hexdigest())}}fo=new WeakMap,Rt=new WeakMap,Ku=new WeakMap,Qu=new WeakMap,_f=new WeakSet,Yx=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const s=t[r];let o;if(Array.isArray(s))o=S(this,_f,Yx).call(this,s);else if(h(this,Rt).has(s))o=h(this,Rt).get(s).visible;else return ft(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class XF{constructor(t,{disableRange:e=!1,disableStream:i=!1}){me(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),t.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(i),!0)});me(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,r,s;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){me(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new YF(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new KF(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class YF{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Jv(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class KF{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function QF(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let c=a(e);return c=unescape(c),c=l(c),c=u(c),s(c)}if(e=o(n),e){const c=u(e);return s(c)}if(e=i("filename","i").exec(n),e){e=e[1];let c=a(e);return c=u(c),s(c)}function i(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(c,{fatal:!0}),p=Yy(d);d=f.decode(p),t=!1}catch{}}return d}function s(c){return t&&/[\x80-\xff]/.test(c)&&(c=r("utf-8",c),t&&(c=r("iso-8859-1",c))),c}function o(c){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(c))!==null;){let[,m,x,y]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[x,y]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[x,y]=d[m];y=a(y),x&&(y=unescape(y),m===0&&(y=l(y))),g.push(y)}return g.join("")}function a(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const f=c.slice(0,d),g=c.slice(d+1).replace(/^[^']*'/,"");return r(f,g)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,x){return String.fromCharCode(parseInt(x,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function TP(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function Jy(n){try{return new URL(n).origin}catch{}return null}function PP({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function MP(n){const t=n.get("Content-Disposition");if(t){let e=QF(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Jv(e))return e}return null}function Zy(n,t){return n===404||n===0&&t.startsWith("file:")?new Rd('Missing PDF "'+t+'".'):new zm(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n)}function RP(n){return n===200||n===206}function LP(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function IP(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ft(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class BS{constructor(t){H(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=TP(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return me(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new JF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new ZF(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class JF{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,LP(i,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=Jy(s.url),!RP(s.status))throw Zy(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=PP({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=MP(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Xo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:IP(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class ZF{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${i-1}`);const o=r.url;fetch(o,LP(s,this._withCredentials,this._abortController)).then(a=>{const l=Jy(a.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!RP(a.status))throw Zy(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:IP(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const W0=200,G0=206;function tN(n){const t=n.response;return typeof t!="string"?t:Yy(t).buffer}class eN{constructor({url:t,httpHeaders:e,withCredentials:i}){H(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=TP(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,o]of this.headers)e.setRequestHeader(s,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=G0):r.expectedStatus=W0,e.responseType="arraybuffer",me(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var r;const i=this.pendingRequests[t];i&&((r=i.onProgress)==null||r.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||W0;if(!(s===W0&&i.expectedStatus===G0)&&s!==i.expectedStatus){i.onError(r.status);return}const a=tN(r);if(s===G0){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:a}):(ft('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone({begin:0,chunk:a}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class nN{constructor(t){this._source=t,this._manager=new eN(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return me(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iN(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new rN(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class iN{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Jy(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...u]=a.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=PP({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=MP(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Zy(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class rN{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Jy((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=Zy(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const sN=/^[a-z][a-z0-9\-+.]+:/i;function oN(n){if(sN.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class aN{constructor(t){this.source=t,this.url=oN(t.url),me(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return me(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new uN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class lN{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Rd(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Xo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class uN{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const cN=1e5,En=30,hN=.8;var KA,po,Ln,Sf,kf,Xa,fs,Af,Ef,Ya,Ju,Zu,go,tc,Cf,ec,Ka,Tf,Pf,Qa,Ja,Mf,mo,nc,Hs,DP,OP,Kx,fi,zg,Qx,FP,NP;const xe=class xe{constructor({textContentSource:t,container:e,viewport:i}){_(this,Hs);_(this,po,Promise.withResolvers());_(this,Ln,null);_(this,Sf,!1);_(this,kf,!!((KA=globalThis.FontInspector)!=null&&KA.enabled));_(this,Xa,null);_(this,fs,null);_(this,Af,0);_(this,Ef,0);_(this,Ya,null);_(this,Ju,null);_(this,Zu,0);_(this,go,0);_(this,tc,Object.create(null));_(this,Cf,[]);_(this,ec,null);_(this,Ka,[]);_(this,Tf,new WeakMap);_(this,Pf,null);var l;if(t instanceof ReadableStream)v(this,ec,t);else if(typeof t=="object")v(this,ec,new ReadableStream({start(u){u.enqueue(t),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');v(this,Ln,v(this,Ju,e)),v(this,go,i.scale*(globalThis.devicePixelRatio||1)),v(this,Zu,i.rotation),v(this,fs,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;v(this,Pf,[1,0,0,-1,-o,a+s]),v(this,Ef,r),v(this,Af,s),S(l=xe,fi,FP).call(l),zl(e,i),h(this,po).promise.finally(()=>{h(xe,nc).delete(this),v(this,fs,null),v(this,tc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=wn.platform;return mt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,Ya).read().then(({value:e,done:i})=>{if(i){h(this,po).resolve();return}h(this,Xa)??v(this,Xa,e.lang),Object.assign(h(this,tc),e.styles),S(this,Hs,DP).call(this,e.items),t()},h(this,po).reject)};return v(this,Ya,h(this,ec).getReader()),h(xe,nc).add(this),t(),h(this,po).promise}update({viewport:t,onBefore:e=null}){var s;const i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,Zu)&&(e==null||e(),v(this,Zu,r),zl(h(this,Ju),{rotation:r})),i!==h(this,go)){e==null||e(),v(this,go,i);const o={div:null,properties:null,ctx:S(s=xe,fi,zg).call(s,h(this,Xa))};for(const a of h(this,Ka))o.properties=h(this,Tf).get(a),o.div=a,S(this,Hs,Kx).call(this,o)}}cancel(){var e;const t=new Xo("TextLayer task cancelled.");(e=h(this,Ya))==null||e.cancel(t).catch(()=>{}),v(this,Ya,null),h(this,po).reject(t)}get textDivs(){return h(this,Ka)}get textContentItemsStr(){return h(this,Cf)}static cleanup(){if(!(h(this,nc).size>0)){h(this,Qa).clear();for(const{canvas:t}of h(this,Ja).values())t.remove();h(this,Ja).clear()}}};po=new WeakMap,Ln=new WeakMap,Sf=new WeakMap,kf=new WeakMap,Xa=new WeakMap,fs=new WeakMap,Af=new WeakMap,Ef=new WeakMap,Ya=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,go=new WeakMap,tc=new WeakMap,Cf=new WeakMap,ec=new WeakMap,Ka=new WeakMap,Tf=new WeakMap,Pf=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,Mf=new WeakMap,mo=new WeakMap,nc=new WeakMap,Hs=new WeakSet,DP=function(t){var r,s;if(h(this,Sf))return;(s=h(this,fs)).ctx??(s.ctx=S(r=xe,fi,zg).call(r,h(this,Xa)));const e=h(this,Ka),i=h(this,Cf);for(const o of t){if(e.length>cN){ft("Ignoring additional textDivs for performance reasons."),v(this,Sf,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=h(this,Ln);v(this,Ln,document.createElement("span")),h(this,Ln).classList.add("markedContent"),o.id!==null&&h(this,Ln).setAttribute("id",`${o.id}`),a.append(h(this,Ln))}else o.type==="endMarkedContent"&&v(this,Ln,h(this,Ln).parentNode);continue}i.push(o.str),S(this,Hs,OP).call(this,o)}},OP=function(t){var m;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Ka).push(e);const r=et.transform(h(this,Pf),t.transform);let s=Math.atan2(r[1],r[0]);const o=h(this,tc)[t.fontName];o.vertical&&(s+=Math.PI/2);let a=h(this,kf)&&o.fontSubstitution||o.fontFamily;a=xe.fontFamilyMap.get(a)||a;const l=Math.hypot(r[2],r[3]),u=l*S(m=xe,fi,NP).call(m,a,h(this,Xa));let c,d;s===0?(c=r[4],d=r[5]-u):(c=r[4]+u*Math.sin(s),d=r[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=e.style;h(this,Ln)===h(this,Ju)?(p.left=`${(100*c/h(this,Ef)).toFixed(2)}%`,p.top=`${(100*d/h(this,Af)).toFixed(2)}%`):(p.left=`${f}${c.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(xe,mo)*l).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,kf)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(t.str.length>1)g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const x=Math.abs(t.transform[0]),y=Math.abs(t.transform[3]);x!==y&&Math.max(x,y)/Math.min(x,y)>1.5&&(g=!0)}if(g&&(i.canvasWidth=o.vertical?t.height:t.width),h(this,Tf).set(e,i),h(this,fs).div=e,h(this,fs).properties=i,S(this,Hs,Kx).call(this,h(this,fs)),i.hasText&&h(this,Ln).append(e),i.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),h(this,Ln).append(x)}},Kx=function(t){var a;const{div:e,properties:i,ctx:r}=t,{style:s}=e;let o="";if(h(xe,mo)>1&&(o=`scale(${1/h(xe,mo)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:c}=i;S(a=xe,fi,Qx).call(a,r,c*h(this,go),l);const{width:d}=r.measureText(e.textContent);d>0&&(o=`scaleX(${u*h(this,go)/d}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)},fi=new WeakSet,zg=function(t=null){let e=h(this,Ja).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Ja).set(t,e),h(this,Mf).set(e,{size:0,family:""})}return e},Qx=function(t,e,i){const r=h(this,Mf).get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)},FP=function(){if(h(this,mo)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),v(this,mo,t.getBoundingClientRect().height),t.remove()},NP=function(t,e){const i=h(this,Qa).get(t);if(i)return i;const r=S(this,fi,zg).call(this,e);r.canvas.width=r.canvas.height=En,S(this,fi,Qx).call(this,r,En,t);const s=r.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const c=o/(o+a);return h(this,Qa).set(t,c),r.canvas.width=r.canvas.height=0,c}r.strokeStyle="red",r.clearRect(0,0,En,En),r.strokeText("g",0,0);let l=r.getImageData(0,0,En,En).data;a=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){a=Math.ceil(c/4/En);break}r.clearRect(0,0,En,En),r.strokeText("A",0,En),l=r.getImageData(0,0,En,En).data,o=0;for(let c=0,d=l.length;c<d;c+=4)if(l[c]>0){o=En-Math.floor(c/4/En);break}r.canvas.width=r.canvas.height=0;const u=o?o/(o+a):hN;return h(this,Qa).set(t,u),u},_(xe,fi),_(xe,Qa,new Map),_(xe,Ja,new Map),_(xe,Mf,new WeakMap),_(xe,mo,null),_(xe,nc,new Set);let Ld=xe;class Id{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Id.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&e.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const dN=65536,fN=100,pN=5e3,gN=sn?PF:EF,mN=sn?MF:_P,yN=sn?TF:CF,bN=sn?RF:EP;function xN(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new Jx,{docId:e}=t,i=n.url?wN(n.url):null,r=n.data?vN(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof zP?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:dN;let c=n.worker instanceof Tu?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Qy(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,m=n.CMapReaderFactory||mN,x=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,y=n.StandardFontDataFactory||bN,b=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,E=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!sn,A=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!sn&&(wn.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R=typeof n.disableFontFace=="boolean"?n.disableFontFace:sn,L=n.fontExtraProperties===!0,P=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,F=n.disableRange===!0,Y=n.disableStream===!0,q=n.disableAutoFetch===!0,V=n.pdfBug===!0,z=n.CanvasFactory||gN,j=n.FilterFactory||yN,B=n.enableHWA===!0,W=l?l.length:n.length??NaN,T=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!sn&&!R,rt=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:m===_P&&y===EP&&p&&x&&Ph(p,document.baseURI)&&Ph(x,document.baseURI),nt=null;rF(d);const M={canvasFactory:new z({ownerDocument:I,enableHWA:B}),filterFactory:new j({docId:e,ownerDocument:I}),cMapReaderFactory:rt?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:rt?null:new y({baseUrl:x})};if(!c){const ot={verbosity:d,port:Ps.workerPort};c=ot.port?Tu.fromPort(ot):new Tu(ot),t._worker=c}const _t={docId:e,apiVersion:"4.10.38",data:r,password:a,disableAutoFetch:q,rangeChunkSize:u,length:W,docBaseUrl:f,enableXfa:P,evaluatorOptions:{maxImageSize:w,disableFontFace:R,ignoreErrors:b,isEvalSupported:k,isOffscreenCanvasSupported:E,isImageDecoderSupported:A,canvasMaxAreaInBytes:C,fontExtraProperties:L,useSystemFonts:T,cMapUrl:rt?p:null,standardFontDataUrl:rt?x:null}},Qt={disableFontFace:R,fontExtraProperties:L,ownerDocument:I,pdfBug:V,styleElement:nt,loadingParams:{disableAutoFetch:q,enableXfa:P}};return c.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const ot=c.messageHandler.sendWithPromise("GetDocRequest",_t,r?[r.buffer]:null);let xt;if(l)xt=new XF(l,{disableRange:F,disableStream:Y});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let cn;if(sn)if(Ph(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");cn=BS}else cn=aN;else cn=Ph(i)?BS:nN;xt=new cn({url:i,length:W,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:F,disableStream:Y})}return ot.then(cn=>{if(t.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const Vr=new Ih(e,cn,c.port),Vs=new AN(Vr,t,xt,Qt,M);t._transport=Vs,Vr.send("Ready",null)})}).catch(t._capability.reject),t}function wN(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(sn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vN(n){if(sn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Yy(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function jS(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var fy;const py=class py{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${hn(py,fy)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}};fy=new WeakMap,_(py,fy,0);let Jx=py;class zP{constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class _N{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return mt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var yo,ps,Pi,iu,Bg;class SN{constructor(t,e,i,r=!1){_(this,Pi);_(this,yo,null);_(this,ps,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new ES:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new BP,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new wp({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return mt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=Zs.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null,isEditing:d=!1}){var k,E;(k=this._stats)==null||k.time("Overall");const f=this._transport.getRenderingIntent(i,r,c,d),{renderingIntent:p,cacheKey:g}=f;v(this,ps,!1),S(this,Pi,Bg).call(this),a||(a=this._transport.getOptionalContentConfig(p));let m=this._intentStates.get(g);m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const x=!!(p&si.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(E=this._stats)==null||E.time("Page Request"),this._pumpOperatorList(f));const y=A=>{var C;m.renderTasks.delete(b),(this._maybeCleanupAfterRender||x)&&v(this,ps,!0),S(this,Pi,iu).call(this,!x),A?(b.capability.reject(A),this._abortOperatorList({intentState:m,reason:A instanceof Error?A:new Error(A)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(C=globalThis.Stats)!=null&&C.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new tw({callback:y,params:{canvasContext:t,viewport:e,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(b);const w=b.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([A,C])=>{var R;if(this.destroyed){y();return}if((R=this._stats)==null||R.time("Rendering"),!(C.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:A,optionalContentConfig:C}),b.operatorListChanged()}).catch(y),w}getOperatorList({intent:t="display",annotationMode:e=Zs.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(t,e,i,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Id.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:u}){if(u){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=e.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),v(this,ps,!1),S(this,Pi,Bg).call(this),Promise.all(t)}cleanup(t=!1){v(this,ps,!0);const e=S(this,Pi,iu).call(this,!1);return t&&e&&this._stats&&(this._stats=new ES),e}_startRenderPage(t,e){var r,s;const i=this._intentStates.get(e);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&S(this,Pi,iu).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},o).getReader(),u=this._intentStates.get(e);u.streamReader=l;const c=()=>{l.read().then(({value:d,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,u),c())},d=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();S(this,Pi,iu).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(d);else if(u.opListReadCapability)u.opListReadCapability.reject(d);else throw d}})};c()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Qv){let r=fN;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Xo(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}yo=new WeakMap,ps=new WeakMap,Pi=new WeakSet,iu=function(t=!1){if(S(this,Pi,Bg).call(this),!h(this,ps)||this.destroyed)return!1;if(t)return v(this,yo,setTimeout(()=>{v(this,yo,null),S(this,Pi,iu).call(this,!1)},pN)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),v(this,ps,!1),!0},Bg=function(){h(this,yo)&&(clearTimeout(h(this,yo)),v(this,yo,null))};var gs,gy;class kN{constructor(){_(this,gs,new Map);_(this,gy,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};h(this,gy).then(()=>{for(const[r]of h(this,gs))r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){ft("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}h(this,gs).set(e,r)}removeEventListener(t,e){const i=h(this,gs).get(e);i==null||i(),h(this,gs).delete(e)}terminate(){for(const[,t]of h(this,gs))t==null||t();h(this,gs).clear()}}gs=new WeakMap,gy=new WeakMap;var my,Za,tl,ic,jg,rc,Hg;const qt=class qt{constructor({name:t=null,port:e=null,verbosity:i=sF()}={}){_(this,ic);var r;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(qt,tl))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(qt,tl)||v(qt,tl,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Ih("main","worker",t),this._messageHandler.on("ready",function(){}),S(this,ic,jg).call(this)}_initialize(){if(h(qt,Za)||h(qt,rc,Hg)){this._setupFakeWorker();return}let{workerSrc:t}=qt;try{qt._isSameOrigin(window.location.href,t)||(t=qt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Ih("main","worker",e),r=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=i,this._port=e,this._webWorker=e,S(this,ic,jg).call(this)}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{Xy("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(qt,Za)||(ft("Setting up fake worker."),v(qt,Za,!0)),qt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new kN;this._port=e;const i=`fake${hn(qt,my)._++}`,r=new Ih(i+"_worker",i,e);t.setup(r,e),this._messageHandler=new Ih(i,i+"_worker",e),S(this,ic,jg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,i;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=h(qt,tl))==null||e.delete(this._port),this._port=null,(i=this._messageHandler)==null||i.destroy(),this._messageHandler=null}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=h(this,tl))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new qt(t)}static get workerSrc(){if(Ps.workerSrc)return Ps.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return mt(this,"_setupFakeWorkerGlobal",(async()=>h(this,rc,Hg)?h(this,rc,Hg):(await import(this.workerSrc)).WorkerMessageHandler)())}};my=new WeakMap,Za=new WeakMap,tl=new WeakMap,ic=new WeakSet,jg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},rc=new WeakSet,Hg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},_(qt,rc),_(qt,my,0),_(qt,Za,!1),_(qt,tl),sn&&(v(qt,Za,!0),Ps.workerSrc||(Ps.workerSrc="./pdf.worker.mjs")),qt._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const r=new URL(e,i);return i.origin===r.origin},qt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Tu=qt;var ms,Rr,sc,oc,ys,el,zh;class AN{constructor(t,e,i,r,s){_(this,el);_(this,ms,new Map);_(this,Rr,new Map);_(this,sc,new Map);_(this,oc,new Map);_(this,ys,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new BP,this.fontLoader=new kF({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return mt(this,"annotationStorage",new e1)}getRenderingIntent(t,e=Zs.ENABLE,i=null,r=!1,s=!1){let o=si.DISPLAY,a=Hx;switch(t){case"any":o=si.ANY;break;case"display":break;case"print":o=si.PRINT;break;default:ft(`getRenderingIntent - invalid intent: ${t}`)}const l=o&si.PRINT&&i instanceof mP?i:this.annotationStorage;switch(e){case Zs.DISABLE:o+=si.ANNOTATIONS_DISABLE;break;case Zs.ENABLE:break;case Zs.ENABLE_FORMS:o+=si.ANNOTATIONS_FORMS;break;case Zs.ENABLE_STORAGE:o+=si.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ft(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=si.IS_EDITING),s&&(o+=si.OPLIST);const{ids:u,hash:c}=l.modifiedIds,d=[o,a.hash,c];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=h(this,ys))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,Rr).values())t.push(r._destroy());h(this,Rr).clear(),h(this,sc).clear(),h(this,oc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,ms).clear(),this.filterFactory.destroy(),Ld.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Xo("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{me(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}me(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=e.onProgress)==null||u.call(e,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),t.on("GetRangeReader",(i,r)=>{me(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}me(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new _N(i,this))}),t.on("DocException",i=>{e._capability.reject(Pn(i))}),t.on("PasswordRequest",i=>{v(this,ys,Promise.withResolvers());try{if(!e.onPassword)throw Pn(i);const r=s=>{s instanceof Error?h(this,ys).reject(s):h(this,ys).resolve({password:s})};e.onPassword(r,i.code)}catch(r){h(this,ys).reject(r)}return h(this,ys).promise}),t.on("DataLoaded",i=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;h(this,Rr).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;ft(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const c=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new AF(s,{disableFontFace:a,fontExtraProperties:l,inspectFont:c});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;me(f,"The imageRef must be defined.");for(const p of h(this,Rr).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,s,o])=>{var l;if(this.destroyed)return;const a=h(this,Rr).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>tF&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",i=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=h(this,sc).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,oc).set(s.refStr,t);const o=new SN(e,s,this,this._params.pdfBug);return h(this,Rr).set(e,o),o});return h(this,sc).set(e,r),r}getPageIndex(t){return jS(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return S(this,el,zh).call(this,"GetFieldObjects")}hasJSActions(){return S(this,el,zh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return S(this,el,zh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return S(this,el,zh).call(this,"GetOptionalContentConfig").then(e=>new qF(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,ms).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new WF(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return h(this,ms).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,Rr).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,ms).clear(),this.filterFactory.destroy(!0),Ld.cleanup()}}cachedPageNumber(t){if(!jS(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,oc).get(e)??null}}ms=new WeakMap,Rr=new WeakMap,sc=new WeakMap,oc=new WeakMap,ys=new WeakMap,el=new WeakSet,zh=function(t,e=null){const i=h(this,ms).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return h(this,ms).set(t,r),r};const mh=Symbol("INITIAL_DATA");var Kn,Rf,Zx;class BP{constructor(){_(this,Rf);_(this,Kn,Object.create(null))}get(t,e=null){if(e){const r=S(this,Rf,Zx).call(this,t);return r.promise.then(()=>e(r.data)),null}const i=h(this,Kn)[t];if(!i||i.data===mh)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=h(this,Kn)[t];return!!e&&e.data!==mh}delete(t){const e=h(this,Kn)[t];return!e||e.data===mh?!1:(delete h(this,Kn)[t],!0)}resolve(t,e=null){const i=S(this,Rf,Zx).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in h(this,Kn)){const{data:i}=h(this,Kn)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}v(this,Kn,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Kn)){const{data:e}=h(this,Kn)[t];e!==mh&&(yield[t,e])}}}Kn=new WeakMap,Rf=new WeakSet,Zx=function(t){var e;return(e=h(this,Kn))[t]||(e[t]={...Promise.withResolvers(),data:mh})};var bo;class EN{constructor(t){_(this,bo,null);v(this,bo,t),this.onContinue=null}get promise(){return h(this,bo).capability.promise}cancel(t=0){h(this,bo).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,bo).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,bo);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}bo=new WeakMap;var xo,nl;const ya=class ya{constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:f=null}){_(this,xo,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new EN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var a,l;if(this.cancelled)return;if(this._canvas){if(h(ya,nl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(ya,nl).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new Cu(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),h(this,xo)&&(window.cancelAnimationFrame(h(this,xo)),v(this,xo,null)),h(ya,nl).delete(this._canvas),this.callback(t||new Qv(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?v(this,xo,window.requestAnimationFrame(()=>{v(this,xo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(ya,nl).delete(this._canvas),this.callback())))}};xo=new WeakMap,nl=new WeakMap,_(ya,nl,new WeakSet);let tw=ya;const CN="4.10.38",TN="f9bea397f";function HS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function yh(n){return Math.max(0,Math.min(255,255*n))}class $S{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=yh(t),[t,t,t]}static G_HTML([t]){const e=HS(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(yh)}static RGB_HTML(t){return`#${t.map(HS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[yh(1-Math.min(1,t+r)),yh(1-Math.min(1,i+r)),yh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,s=1-e,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class PN{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){zt("Abstract method `_createSVG` called.")}}class i1 extends PN{_createSVG(t){return document.createElementNS(Xr,t)}}class jP{static setupStorage(t,e,i,r,s){const o=r.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",a=>{r.setValue(e,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",a=>{r.setValue(e,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",a=>{r.setValue(e,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(e,{value:u})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:s}){const{attributes:o}=e,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&t.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",u);break;case"style":Object.assign(t.style,u);break;case"textContent":t.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,u)}a&&s.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var d,f;const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,s=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",l=t.div;if(l.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),a&&Id.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const c=[[r,-1,o]];for(;c.length>0;){const[p,g,m]=c.at(-1);if(g+1===p.children.length){c.pop();continue}const x=p.children[++c.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const w=document.createTextNode(x.value);u.push(w),m.append(w);continue}const b=(d=x==null?void 0:x.attributes)!=null&&d.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(m.append(b),x.attributes&&this.setAttributes({html:b,element:x,storage:e,intent:s,linkService:i}),((f=x.children)==null?void 0:f.length)>0)c.push([x,-1,b]);else if(x.value){const w=document.createTextNode(x.value);a&&Id.shouldBuildText(y)&&u.push(w),b.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const _p=1e3,MN=9,jl=new WeakSet;function Uo(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class RN{static create(t){switch(t.data.annotationType){case be.LINK:return new HP(t);case be.TEXT:return new LN(t);case be.WIDGET:switch(t.data.fieldType){case"Tx":return new IN(t);case"Btn":return t.data.radioButton?new VP(t):t.data.checkBox?new ON(t):new FN(t);case"Ch":return new NN(t);case"Sig":return new DN(t)}return new Gl(t);case be.POPUP:return new nw(t);case be.FREETEXT:return new YP(t);case be.LINE:return new BN(t);case be.SQUARE:return new jN(t);case be.CIRCLE:return new HN(t);case be.POLYLINE:return new KP(t);case be.CARET:return new UN(t);case be.INK:return new r1(t);case be.POLYGON:return new $N(t);case be.HIGHLIGHT:return new QP(t);case be.UNDERLINE:return new VN(t);case be.SQUIGGLY:return new WN(t);case be.STRIKEOUT:return new GN(t);case be.STAMP:return new JP(t);case be.FILEATTACHMENT:return new qN(t);default:return new de(t)}}}var il,ac,lc,Lf,ew;const $1=class $1{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){_(this,Lf);_(this,il,null);_(this,ac,!1);_(this,lc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $1._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;h(this,il)||v(this,il,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&S(this,Lf,ew).call(this,e),(i=h(this,lc))==null||i.popup.updateEdited(t)}resetEdited(){var t;h(this,il)&&(S(this,Lf,ew).call(this,h(this,il).rect),(t=h(this,lc))==null||t.popup.resetEdited(),v(this,il,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Gl||(s.tabIndex=_p);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof nw){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:a,height:l}=Uo(e.rect);if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,x=e.borderStyle.verticalCornerRadius;if(m>0||x>0){const b=`calc(${m}px * var(--scale-factor)) / calc(${x}px * var(--scale-factor))`;o.borderRadius=b}else if(this instanceof VP){const b=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=b}switch(e.borderStyle.style){case ph.SOLID:o.borderStyle="solid";break;case ph.DASHED:o.borderStyle="dashed";break;case ph.BEVELED:ft("Unimplemented border style: beveled");break;case ph.INSET:ft("Unimplemented border style: inset");break;case ph.UNDERLINE:o.borderBottomStyle="solid";break}const y=e.borderColor||null;y?(v(this,ac,!0),o.borderColor=et.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const u=et.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:c,pageHeight:d,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(u[0]-f)/c}%`,o.top=`${100*(u[1]-p)/d}%`;const{rotation:g}=e;return e.hasOwnCanvas||g===0?(o.width=`${100*a/c}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Uo(this.data.rect);let a,l;t%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),e.style.width=`${a}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const s=r.detail[e],o=s[0],a=s.slice(1);r.target.style[i]=$S[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:$S[`${o}_rgb`](a)})};return mt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail)){const s=t[r]||i[r];s==null||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,s]of Object.entries(e)){const o=i[r];if(o){const a={detail:{[r]:s},target:t};o(a),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,s]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,x,y,b]=t.subarray(2,6);if(r===m&&s===x&&e===y&&i===b)return}const{style:o}=this.container;let a;if(h(this,ac)){const{borderColor:m,borderWidth:x}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const l=r-e,u=s-i,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=c.createElement("defs");d.append(f);const p=c.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,x=t.length;m<x;m+=8){const y=t[m],b=t[m+1],w=t[m+2],k=t[m+3],E=c.createElement("rect"),A=(w-e)/l,C=(s-b)/u,R=(y-w)/l,L=(b-k)/u;E.setAttribute("x",A),E.setAttribute("y",C),E.setAttribute("width",R),E.setAttribute("height",L),p.append(E),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${A}" y="${C}" width="${R}" height="${L}"/>`)}h(this,ac)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:t}=this,e=v(this,lc,new nw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===e)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!jl.has(u)){ft(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==e&&jl.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};il=new WeakMap,ac=new WeakMap,lc=new WeakMap,Lf=new WeakSet,ew=function(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...t);const{width:u,height:c}=Uo(t);e.left=`${100*(t[0]-a)/s}%`,e.top=`${100*(o-t[3]+l)/o}%`,r===0?(e.width=`${100*u/s}%`,e.height=`${100*c/o}%`):this.setRotation(r)};let de=$1;var ai,ha,$P,UP;class HP extends de{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});_(this,ai);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let s=!1;return e.url?(i.addLinkAttributes(r,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(r,e.action),s=!0):e.attachment?(S(this,ai,$P).call(this,r,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(S(this,ai,UP).call(this,r,e.setOCGState),s=!0):e.dest?(this._bindLink(r,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),s=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&S(this,ai,ha).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),S(this,ai,ha).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(e[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}e.onclick||(e.onclick=()=>!1),S(this,ai,ha).call(this)}_bindResetFormAction(e,i){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),S(this,ai,ha).call(this),!this._fieldObjects){ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var d;r==null||r();const{fields:s,refs:o,include:a}=i,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,c=[];for(const f of l){const{id:p}=f;switch(c.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!jl.has(g)){ft(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}ai=new WeakSet,ha=function(){this.container.setAttribute("data-internal-link","")},$P=function(e,i,r=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},S(this,ai,ha).call(this)},UP=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),S(this,ai,ha).call(this)};class LN extends de{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Gl extends de{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return wn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,s){i.includes("mouse")?t.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var a;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(t,e,i,r){var s,o,a;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":et.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||MN,s=t.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(j0*r))||1,d=u/c;o=Math.min(r,l(d/j0))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(u/j0))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=et.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class IN extends Gl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let a=o.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),jl.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=_p,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=c.userValue=p,c.formattedValue=null});let d=f=>{const{formattedValue:p}=c;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var m;if(c.focused)return;const{target:g}=p;c.userValue&&(g.value=c.userValue),c.lastCommittedValue=g.value,c.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(c.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){c.userValue=m.detail.value??"",t.setValue(e,{value:c.userValue.toString()}),m.target.value=c.userValue},formattedValue(m){const{formattedValue:x}=m.detail;c.formattedValue=x,x!=null&&m.target!==document.activeElement&&(m.target.value=x),t.setValue(e,{formattedValue:x})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var w;const{charLimit:x}=m.detail,{target:y}=m;if(x===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",x);let b=c.userValue;!b||b.length<=x||(b=b.slice(0,x),y.value=c.userValue=b,t.setValue(e,{value:b}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("keydown",p=>{var x;c.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(c.commitKey=3),g===-1)return;const{value:m}=p.target;c.lastCommittedValue!==m&&(c.lastCommittedValue=m,c.userValue=m,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var m,x;if(!c.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(c.focused=!1);const{value:g}=p.target;c.userValue=g,c.lastCommittedValue!==g&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",p=>{var E;c.lastCommittedValue=null;const{data:g,target:m}=p,{value:x,selectionStart:y,selectionEnd:b}=m;let w=y,k=b;switch(p.inputType){case"deleteWordBackward":{const A=x.substring(0,y).match(/\w*[^\w]*$/);A&&(w-=A[0].length);break}case"deleteWordForward":{const A=x.substring(y).match(/^[^\w]*\w*/);A&&(k+=A[0].length);break}case"deleteContentBackward":y===b&&(w-=1);break;case"deleteContentForward":y===b&&(k+=1);break}p.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:g||"",willCommit:!1,selStart:w,selEnd:k}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class DN extends Gl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ON extends Gl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return jl.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=_p,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i)){const c=l&&u.exportValue===e.exportValue;u.domElement&&(u.domElement.checked=c),t.setValue(u.id,{value:c})}t.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=e.defaultFieldValue||"Off";o.target.checked=a===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class VP extends Gl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const s=document.createElement("input");if(jl.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=_p,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i))t.setValue(u.id,{value:!1});t.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=e.defaultFieldValue;o.target.checked=a!=null&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=o===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=c&&d.id===i;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class FN extends HP{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class NN extends Gl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");jl.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=_p;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,i.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),r.prepend(c),o=()=>{c.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=c=>{const d=c?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",c=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of r.options)m.selected=g.has(m.value);t.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,x=>x.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,x=r.children[p],y=document.createElement("option");y.textContent=g,y.value=m,x?x.before(y):r.append(y),t.setValue(e,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of p){const{displayValue:m,exportValue:x}=g,y=document.createElement("option");y.textContent=m,y.value=x,r.append(y)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(e,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,c)}),r.addEventListener("input",c=>{var p;const d=a(!0),f=a(!1);t.setValue(e,{value:d}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):r.addEventListener("input",function(c){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class nw extends de{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:de._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new zN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${Kv}${i}`).join(",")),this.container}}var uc,yy,by,cc,rl,se,bs,hc,If,Df,dc,xs,Xi,ws,Of,vs,Ff,sl,ol,Ot,$g,iw,WP,GP,qP,XP,Ug,Vg,rw;class zN{constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:c,open:d}){_(this,Ot);_(this,uc,S(this,Ot,qP).bind(this));_(this,yy,S(this,Ot,rw).bind(this));_(this,by,S(this,Ot,Vg).bind(this));_(this,cc,S(this,Ot,Ug).bind(this));_(this,rl,null);_(this,se,null);_(this,bs,null);_(this,hc,null);_(this,If,null);_(this,Df,null);_(this,dc,null);_(this,xs,!1);_(this,Xi,null);_(this,ws,null);_(this,Of,null);_(this,vs,null);_(this,Ff,null);_(this,sl,null);_(this,ol,!1);var f;v(this,se,t),v(this,Ff,r),v(this,bs,o),v(this,vs,a),v(this,Df,l),v(this,rl,e),v(this,Of,u),v(this,dc,c),v(this,If,i),v(this,hc,Zv.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",h(this,cc)),p.addEventListener("mouseenter",h(this,by)),p.addEventListener("mouseleave",h(this,yy)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",h(this,uc));h(this,se).hidden=!0,d&&S(this,Ot,Ug).call(this)}render(){if(h(this,Xi))return;const t=v(this,Xi,document.createElement("div"));if(t.className="popup",h(this,rl)){const s=t.style.outlineColor=et.makeHexColor(...h(this,rl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:t.style.backgroundColor=et.makeHexColor(...h(this,rl).map(a=>Math.floor(.7*(255-a)+a)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=h(this,Ff),t.append(e),h(this,hc)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,hc).valueOf()})),e.append(s)}const r=h(this,Ot,$g);if(r)jP.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(h(this,bs));t.append(s)}h(this,se).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;h(this,sl)||v(this,sl,{contentsObj:h(this,bs),richText:h(this,vs)}),t&&v(this,ws,null),e&&(v(this,vs,S(this,Ot,GP).call(this,e)),v(this,bs,null)),(i=h(this,Xi))==null||i.remove(),v(this,Xi,null)}resetEdited(){var t;h(this,sl)&&({contentsObj:hn(this,bs)._,richText:hn(this,vs)._}=h(this,sl),v(this,sl,null),(t=h(this,Xi))==null||t.remove(),v(this,Xi,null),v(this,ws,null))}forceHide(){v(this,ol,this.isVisible),h(this,ol)&&(h(this,se).hidden=!0)}maybeShow(){h(this,ol)&&(h(this,Xi)||S(this,Ot,Vg).call(this),v(this,ol,!1),h(this,se).hidden=!1)}get isVisible(){return h(this,se).hidden===!1}}uc=new WeakMap,yy=new WeakMap,by=new WeakMap,cc=new WeakMap,rl=new WeakMap,se=new WeakMap,bs=new WeakMap,hc=new WeakMap,If=new WeakMap,Df=new WeakMap,dc=new WeakMap,xs=new WeakMap,Xi=new WeakMap,ws=new WeakMap,Of=new WeakMap,vs=new WeakMap,Ff=new WeakMap,sl=new WeakMap,ol=new WeakMap,Ot=new WeakSet,$g=function(){const t=h(this,vs),e=h(this,bs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,vs).html||null},iw=function(){var t,e,i;return((i=(e=(t=h(this,Ot,$g))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},WP=function(){var t,e,i;return((i=(e=(t=h(this,Ot,$g))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},GP=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,Ot,WP),fontSize:h(this,Ot,iw)?`calc(${h(this,Ot,iw)}px * var(--scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return i},qP=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,xs))&&S(this,Ot,Ug).call(this)},XP=function(){if(h(this,ws)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:s}}}=h(this,Df);let o=!!h(this,dc),a=o?h(this,dc):h(this,Of);for(const g of h(this,If))if(!a||et.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=et.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),c=o?a[2]-a[0]+5:0,d=l[0]+c,f=l[1];v(this,ws,[100*(d-r)/e,100*(f-s)/i]);const{style:p}=h(this,se);p.left=`${h(this,ws)[0]}%`,p.top=`${h(this,ws)[1]}%`},Ug=function(){v(this,xs,!h(this,xs)),h(this,xs)?(S(this,Ot,Vg).call(this),h(this,se).addEventListener("click",h(this,cc)),h(this,se).addEventListener("keydown",h(this,uc))):(S(this,Ot,rw).call(this),h(this,se).removeEventListener("click",h(this,cc)),h(this,se).removeEventListener("keydown",h(this,uc)))},Vg=function(){h(this,Xi)||this.render(),this.isVisible?h(this,xs)&&h(this,se).classList.add("focused"):(S(this,Ot,XP).call(this),h(this,se).hidden=!1,h(this,se).style.zIndex=parseInt(h(this,se).style.zIndex)+1e3)},rw=function(){h(this,se).classList.remove("focused"),!(h(this,xs)||!this.isVisible)&&(h(this,se).hidden=!0,h(this,se).style.zIndex=parseInt(h(this,se).style.zIndex)-1e3)};class YP extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=dt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Nf;class BN extends de{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,Nf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:r}=Uo(e.rect),s=this.svgFactory.create(i,r,!0),o=v(this,Nf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Nf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nf=new WeakMap;var zf;class jN extends de{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,zf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:r}=Uo(e.rect),s=this.svgFactory.create(i,r,!0),o=e.borderStyle.width,a=v(this,zf,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,zf)}addHighlightArea(){this.container.classList.add("highlightArea")}}zf=new WeakMap;var Bf;class HN extends de{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,Bf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:r}=Uo(e.rect),s=this.svgFactory.create(i,r,!0),o=e.borderStyle.width,a=v(this,Bf,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bf=new WeakMap;var jf;class KP extends de{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,jf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:o,height:a}=Uo(e),l=this.svgFactory.create(o,a,!0);let u=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-e[0],g=e[3]-i[d+1];u.push(`${p},${g}`)}u=u.join(" ");const c=v(this,jf,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,jf)}addHighlightArea(){this.container.classList.add("highlightArea")}}jf=new WeakMap;class $N extends KP{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class UN extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Hf,al,$f,sw;class r1 extends de{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,$f);_(this,Hf,null);_(this,al,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dt.HIGHLIGHT:dt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:r,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:u}=S(this,$f,sw).call(this,i,e),c=this.svgFactory.create(l,u,!0),d=v(this,Hf,this.svgFactory.createElement("svg:g"));c.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let f=0,p=r.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);h(this,al).push(g),g.setAttribute("points",r[f].join(",")),d.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:r,rect:s}=e,o=h(this,Hf);if(i>=0&&o.setAttribute("stroke-width",i||1),r)for(let a=0,l=h(this,al).length;a<l;a++)h(this,al)[a].setAttribute("points",r[a].join(","));if(s){const{transform:a,width:l,height:u}=S(this,$f,sw).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return h(this,al)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hf=new WeakMap,al=new WeakMap,$f=new WeakSet,sw=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class QP extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class VN extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class WN extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class GN extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class JP extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Uf,Vf,ow;class qN extends de{constructor(e){var r;super(e,{isRenderable:!0});_(this,Vf);_(this,Uf,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",S(this,Vf,ow).bind(this)),v(this,Uf,r);const{isMac:s}=wn.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&S(this,Vf,ow).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,Uf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uf=new WeakMap,Vf=new WeakSet,ow=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Wf,ll,ul,Gf,Ul,ZP,aw;class XN{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:a}){_(this,Ul);_(this,Wf,null);_(this,ll,null);_(this,ul,new Map);_(this,Gf,null);this.div=t,v(this,Wf,e),v(this,ll,i),v(this,Gf,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,ul).size>0}async render(t){var o;const{annotations:e}=t,i=this.div;zl(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new i1,annotationStorage:t.annotationStorage||new e1,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const l=a.annotationType===be.POPUP;if(l){const d=r.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=Uo(a.rect);if(d<=0||f<=0)continue}s.data=a;const u=RN.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=r.get(a.popupRef);d?d.push(u):r.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),await S(this,Ul,ZP).call(this,c,a.id),u._isEditable&&(h(this,ul).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}S(this,Ul,aw).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,zl(e,{rotation:t.rotation}),S(this,Ul,aw).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,ul).values())}getEditableAnnotation(t){return h(this,ul).get(t)}}Wf=new WeakMap,ll=new WeakMap,ul=new WeakMap,Gf=new WeakMap,Ul=new WeakSet,ZP=async function(t,e){var o,a;const i=t.firstChild||t,r=i.id=`${Kv}${e}`,s=await((o=h(this,Gf))==null?void 0:o.getAriaAttributes(r));if(s)for(const[l,u]of s)i.setAttribute(l,u);this.div.append(t),(a=h(this,Wf))==null||a.moveElementInDOM(this.div,t,i,!1)},aw=function(){if(!h(this,ll))return;const t=this.div;for(const[e,i]of h(this,ll)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}h(this,ll).clear()};const Xp=/\r\n?|\n/g;var Yi,Qn,qf,cl,Jn,ye,tM,eM,nM,Wg,Ds,Gg,qg,iM,uw,rM;const jt=class jt extends ne{constructor(e){super({...e,name:"freeTextEditor"});_(this,ye);_(this,Yi);_(this,Qn,"");_(this,qf,`${this.id}-editor`);_(this,cl,null);_(this,Jn);v(this,Yi,e.color||jt._defaultColor||ne._defaultLineColor),v(this,Jn,e.fontSize||jt._defaultFontSize)}static get _keyboardManager(){const e=jt.prototype,i=o=>o.isEmpty(),r=Bl.TRANSLATE_SMALL,s=Bl.TRANSLATE_BIG;return mt(this,"_keyboardManager",new vp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(e,i){ne.initialize(e,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case vt.FREETEXT_SIZE:jt._defaultFontSize=i;break;case vt.FREETEXT_COLOR:jt._defaultColor=i;break}}updateParams(e,i){switch(e){case vt.FREETEXT_SIZE:S(this,ye,tM).call(this,i);break;case vt.FREETEXT_COLOR:S(this,ye,eM).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[vt.FREETEXT_SIZE,jt._defaultFontSize],[vt.FREETEXT_COLOR,jt._defaultColor||ne._defaultLineColor]]}get propertiesToUpdate(){return[[vt.FREETEXT_SIZE,h(this,Jn)],[vt.FREETEXT_COLOR,h(this,Yi)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-jt._internalPadding*e,-(jt._internalPadding+h(this,Jn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(dt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),v(this,cl,new AbortController);const e=this._uiManager.combinedSignal(h(this,cl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,qf)),this._isDraggable=!0,(e=h(this,cl))==null||e.abort(),v(this,cl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Qn),i=v(this,Qn,S(this,ye,nM).call(this).trimEnd());if(e===i)return;const r=s=>{if(v(this,Qn,s),!s){this.remove();return}S(this,ye,qg).call(this),this._uiManager.rebuild(this),S(this,ye,Wg).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(e)},mustExec:!1}),S(this,ye,Wg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){jt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,qf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Jn)}px * var(--scale-factor))`,r.color=h(this,Yi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Bm(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=e+(a[0]-f)/c,m=i+this.height-(a[1]-p)/d;break;case 90:g=e+(a[0]-f)/c,m=i-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:g=e-this.width+(a[0]-f)/c,m=i-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:g=e+(a[0]-f-this.height*d)/c,m=i+(a[1]-p-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(g*s,m*o,l,u)}else this.setAt(e*s,i*o,this.width*s,this.height*o);S(this,ye,qg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var g,m,x;const i=e.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const s=S(g=jt,Ds,uw).call(g,i.getData("text")||"").replaceAll(Xp,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(Xp,"")),y!==this.editorDiv){let b=c;for(const w of this.editorDiv.childNodes){if(w===y){b=d;continue}b.push(S(m=jt,Ds,Gg).call(m,w))}}c.push(l.nodeValue.slice(0,u).replaceAll(Xp,""))}else if(l===this.editorDiv){let y=c,b=0;for(const w of this.editorDiv.childNodes)b++===u&&(y=d),y.push(S(x=jt,Ds,Gg).call(x,w))}v(this,Qn,`${c.join(`
`)}${s}${d.join(`
`)}`),S(this,ye,qg).call(this);const f=new Range;let p=c.reduce((y,b)=>y+b.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(p<=b){f.setStart(y,p),f.setEnd(y,p);break}p-=b}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,r){var a;let s=null;if(e instanceof YP){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:f,popupRef:p},textContent:g,textPosition:m,parent:{page:{pageNumber:x}}}=e;if(!g||g.length===0)return null;s=e={annotationType:dt.FREETEXT,color:Array.from(u),fontSize:l,value:g.join(`
`),position:m,pageIndex:x-1,rect:c.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(e,i,r);return v(o,Jn,e.fontSize),v(o,Yi,et.makeHexColor(...e.color)),v(o,Qn,S(a=jt,Ds,uw).call(a,e.value)),o.annotationElementId=e.id||null,o._initialData=s,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=jt._internalPadding*this.parentScale,r=this.getRect(i,i),s=ne._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Yi)),o={annotationType:dt.FREETEXT,color:s,fontSize:h(this,Jn),value:S(this,ye,iM).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!S(this,ye,rM).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${h(this,Jn)}px * var(--scale-factor))`,r.color=h(this,Yi),i.replaceChildren();for(const o of h(this,Qn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const s=jt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:h(this,Qn)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Yi=new WeakMap,Qn=new WeakMap,qf=new WeakMap,cl=new WeakMap,Jn=new WeakMap,ye=new WeakSet,tM=function(e){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-h(this,Jn))*this.parentScale),v(this,Jn,s),S(this,ye,Wg).call(this)},r=h(this,Jn);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},eM=function(e){const i=s=>{v(this,Yi,this.editorDiv.style.color=s)},r=h(this,Yi);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},nM=function(){var r;const e=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(S(r=jt,Ds,Gg).call(r,s)),i=s);return e.join(`
`)},Wg=function(){const[e,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/i):(this.width=r.height/e,this.height=r.width/i),this.fixAndSetPosition()},Ds=new WeakSet,Gg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Xp,"")},qg=function(){if(this.editorDiv.replaceChildren(),!!h(this,Qn))for(const e of h(this,Qn).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},iM=function(){return h(this,Qn).replaceAll(""," ")},uw=function(e){return e.replaceAll(" ","")},rM=function(e){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==r||e.color.some((a,l)=>a!==s[l])||e.pageIndex!==o},_(jt,Ds),H(jt,"_freeTextDefaultContent",""),H(jt,"_internalPadding",0),H(jt,"_defaultColor",null),H(jt,"_defaultFontSize",10),H(jt,"_type","freetext"),H(jt,"_editorType",dt.FREETEXT);let lw=jt;class Q{toSVGPath(){zt("Abstract method `toSVGPath` must be implemented.")}get box(){zt("Abstract getter `box` must be implemented.")}serialize(t,e){zt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,s,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=e+t[a]*r,o[a+1]=i+t[a+1]*s;return o}static _rescaleAndSwap(t,e,i,r,s,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=e+t[a+1]*r,o[a+1]=i+t[a]*s;return o}static _translate(t,e,i,r){r||(r=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)r[s]=e+t[s],r[s+1]=i+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,s){switch(s){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,s,o){return[(t+5*i)/6,(e+5*r)/6,(5*i+s)/6,(5*r+o)/6,(i+s)/2,(r+o)/2]}}H(Q,"PRECISION",1e-4);var Zn,Ki,fc,pc,Lr,gt,hl,dl,Xf,Yf,gc,mc,wo,Kf,xy,wy,Ae,Bh,sM,oM,aM,lM,uM,cM;const es=class es{constructor({x:t,y:e},i,r,s,o,a=0){_(this,Ae);_(this,Zn);_(this,Ki,[]);_(this,fc);_(this,pc);_(this,Lr,[]);_(this,gt,new Float32Array(18));_(this,hl);_(this,dl);_(this,Xf);_(this,Yf);_(this,gc);_(this,mc);_(this,wo,[]);v(this,Zn,i),v(this,mc,s*r),v(this,pc,o),h(this,gt).set([NaN,NaN,NaN,NaN,t,e],6),v(this,fc,a),v(this,Yf,h(es,Kf)*r),v(this,Xf,h(es,wy)*r),v(this,gc,r),h(this,wo).push(t,e)}isEmpty(){return isNaN(h(this,gt)[8])}add({x:t,y:e}){var L;v(this,hl,t),v(this,dl,e);const[i,r,s,o]=h(this,Zn);let[a,l,u,c]=h(this,gt).subarray(8,12);const d=t-u,f=e-c,p=Math.hypot(d,f);if(p<h(this,Xf))return!1;const g=p-h(this,Yf),m=g/p,x=m*d,y=m*f;let b=a,w=l;a=u,l=c,u+=x,c+=y,(L=h(this,wo))==null||L.push(t,e);const k=-y/g,E=x/g,A=k*h(this,mc),C=E*h(this,mc);return h(this,gt).set(h(this,gt).subarray(2,8),0),h(this,gt).set([u+A,c+C],4),h(this,gt).set(h(this,gt).subarray(14,18),12),h(this,gt).set([u-A,c-C],16),isNaN(h(this,gt)[6])?(h(this,Lr).length===0&&(h(this,gt).set([a+A,l+C],2),h(this,Lr).push(NaN,NaN,NaN,NaN,(a+A-i)/s,(l+C-r)/o),h(this,gt).set([a-A,l-C],14),h(this,Ki).push(NaN,NaN,NaN,NaN,(a-A-i)/s,(l-C-r)/o)),h(this,gt).set([b,w,a,l,u,c],6),!this.isEmpty()):(h(this,gt).set([b,w,a,l,u,c],6),Math.abs(Math.atan2(w-l,b-a)-Math.atan2(y,x))<Math.PI/2?([a,l,u,c]=h(this,gt).subarray(2,6),h(this,Lr).push(NaN,NaN,NaN,NaN,((a+u)/2-i)/s,((l+c)/2-r)/o),[a,l,b,w]=h(this,gt).subarray(14,18),h(this,Ki).push(NaN,NaN,NaN,NaN,((b+a)/2-i)/s,((w+l)/2-r)/o),!0):([b,w,a,l,u,c]=h(this,gt).subarray(0,6),h(this,Lr).push(((b+5*a)/6-i)/s,((w+5*l)/6-r)/o,((5*a+u)/6-i)/s,((5*l+c)/6-r)/o,((a+u)/2-i)/s,((l+c)/2-r)/o),[u,c,a,l,b,w]=h(this,gt).subarray(12,18),h(this,Ki).push(((b+5*a)/6-i)/s,((w+5*l)/6-r)/o,((5*a+u)/6-i)/s,((5*l+c)/6-r)/o,((a+u)/2-i)/s,((l+c)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,Lr),e=h(this,Ki);if(isNaN(h(this,gt)[6])&&!this.isEmpty())return S(this,Ae,sM).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);S(this,Ae,aM).call(this,i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return S(this,Ae,oM).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,r,s,o){return new hM(t,e,i,r,s,o)}getOutlines(){var d;const t=h(this,Lr),e=h(this,Ki),i=h(this,gt),[r,s,o,a]=h(this,Zn),l=new Float32Array((((d=h(this,wo))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(h(this,wo)[f]-r)/o,l[f+1]=(h(this,wo)[f+1]-s)/a;if(l[l.length-2]=(h(this,hl)-r)/o,l[l.length-1]=(h(this,dl)-s)/a,isNaN(i[6])&&!this.isEmpty())return S(this,Ae,lM).call(this,l);const u=new Float32Array(h(this,Lr).length+24+h(this,Ki).length);let c=t.length;for(let f=0;f<c;f+=2){if(isNaN(t[f])){u[f]=u[f+1]=NaN;continue}u[f]=t[f],u[f+1]=t[f+1]}c=S(this,Ae,cM).call(this,u,c);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){u[c]=u[c+1]=NaN,c+=2;continue}u[c]=e[f+p],u[c+1]=e[f+p+1],c+=2}return S(this,Ae,uM).call(this,u,c),this.newFreeDrawOutline(u,l,h(this,Zn),h(this,gc),h(this,fc),h(this,pc))}};Zn=new WeakMap,Ki=new WeakMap,fc=new WeakMap,pc=new WeakMap,Lr=new WeakMap,gt=new WeakMap,hl=new WeakMap,dl=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,gc=new WeakMap,mc=new WeakMap,wo=new WeakMap,Kf=new WeakMap,xy=new WeakMap,wy=new WeakMap,Ae=new WeakSet,Bh=function(){const t=h(this,gt).subarray(4,6),e=h(this,gt).subarray(16,18),[i,r,s,o]=h(this,Zn);return[(h(this,hl)+(t[0]-e[0])/2-i)/s,(h(this,dl)+(t[1]-e[1])/2-r)/o,(h(this,hl)+(e[0]-t[0])/2-i)/s,(h(this,dl)+(e[1]-t[1])/2-r)/o]},sM=function(){const[t,e,i,r]=h(this,Zn),[s,o,a,l]=S(this,Ae,Bh).call(this);return`M${(h(this,gt)[2]-t)/i} ${(h(this,gt)[3]-e)/r} L${(h(this,gt)[4]-t)/i} ${(h(this,gt)[5]-e)/r} L${s} ${o} L${a} ${l} L${(h(this,gt)[16]-t)/i} ${(h(this,gt)[17]-e)/r} L${(h(this,gt)[14]-t)/i} ${(h(this,gt)[15]-e)/r} Z`},oM=function(t){const e=h(this,Ki);t.push(`L${e[4]} ${e[5]} Z`)},aM=function(t){const[e,i,r,s]=h(this,Zn),o=h(this,gt).subarray(4,6),a=h(this,gt).subarray(16,18),[l,u,c,d]=S(this,Ae,Bh).call(this);t.push(`L${(o[0]-e)/r} ${(o[1]-i)/s} L${l} ${u} L${c} ${d} L${(a[0]-e)/r} ${(a[1]-i)/s}`)},lM=function(t){const e=h(this,gt),[i,r,s,o]=h(this,Zn),[a,l,u,c]=S(this,Ae,Bh).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-r)/o],0),this.newFreeDrawOutline(d,t,h(this,Zn),h(this,gc),h(this,fc),h(this,pc))},uM=function(t,e){const i=h(this,Ki);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},cM=function(t,e){const i=h(this,gt).subarray(4,6),r=h(this,gt).subarray(16,18),[s,o,a,l]=h(this,Zn),[u,c,d,f]=S(this,Ae,Bh).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l],e),e+=24},_(es,Kf,8),_(es,xy,2),_(es,wy,h(es,Kf)+h(es,xy));let $m=es;var yc,fl,_s,Qf,ti,Jf,le,vy,dM;class hM extends Q{constructor(e,i,r,s,o,a){super();_(this,vy);_(this,yc);_(this,fl,new Float32Array(4));_(this,_s);_(this,Qf);_(this,ti);_(this,Jf);_(this,le);v(this,le,e),v(this,ti,i),v(this,yc,r),v(this,Jf,s),v(this,_s,o),v(this,Qf,a),this.lastPoint=[NaN,NaN],S(this,vy,dM).call(this,a);const[l,u,c,d]=h(this,fl);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/c,e[f+1]=(e[f+1]-u)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/c,i[f+1]=(i[f+1]-u)/d}toSVGPath(){const e=[`M${h(this,le)[4]} ${h(this,le)[5]}`];for(let i=6,r=h(this,le).length;i<r;i+=6){if(isNaN(h(this,le)[i])){e.push(`L${h(this,le)[i+4]} ${h(this,le)[i+5]}`);continue}e.push(`C${h(this,le)[i]} ${h(this,le)[i+1]} ${h(this,le)[i+2]} ${h(this,le)[i+3]} ${h(this,le)[i+4]} ${h(this,le)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,r,s],o){const a=r-e,l=s-i;let u,c;switch(o){case 0:u=Q._rescale(h(this,le),e,s,a,-l),c=Q._rescale(h(this,ti),e,s,a,-l);break;case 90:u=Q._rescaleAndSwap(h(this,le),e,i,a,l),c=Q._rescaleAndSwap(h(this,ti),e,i,a,l);break;case 180:u=Q._rescale(h(this,le),r,i,-a,l),c=Q._rescale(h(this,ti),r,i,-a,l);break;case 270:u=Q._rescaleAndSwap(h(this,le),r,s,-a,-l),c=Q._rescaleAndSwap(h(this,ti),r,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return h(this,fl)}newOutliner(e,i,r,s,o,a=0){return new $m(e,i,r,s,o,a)}getNewOutline(e,i){const[r,s,o,a]=h(this,fl),[l,u,c,d]=h(this,yc),f=o*c,p=a*d,g=r*c+l,m=s*d+u,x=this.newOutliner({x:h(this,ti)[0]*f+g,y:h(this,ti)[1]*p+m},h(this,yc),h(this,Jf),e,h(this,Qf),i??h(this,_s));for(let y=2;y<h(this,ti).length;y+=2)x.add({x:h(this,ti)[y]*f+g,y:h(this,ti)[y+1]*p+m});return x.getOutlines()}}yc=new WeakMap,fl=new WeakMap,_s=new WeakMap,Qf=new WeakMap,ti=new WeakMap,Jf=new WeakMap,le=new WeakMap,vy=new WeakSet,dM=function(e){const i=h(this,le);let r=i[4],s=i[5],o=r,a=s,l=r,u=s,c=r,d=s;const f=e?Math.max:Math.min;for(let g=6,m=i.length;g<m;g+=6){if(isNaN(i[g]))o=Math.min(o,i[g+4]),a=Math.min(a,i[g+5]),l=Math.max(l,i[g+4]),u=Math.max(u,i[g+5]),d<i[g+5]?(c=i[g+4],d=i[g+5]):d===i[g+5]&&(c=f(c,i[g+4]));else{const x=et.bezierBoundingBox(r,s,...i.slice(g,g+6));o=Math.min(o,x[0]),a=Math.min(a,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),d<x[3]?(c=x[2],d=x[3]):d===x[3]&&(c=f(c,x[2]))}r=i[g+4],s=i[g+5]}const p=h(this,fl);p[0]=o-h(this,_s),p[1]=a-h(this,_s),p[2]=l-o+2*h(this,_s),p[3]=u-a+2*h(this,_s),this.lastPoint=[c,d]};var Zf,tp,vo,Qi,Sn,fM,Xg,pM,gM,hw;class cw{constructor(t,e=0,i=0,r=!0){_(this,Sn);_(this,Zf);_(this,tp);_(this,vo,[]);_(this,Qi,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x,y,width:b,height:w}of t){const k=Math.floor((x-e)/u)*u,E=Math.ceil((x+b+e)/u)*u,A=Math.floor((y-e)/u)*u,C=Math.ceil((y+w+e)/u)*u,R=[k,A,C,!0],L=[E,A,C,!1];h(this,vo).push(R,L),s=Math.min(s,k),o=Math.max(o,E),a=Math.min(a,A),l=Math.max(l,C)}const c=o-s+2*i,d=l-a+2*i,f=s-i,p=a-i,g=h(this,vo).at(r?-1:-2),m=[g[0],g[2]];for(const x of h(this,vo)){const[y,b,w]=x;x[0]=(y-f)/c,x[1]=(b-p)/d,x[2]=(w-p)/d}v(this,Zf,new Float32Array([f,p,c,d])),v(this,tp,m)}getOutlines(){h(this,vo).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of h(this,vo))e[3]?(t.push(...S(this,Sn,hw).call(this,e)),S(this,Sn,pM).call(this,e)):(S(this,Sn,gM).call(this,e),t.push(...S(this,Sn,hw).call(this,e)));return S(this,Sn,fM).call(this,t)}}Zf=new WeakMap,tp=new WeakMap,vo=new WeakMap,Qi=new WeakMap,Sn=new WeakSet,fM=function(t){const e=[],i=new Set;for(const o of t){const[a,l,u]=o;e.push([a,l,o],[a,u,o])}e.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=e.length;o<a;o+=2){const l=e[o][2],u=e[o+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,u,c,d]=o;i.delete(o);let f=a,p=l;for(s=[a,u],r.push(s);;){let g;if(i.has(c))g=c;else if(i.has(d))g=d;else break;i.delete(g),[a,l,u,c,d]=g,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new YN(r,h(this,Zf),h(this,tp))},Xg=function(t){const e=h(this,Qi);let i=0,r=e.length-1;for(;i<=r;){const s=i+r>>1,o=e[s][0];if(o===t)return s;o<t?i=s+1:r=s-1}return r+1},pM=function([,t,e]){const i=S(this,Sn,Xg).call(this,t);h(this,Qi).splice(i,0,[t,e])},gM=function([,t,e]){const i=S(this,Sn,Xg).call(this,t);for(let r=i;r<h(this,Qi).length;r++){const[s,o]=h(this,Qi)[r];if(s!==t)break;if(s===t&&o===e){h(this,Qi).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=h(this,Qi)[r];if(s!==t)break;if(s===t&&o===e){h(this,Qi).splice(r,1);return}}},hw=function(t){const[e,i,r]=t,s=[[e,i,r]],o=S(this,Sn,Xg).call(this,r);for(let a=0;a<o;a++){const[l,u]=h(this,Qi)[a];for(let c=0,d=s.length;c<d;c++){const[,f,p]=s[c];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[c][1]=u;else{if(d===1)return[];s.splice(c,1),c--,d--}continue}s[c][2]=l,p>u&&s.push([e,u,p])}}}return s};var ep,bc;class YN extends Q{constructor(e,i,r){super();_(this,ep);_(this,bc);v(this,bc,e),v(this,ep,i),this.lastPoint=r}toSVGPath(){const e=[];for(const i of h(this,bc)){let[r,s]=i;e.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===r?(e.push(`V${l}`),s=l):l===s&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,i,r,s],o){const a=[],l=r-e,u=s-i;for(const c of h(this,bc)){const d=new Array(c.length);for(let f=0;f<c.length;f+=2)d[f]=e+c[f]*l,d[f+1]=s-c[f+1]*u;a.push(d)}return a}get box(){return h(this,ep)}get classNamesForOutlining(){return["highlightOutline"]}}ep=new WeakMap,bc=new WeakMap;class dw extends $m{newFreeDrawOutline(t,e,i,r,s,o){return new KN(t,e,i,r,s,o)}}class KN extends hM{newOutliner(t,e,i,r,s,o=0){return new dw(t,e,i,r,s,o)}}var Ji,pl,xc,ve,np,wc,ip,rp,_o,Zi,vc,sp,Dt,fw,pw,gw,da,mM,Xs;const Mn=class Mn{constructor({editor:t=null,uiManager:e=null}){_(this,Dt);_(this,Ji,null);_(this,pl,null);_(this,xc);_(this,ve,null);_(this,np,!1);_(this,wc,!1);_(this,ip,null);_(this,rp);_(this,_o,null);_(this,Zi,null);_(this,vc);var i;t?(v(this,wc,!1),v(this,vc,vt.HIGHLIGHT_COLOR),v(this,ip,t)):(v(this,wc,!0),v(this,vc,vt.HIGHLIGHT_DEFAULT_COLOR)),v(this,Zi,(t==null?void 0:t._uiManager)||e),v(this,rp,h(this,Zi)._eventBus),v(this,xc,(t==null?void 0:t.color)||((i=h(this,Zi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(Mn,sp)||v(Mn,sp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return mt(this,"_keyboardManager",new vp([[["Escape","mac+Escape"],Mn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Mn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Mn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Mn.prototype._moveToPrevious],[["Home","mac+Home"],Mn.prototype._moveToBeginning],[["End","mac+End"],Mn.prototype._moveToEnd]]))}renderButton(){const t=v(this,Ji,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Zi)._signal;t.addEventListener("click",S(this,Dt,da).bind(this),{signal:e}),t.addEventListener("keydown",S(this,Dt,gw).bind(this),{signal:e});const i=v(this,pl,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=h(this,xc),t.append(i),t}renderMainDropdown(){const t=v(this,ve,S(this,Dt,fw).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Ji)){S(this,Dt,da).call(this,t);return}const e=t.target.getAttribute("data-color");e&&S(this,Dt,pw).call(this,e,t)}_moveToNext(t){var e,i;if(!h(this,Dt,Xs)){S(this,Dt,da).call(this,t);return}if(t.target===h(this,Ji)){(e=h(this,ve).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=h(this,ve))==null?void 0:e.firstChild)||t.target===h(this,Ji)){h(this,Dt,Xs)&&this._hideDropdownFromKeyboard();return}h(this,Dt,Xs)||S(this,Dt,da).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!h(this,Dt,Xs)){S(this,Dt,da).call(this,t);return}(e=h(this,ve).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,Dt,Xs)){S(this,Dt,da).call(this,t);return}(e=h(this,ve).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,ve))==null||t.classList.add("hidden"),(e=h(this,_o))==null||e.abort(),v(this,_o,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,wc)){if(!h(this,Dt,Xs)){(t=h(this,ip))==null||t.unselect();return}this.hideDropdown(),h(this,Ji).focus({preventScroll:!0,focusVisible:h(this,np)})}}updateColor(t){if(h(this,pl)&&(h(this,pl).style.backgroundColor=t),!h(this,ve))return;const e=h(this,Zi).highlightColors.values();for(const i of h(this,ve).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Ji))==null||t.remove(),v(this,Ji,null),v(this,pl,null),(e=h(this,ve))==null||e.remove(),v(this,ve,null)}};Ji=new WeakMap,pl=new WeakMap,xc=new WeakMap,ve=new WeakMap,np=new WeakMap,wc=new WeakMap,ip=new WeakMap,rp=new WeakMap,_o=new WeakMap,Zi=new WeakMap,vc=new WeakMap,sp=new WeakMap,Dt=new WeakSet,fw=function(){const t=document.createElement("div"),e=h(this,Zi)._signal;t.addEventListener("contextmenu",ur,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of h(this,Zi).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",h(Mn,sp)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===h(this,xc)),s.addEventListener("click",S(this,Dt,pw).bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",S(this,Dt,gw).bind(this),{signal:e}),t},pw=function(t,e){e.stopPropagation(),h(this,rp).dispatch("switchannotationeditorparams",{source:this,type:h(this,vc),value:t})},gw=function(t){Mn._keyboardManager.exec(this,t)},da=function(t){if(h(this,Dt,Xs)){this.hideDropdown();return}if(v(this,np,t.detail===0),h(this,_o)||(v(this,_o,new AbortController),window.addEventListener("pointerdown",S(this,Dt,mM).bind(this),{signal:h(this,Zi).combinedSignal(h(this,_o))})),h(this,ve)){h(this,ve).classList.remove("hidden");return}const e=v(this,ve,S(this,Dt,fw).call(this));h(this,Ji).append(e)},mM=function(t){var e;(e=h(this,ve))!=null&&e.contains(t.target)||this.hideDropdown()},Xs=function(){return h(this,ve)&&!h(this,ve).classList.contains("hidden")},_(Mn,sp,null);let Um=Mn;var _c,op,Ss,gl,Sc,In,ap,lp,ml,_i,ei,Ne,kc,ks,Je,Ac,Si,up,ht,mw,Yg,yM,bM,xM,yw,fa,Mi,ru,wM,Kg,jh,vM,_M,SM,kM,AM;const Tt=class Tt extends ne{constructor(e){super({...e,name:"highlightEditor"});_(this,ht);_(this,_c,null);_(this,op,0);_(this,Ss);_(this,gl,null);_(this,Sc,null);_(this,In,null);_(this,ap,null);_(this,lp,0);_(this,ml,null);_(this,_i,null);_(this,ei,null);_(this,Ne,!1);_(this,kc,null);_(this,ks);_(this,Je,null);_(this,Ac,"");_(this,Si);_(this,up,"");this.color=e.color||Tt._defaultColor,v(this,Si,e.thickness||Tt._defaultThickness),v(this,ks,e.opacity||Tt._defaultOpacity),v(this,Ss,e.boxes||null),v(this,up,e.methodOfCreation||""),v(this,Ac,e.text||""),this._isDraggable=!1,e.highlightId>-1?(v(this,Ne,!0),S(this,ht,Yg).call(this,e),S(this,ht,fa).call(this)):h(this,Ss)&&(v(this,_c,e.anchorNode),v(this,op,e.anchorOffset),v(this,ap,e.focusNode),v(this,lp,e.focusOffset),S(this,ht,mw).call(this),S(this,ht,fa).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Tt.prototype;return mt(this,"_keyboardManager",new vp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Ne)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Si),methodOfCreation:h(this,up)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var r;ne.initialize(e,i),Tt._defaultColor||(Tt._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case vt.HIGHLIGHT_DEFAULT_COLOR:Tt._defaultColor=i;break;case vt.HIGHLIGHT_THICKNESS:Tt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return h(this,kc)}updateParams(e,i){switch(e){case vt.HIGHLIGHT_COLOR:S(this,ht,yM).call(this,i);break;case vt.HIGHLIGHT_THICKNESS:S(this,ht,bM).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[vt.HIGHLIGHT_DEFAULT_COLOR,Tt._defaultColor],[vt.HIGHLIGHT_THICKNESS,Tt._defaultThickness]]}get propertiesToUpdate(){return[[vt.HIGHLIGHT_COLOR,this.color||Tt._defaultColor],[vt.HIGHLIGHT_THICKNESS,h(this,Si)||Tt._defaultThickness],[vt.HIGHLIGHT_FREE,h(this,Ne)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(v(this,Sc,new Um({editor:this})),e.addColorPicker(h(this,Sc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(S(this,ht,jh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,S(this,ht,jh).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){S(this,ht,yw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,ht,fa).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?S(this,ht,yw).call(this):e&&(S(this,ht,fa).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var s,o,a;const{drawLayer:i}=this.parent;let r;h(this,Ne)?(e=(e-this.rotation+360)%360,r=S(s=Tt,Mi,ru).call(s,h(this,_i).box,e)):r=S(o=Tt,Mi,ru).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(h(this,ei),{bbox:r,root:{"data-main-rotation":e}}),i.updateProperties(h(this,Je),{bbox:S(a=Tt,Mi,ru).call(a,h(this,In).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();h(this,Ac)&&(e.setAttribute("aria-label",h(this,Ac)),e.setAttribute("role","mark")),h(this,Ne)?e.classList.add("free"):this.div.addEventListener("keydown",S(this,ht,wM).bind(this),{signal:this._uiManager._signal});const i=v(this,ml,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=h(this,gl);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),Bm(this,h(this,ml),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,Je),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,Je),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:S(this,ht,Kg).call(this,!0);break;case 1:case 3:S(this,ht,Kg).call(this,!1);break}}select(){var e;super.select(),h(this,Je)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,Je),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),h(this,Je)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,Je),{rootClass:{selected:!1}}),h(this,Ne)||S(this,ht,Kg).call(this,!1))}get _mustFixPosition(){return!h(this,Ne)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(h(this,ei),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(h(this,Je),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:r,x:s,y:o}){const{x:a,y:l,width:u,height:c}=r.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=g=>{d.abort(),S(this,Mi,kM).call(this,e,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",li,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",ur,{signal:f}),r.addEventListener("pointermove",S(this,Mi,SM).bind(this,e),{signal:f}),this._freeHighlight=new dw({x:s,y:o},[a,l,u,c],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,r){var m,x,y,b;let s=null;if(e instanceof QP){const{data:{quadPoints:w,rect:k,rotation:E,id:A,color:C,opacity:R,popupRef:L},parent:{page:{pageNumber:P}}}=e;s=e={annotationType:dt.HIGHLIGHT,color:Array.from(C),opacity:R,quadPoints:w,boxes:null,pageIndex:P-1,rect:k.slice(0),rotation:E,id:A,deleted:!1,popupRef:L}}else if(e instanceof r1){const{data:{inkLists:w,rect:k,rotation:E,id:A,color:C,borderStyle:{rawWidth:R},popupRef:L},parent:{page:{pageNumber:P}}}=e;s=e={annotationType:dt.HIGHLIGHT,color:Array.from(C),thickness:R,inkLists:w,boxes:null,pageIndex:P-1,rect:k.slice(0),rotation:E,id:A,deleted:!1,popupRef:L}}const{color:o,quadPoints:a,inkLists:l,opacity:u}=e,c=await super.deserialize(e,i,r);c.color=et.makeHexColor(...o),v(c,ks,u||1),l&&v(c,Si,e.thickness),c.annotationElementId=e.id||null,c._initialData=s;const[d,f]=c.pageDimensions,[p,g]=c.pageTranslation;if(a){const w=v(c,Ss,[]);for(let k=0;k<a.length;k+=8)w.push({x:(a[k]-p)/d,y:1-(a[k+1]-g)/f,width:(a[k+2]-a[k])/d,height:(a[k+1]-a[k+5])/f});S(m=c,ht,mw).call(m),S(x=c,ht,fa).call(x),c.rotate(c.rotation)}else if(l){v(c,Ne,!0);const w=l[0],k={x:w[0]-p,y:f-(w[1]-g)},E=new dw(k,[0,0,d,f],1,h(c,Si)/2,!0,.001);for(let R=0,L=w.length;R<L;R+=2)k.x=w[R]-p,k.y=f-(w[R+1]-g),E.add(k);const{id:A,clipPathId:C}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);S(y=c,ht,Yg).call(y,{highlightOutlines:E.getOutlines(),highlightId:A,clipPathId:C}),S(b=c,ht,fa).call(b)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=ne._colorManager.convert(this.color),s={annotationType:dt.HIGHLIGHT,color:r,opacity:h(this,ks),thickness:h(this,Si),quadPoints:S(this,ht,vM).call(this),outlines:S(this,ht,_M).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:S(this,ht,jh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!S(this,ht,AM).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};_c=new WeakMap,op=new WeakMap,Ss=new WeakMap,gl=new WeakMap,Sc=new WeakMap,In=new WeakMap,ap=new WeakMap,lp=new WeakMap,ml=new WeakMap,_i=new WeakMap,ei=new WeakMap,Ne=new WeakMap,kc=new WeakMap,ks=new WeakMap,Je=new WeakMap,Ac=new WeakMap,Si=new WeakMap,up=new WeakMap,ht=new WeakSet,mw=function(){const e=new cw(h(this,Ss),.001);v(this,_i,e.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,_i).box;const i=new cw(h(this,Ss),.0025,.001,this._uiManager.direction==="ltr");v(this,In,i.getOutlines());const{lastPoint:r}=h(this,In);v(this,kc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Yg=function({highlightOutlines:e,highlightId:i,clipPathId:r}){var d,f;if(v(this,_i,e),v(this,In,e.getNewOutline(h(this,Si)/2+1.5,.0025)),i>=0)v(this,ei,i),v(this,gl,r),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),v(this,Je,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,In).box,path:{d:h(this,In).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,ei),{bbox:S(d=Tt,Mi,ru).call(d,h(this,_i).box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,Je),{bbox:S(f=Tt,Mi,ru).call(f,h(this,In).box,p),path:{d:h(this,In).toSVGPath()}})}const[o,a,l,u]=e.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=u*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=u*p/g;break}}const{lastPoint:c}=h(this,In);v(this,kc,[(c[0]-o)/l,(c[1]-a)/u])},yM=function(e){const i=(o,a)=>{var l,u;this.color=o,v(this,ks,a),(l=this.parent)==null||l.drawLayer.updateProperties(h(this,ei),{root:{fill:o,"fill-opacity":a}}),(u=h(this,Sc))==null||u.updateColor(o)},r=this.color,s=h(this,ks);this.addCommands({cmd:i.bind(this,e,Tt._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},bM=function(e){const i=h(this,Si),r=s=>{v(this,Si,s),S(this,ht,xM).call(this,s)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},xM=function(e){if(!h(this,Ne))return;S(this,ht,Yg).call(this,{highlightOutlines:h(this,_i).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},yw=function(){h(this,ei)===null||!this.parent||(this.parent.drawLayer.remove(h(this,ei)),v(this,ei,null),this.parent.drawLayer.remove(h(this,Je)),v(this,Je,null))},fa=function(e=this.parent){h(this,ei)===null&&({id:hn(this,ei)._,clipPathId:hn(this,gl)._}=e.drawLayer.draw({bbox:h(this,_i).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":h(this,ks)},rootClass:{highlight:!0,free:h(this,Ne)},path:{d:h(this,_i).toSVGPath()}},!1,!0),v(this,Je,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,Ne)},bbox:h(this,In).box,path:{d:h(this,In).toSVGPath()}},h(this,Ne))),h(this,ml)&&(h(this,ml).style.clipPath=h(this,gl)))},Mi=new WeakSet,ru=function([e,i,r,s],o){switch(o){case 90:return[1-i-s,e,s,r];case 180:return[1-e-r,1-i-s,r,s];case 270:return[i,1-e-r,s,r]}return[e,i,r,s]},wM=function(e){Tt._keyboardManager.exec(this,e)},Kg=function(e){if(!h(this,_c))return;const i=window.getSelection();e?i.setPosition(h(this,_c),h(this,op)):i.setPosition(h(this,ap),h(this,lp))},jh=function(){return h(this,Ne)?this.rotation:0},vM=function(){if(h(this,Ne))return null;const[e,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=h(this,Ss),a=new Float32Array(o.length*8);let l=0;for(const{x:u,y:c,width:d,height:f}of o){const p=u*e+r,g=(1-c)*i+s;a[l]=a[l+4]=p,a[l+1]=a[l+3]=g,a[l+2]=a[l+6]=p+d*e,a[l+5]=a[l+7]=g-f*i,l+=8}return a},_M=function(e){return h(this,_i).serialize(e,S(this,ht,jh).call(this))},SM=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},kM=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},AM=function(e){const{color:i}=this._initialData;return e.color.some((r,s)=>r!==i[s])},_(Tt,Mi),H(Tt,"_defaultColor",null),H(Tt,"_defaultOpacity",1),H(Tt,"_defaultThickness",12),H(Tt,"_type","highlight"),H(Tt,"_editorType",dt.HIGHLIGHT),H(Tt,"_freeHighlightId",-1),H(Tt,"_freeHighlight",null),H(Tt,"_freeHighlightClipId","");let Vm=Tt;var yl;class QN{constructor(){_(this,yl,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))this.updateProperty(e,i)}updateSVGProperty(t,e){h(this,yl)[t]=e}toSVGProperties(){const t=h(this,yl);return v(this,yl,Object.create(null)),{root:t}}reset(){v(this,yl,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){zt("Not implemented")}}yl=new WeakMap;var ni,Ec,Pe,bl,xl,So,ko,Ao,wl,At,xw,ww,vw,Hh,EM,Qg,$h,su;const Z=class Z extends ne{constructor(e){super(e);_(this,At);_(this,ni,null);_(this,Ec);H(this,"_drawId",null);v(this,Ec,e.mustBeCommitted||!1),e.drawOutlines&&(S(this,At,xw).call(this,e),S(this,At,Hh).call(this))}static _mergeSVGProperties(e,i){const r=new Set(Object.keys(e));for(const[s,o]of Object.entries(i))r.has(s)?Object.assign(e[s],o):e[s]=o;return e}static getDefaultDrawingOptions(e){zt("Not implemented")}static get typesMap(){zt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(h(Z,Pe).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)e.push([r,i[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)e.push([r,i[s]]);return e}_updateProperty(e,i,r){const s=this._drawingOptions,o=s[i],a=l=>{var c;s.updateProperty(i,l);const u=h(this,ni).updateProperty(i,l);u&&S(this,At,$h).call(this,u),(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties(h(this,ni).getPathResizingSVGProperties(S(this,At,Qg).call(this)),{bbox:S(this,At,su).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties(h(this,ni).getPathResizedSVGProperties(S(this,At,Qg).call(this)),{bbox:S(this,At,su).call(this)}))}_onTranslating(e,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:S(this,At,su).call(this,e,i)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties(h(this,ni).getPathTranslatedSVGProperties(S(this,At,Qg).call(this),this.parentDimensions),{bbox:S(this,At,su).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Ec)&&(v(this,Ec,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){S(this,At,vw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,At,Hh).call(this),S(this,At,$h).call(this,h(this,ni).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),S(this,At,vw).call(this)):e&&(this._uiManager.addShouldRescale(this),S(this,At,Hh).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties({bbox:S(this,At,su).call(this)},h(this,ni).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&S(this,At,$h).call(this,h(this,ni).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const e=super.render();e.classList.add("draw");const i=document.createElement("div");e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,i,r,s,o){zt("Not implemented")}static startDrawing(e,i,r,s){var x;const{target:o,offsetX:a,offsetY:l,pointerId:u,pointerType:c}=s;if(h(Z,ko)&&h(Z,ko)!==c)return;const{viewport:{rotation:d}}=e,{width:f,height:p}=o.getBoundingClientRect(),g=v(Z,bl,new AbortController),m=e.combinedSignal(g);if(h(Z,So)||v(Z,So,u),h(Z,ko)??v(Z,ko,c),window.addEventListener("pointerup",y=>{var b;h(Z,So)===y.pointerId?this._endDraw(y):(b=h(Z,Ao))==null||b.delete(y.pointerId)},{signal:m}),window.addEventListener("pointercancel",y=>{var b;h(Z,So)===y.pointerId?this._currentParent.endDrawingSession():(b=h(Z,Ao))==null||b.delete(y.pointerId)},{signal:m}),window.addEventListener("pointerdown",y=>{h(Z,ko)===y.pointerType&&((h(Z,Ao)||v(Z,Ao,new Set)).add(y.pointerId),h(Z,Pe).isCancellable()&&(h(Z,Pe).removeLastElement(),h(Z,Pe).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",ur,{signal:m}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),o.addEventListener("touchmove",y=>{y.timeStamp===h(Z,wl)&&li(y)},{signal:m}),e.toggleDrawing(),(x=i._editorUndoBar)==null||x.hide(),h(Z,Pe)){e.drawLayer.updateProperties(this._currentDrawId,h(Z,Pe).startNew(a,l,f,p,d));return}i.updateUIForDefaultProperties(this),v(Z,Pe,this.createDrawerInstance(a,l,f,p,d)),v(Z,xl,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(h(Z,xl).toSVGProperties(),h(Z,Pe).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(v(Z,wl,-1),!h(Z,Pe))return;const{offsetX:i,offsetY:r,pointerId:s}=e;if(h(Z,So)===s){if(((o=h(Z,Ao))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(Z,Pe).add(i,r)),v(Z,wl,e.timeStamp),li(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,v(Z,Pe,null),v(Z,xl,null),v(Z,ko,null),v(Z,wl,NaN)),h(Z,bl)&&(h(Z,bl).abort(),v(Z,bl,null),v(Z,So,NaN),v(Z,Ao,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),e&&i.drawLayer.updateProperties(this._currentDrawId,h(Z,Pe).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=h(Z,Pe),s=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:vt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(vt.DRAW_STEP),!h(Z,Pe).isEmpty()){const{pageDimensions:[r,s],scale:o}=i,a=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(Z,Pe).getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:h(Z,xl),mustBeCommitted:!e});return this._cleanup(!0),a}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,r,s,o,a){zt("Not implemented")}static async deserialize(e,i,r){var d,f;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=i.viewport,u=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,e),c=await super.deserialize(e,i,r);return c.createDrawingOptions(e),S(d=c,At,xw).call(d,{drawOutlines:u}),S(f=c,At,Hh).call(f),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[i,r]=this.pageTranslation,[s,o]=this.pageDimensions;return h(this,ni).serialize([i,r,s,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ni=new WeakMap,Ec=new WeakMap,Pe=new WeakMap,bl=new WeakMap,xl=new WeakMap,So=new WeakMap,ko=new WeakMap,Ao=new WeakMap,wl=new WeakMap,At=new WeakSet,xw=function({drawOutlines:e,drawId:i,drawingOptions:r}){v(this,ni,e),this._drawingOptions||(this._drawingOptions=r),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=S(this,At,ww).call(this,e,this.parent),S(this,At,$h).call(this,e.box)},ww=function(e,i){const{id:r}=i.drawLayer.draw(Z._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},vw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Hh=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=S(this,At,ww).call(this,h(this,ni),e)}},EM=function([e,i,r,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[i,1-e,r*(a/o),s*(o/a)];case 180:return[1-e,1-i,r,s];case 270:return[1-i,e,r*(a/o),s*(o/a)];default:return[e,i,r,s]}},Qg=function(){const{x:e,y:i,width:r,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-i,e,r*(o/a),s*(a/o)];case 180:return[1-e,1-i,r,s];case 270:return[i,1-e,r*(o/a),s*(a/o)];default:return[e,i,r,s]}},$h=function(e){if([this.x,this.y,this.width,this.height]=S(this,At,EM).call(this,e),this.div){this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)}this._onResized()},su=function(){const{x:e,y:i,width:r,height:s,rotation:o,parentRotation:a,parentDimensions:[l,u]}=this;switch((o*4+a)/90){case 1:return[1-i-s,e,s,r];case 2:return[1-e-r,1-i-s,r,s];case 3:return[i,1-e-r,s,r];case 4:return[e,i-r*(l/u),s*(u/l),r*(l/u)];case 5:return[1-i,e,r*(l/u),s*(u/l)];case 6:return[1-e-s*(u/l),1-i,s*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-e-s*(u/l),r*(l/u),s*(u/l)];case 8:return[e-r,i-s,r,s];case 9:return[1-i,e-r,s,r];case 10:return[1-e,1-i,r,s];case 11:return[i-s,1-e,s,r];case 12:return[e-s*(u/l),i,s*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),e-s*(u/l),r*(l/u),s*(u/l)];case 14:return[1-e,1-i-r*(l/u),s*(u/l),r*(l/u)];case 15:return[i,1-e,r*(l/u),s*(u/l)];default:return[e,i,r,s]}},H(Z,"_currentDrawId",-1),H(Z,"_currentParent",null),_(Z,Pe,null),_(Z,bl,null),_(Z,xl,null),_(Z,So,NaN),_(Z,ko,null),_(Z,Ao,null),_(Z,wl,NaN),H(Z,"_INNER_MARGIN",3);let bw=Z;var Ir,Me,Re,vl,Cc,pn,ze,ki,_l,Sl,kl,Tc,Jg;class JN{constructor(t,e,i,r,s,o){_(this,Tc);_(this,Ir,new Float64Array(6));_(this,Me);_(this,Re);_(this,vl);_(this,Cc);_(this,pn);_(this,ze,"");_(this,ki,0);_(this,_l,new Wm);_(this,Sl);_(this,kl);v(this,Sl,i),v(this,kl,r),v(this,vl,s),v(this,Cc,o),[t,e]=S(this,Tc,Jg).call(this,t,e);const a=v(this,Me,[NaN,NaN,NaN,NaN,t,e]);v(this,pn,[t,e]),v(this,Re,[{line:a,points:h(this,pn)}]),h(this,Ir).set(a,0)}updateProperty(t,e){t==="stroke-width"&&v(this,Cc,e)}isEmpty(){return!h(this,Re)||h(this,Re).length===0}isCancellable(){return h(this,pn).length<=10}add(t,e){[t,e]=S(this,Tc,Jg).call(this,t,e);const[i,r,s,o]=h(this,Ir).subarray(2,6),a=t-s,l=e-o;return Math.hypot(h(this,Sl)*a,h(this,kl)*l)<=2?null:(h(this,pn).push(t,e),isNaN(i)?(h(this,Ir).set([s,o,t,e],2),h(this,Me).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(h(this,Ir)[0])&&h(this,Me).splice(6,6),h(this,Ir).set([i,r,s,o,t,e],0),h(this,Me).push(...Q.createBezierPoints(i,r,s,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(h(this,pn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,s){v(this,Sl,i),v(this,kl,r),v(this,vl,s),[t,e]=S(this,Tc,Jg).call(this,t,e);const o=v(this,Me,[NaN,NaN,NaN,NaN,t,e]);v(this,pn,[t,e]);const a=h(this,Re).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),h(this,Re).push({line:o,points:h(this,pn)}),h(this,Ir).set(o,0),v(this,ki,0),this.toSVGPath(),null}getLastElement(){return h(this,Re).at(-1)}setLastElement(t){return h(this,Re)?(h(this,Re).push(t),v(this,Me,t.line),v(this,pn,t.points),v(this,ki,0),{path:{d:this.toSVGPath()}}):h(this,_l).setLastElement(t)}removeLastElement(){if(!h(this,Re))return h(this,_l).removeLastElement();h(this,Re).pop(),v(this,ze,"");for(let t=0,e=h(this,Re).length;t<e;t++){const{line:i,points:r}=h(this,Re)[t];v(this,Me,i),v(this,pn,r),v(this,ki,0),this.toSVGPath()}return{path:{d:h(this,ze)}}}toSVGPath(){const t=Q.svgRound(h(this,Me)[4]),e=Q.svgRound(h(this,Me)[5]);if(h(this,pn).length===2)return v(this,ze,`${h(this,ze)} M ${t} ${e} Z`),h(this,ze);if(h(this,pn).length<=6){const r=h(this,ze).lastIndexOf("M");v(this,ze,`${h(this,ze).slice(0,r)} M ${t} ${e}`),v(this,ki,6)}if(h(this,pn).length===4){const r=Q.svgRound(h(this,Me)[10]),s=Q.svgRound(h(this,Me)[11]);return v(this,ze,`${h(this,ze)} L ${r} ${s}`),v(this,ki,12),h(this,ze)}const i=[];h(this,ki)===0&&(i.push(`M ${t} ${e}`),v(this,ki,6));for(let r=h(this,ki),s=h(this,Me).length;r<s;r+=6){const[o,a,l,u,c,d]=h(this,Me).slice(r,r+6).map(Q.svgRound);i.push(`C${o} ${a} ${l} ${u} ${c} ${d}`)}return v(this,ze,h(this,ze)+i.join(" ")),v(this,ki,h(this,Me).length),h(this,ze)}getOutlines(t,e,i,r){const s=h(this,Re).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,_l).build(h(this,Re),t,e,i,h(this,vl),h(this,Cc),r),v(this,Ir,null),v(this,Me,null),v(this,Re,null),v(this,ze,null),h(this,_l)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ir=new WeakMap,Me=new WeakMap,Re=new WeakMap,vl=new WeakMap,Cc=new WeakMap,pn=new WeakMap,ze=new WeakMap,ki=new WeakMap,_l=new WeakMap,Sl=new WeakMap,kl=new WeakMap,Tc=new WeakSet,Jg=function(t,e){return Q._normalizePoint(t,e,h(this,Sl),h(this,kl),h(this,vl))};var gn,cp,hp,ii,Dr,Or,Pc,Mc,Rc,He,Kr,CM,TM,PM;const U1=class U1 extends Q{constructor(){super(...arguments);_(this,He);_(this,gn);_(this,cp,0);_(this,hp);_(this,ii);_(this,Dr);_(this,Or);_(this,Pc);_(this,Mc);_(this,Rc)}build(e,i,r,s,o,a,l){v(this,Dr,i),v(this,Or,r),v(this,Pc,s),v(this,Mc,o),v(this,Rc,a),v(this,hp,l??0),v(this,ii,e),S(this,He,TM).call(this)}setLastElement(e){return h(this,ii).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,ii).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of h(this,ii)){if(e.push(`M${Q.svgRound(i[4])} ${Q.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12){e.push(`L${Q.svgRound(i[10])} ${Q.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[o,a,l,u,c,d]=i.subarray(r,r+6).map(Q.svgRound);e.push(`C${o} ${a} ${l} ${u} ${c} ${d}`)}}return e.join("")}serialize([e,i,r,s],o){const a=[],l=[],[u,c,d,f]=S(this,He,CM).call(this);let p,g,m,x,y,b,w,k,E;switch(h(this,Mc)){case 0:E=Q._rescale,p=e,g=i+s,m=r,x=-s,y=e+u*r,b=i+(1-c-f)*s,w=e+(u+d)*r,k=i+(1-c)*s;break;case 90:E=Q._rescaleAndSwap,p=e,g=i,m=r,x=s,y=e+c*r,b=i+u*s,w=e+(c+f)*r,k=i+(u+d)*s;break;case 180:E=Q._rescale,p=e+r,g=i,m=-r,x=s,y=e+(1-u-d)*r,b=i+c*s,w=e+(1-u)*r,k=i+(c+f)*s;break;case 270:E=Q._rescaleAndSwap,p=e+r,g=i+s,m=-r,x=-s,y=e+(1-c-f)*r,b=i+(1-u-d)*s,w=e+(1-c)*r,k=i+(1-u)*s;break}for(const{line:A,points:C}of h(this,ii))a.push(E(A,p,g,m,x,o?new Array(A.length):null)),l.push(E(C,p,g,m,x,o?new Array(C.length):null));return{lines:a,points:l,rect:[y,b,w,k]}}static deserialize(e,i,r,s,o,{paths:{lines:a,points:l},rotation:u,thickness:c}){const d=[];let f,p,g,m,x;switch(u){case 0:x=Q._rescale,f=-e/r,p=i/s+1,g=1/r,m=-1/s;break;case 90:x=Q._rescaleAndSwap,f=-i/s,p=-e/r,g=1/s,m=1/r;break;case 180:x=Q._rescale,f=e/r+1,p=-i/s,g=-1/r,m=1/s;break;case 270:x=Q._rescaleAndSwap,f=i/s+1,p=e/r+1,g=-1/s,m=-1/r;break}if(!a){a=[];for(const b of l){const w=b.length;if(w===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(w===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const k=new Float32Array(3*(w-2));a.push(k);let[E,A,C,R]=b.subarray(0,4);k.set([NaN,NaN,NaN,NaN,E,A],0);for(let L=4;L<w;L+=2){const P=b[L],I=b[L+1];k.set(Q.createBezierPoints(E,A,C,R,P,I),(L-2)*3),[E,A,C,R]=[C,R,P,I]}}}for(let b=0,w=a.length;b<w;b++)d.push({line:x(a[b].map(k=>k??NaN),f,p,g,m),points:x(l[b].map(k=>k??NaN),f,p,g,m)});const y=new U1;return y.build(d,r,s,1,u,c,o),y}get box(){return h(this,gn)}updateProperty(e,i){return e==="stroke-width"?S(this,He,PM).call(this,i):null}updateParentDimensions([e,i],r){const[s,o]=S(this,He,Kr).call(this);v(this,Dr,e),v(this,Or,i),v(this,Pc,r);const[a,l]=S(this,He,Kr).call(this),u=a-s,c=l-o,d=h(this,gn);return d[0]-=u,d[1]-=c,d[2]+=2*u,d[3]+=2*c,d}updateRotation(e){return v(this,cp,e),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,gn).map(Q.svgRound).join(" ")}get defaultProperties(){const[e,i]=h(this,gn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Q.svgRound(e)} ${Q.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=h(this,gn);let r=0,s=0,o=0,a=0,l=0,u=0;switch(h(this,cp)){case 90:s=i/e,o=-e/i,l=e;break;case 180:r=-1,a=-1,l=e,u=i;break;case 270:s=-i/e,o=e/i,u=i;break;default:return""}return`matrix(${r} ${s} ${o} ${a} ${Q.svgRound(l)} ${Q.svgRound(u)})`}getPathResizingSVGProperties([e,i,r,s]){const[o,a]=S(this,He,Kr).call(this),[l,u,c,d]=h(this,gn);if(Math.abs(c-o)<=Q.PRECISION||Math.abs(d-a)<=Q.PRECISION){const x=e+r/2-(l+c/2),y=i+s/2-(u+d/2);return{path:{"transform-origin":`${Q.svgRound(e)} ${Q.svgRound(i)}`,transform:`${this.rotationTransform} translate(${x} ${y})`}}}const f=(r-2*o)/(c-2*o),p=(s-2*a)/(d-2*a),g=c/r,m=d/s;return{path:{"transform-origin":`${Q.svgRound(l)} ${Q.svgRound(u)}`,transform:`${this.rotationTransform} scale(${g} ${m}) translate(${Q.svgRound(o)} ${Q.svgRound(a)}) scale(${f} ${p}) translate(${Q.svgRound(-o)} ${Q.svgRound(-a)})`}}}getPathResizedSVGProperties([e,i,r,s]){const[o,a]=S(this,He,Kr).call(this),l=h(this,gn),[u,c,d,f]=l;if(l[0]=e,l[1]=i,l[2]=r,l[3]=s,Math.abs(d-o)<=Q.PRECISION||Math.abs(f-a)<=Q.PRECISION){const y=e+r/2-(u+d/2),b=i+s/2-(c+f/2);for(const{line:w,points:k}of h(this,ii))Q._translate(w,y,b,w),Q._translate(k,y,b,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Q.svgRound(e)} ${Q.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*o)/(d-2*o),g=(s-2*a)/(f-2*a),m=-p*(u+o)+e+o,x=-g*(c+a)+i+a;if(p!==1||g!==1||m!==0||x!==0)for(const{line:y,points:b}of h(this,ii))Q._rescale(y,m,x,p,g,y),Q._rescale(b,m,x,p,g,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Q.svgRound(e)} ${Q.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],r){const[s,o]=r,a=h(this,gn),l=e-a[0],u=i-a[1];if(h(this,Dr)===s&&h(this,Or)===o)for(const{line:c,points:d}of h(this,ii))Q._translate(c,l,u,c),Q._translate(d,l,u,d);else{const c=h(this,Dr)/s,d=h(this,Or)/o;v(this,Dr,s),v(this,Or,o);for(const{line:f,points:p}of h(this,ii))Q._rescale(f,l,u,c,d,f),Q._rescale(p,l,u,c,d,p);a[2]*=c,a[3]*=d}return a[0]=e,a[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Q.svgRound(e)} ${Q.svgRound(i)}`}}}get defaultSVGProperties(){const e=h(this,gn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Q.svgRound(e[0])} ${Q.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}};gn=new WeakMap,cp=new WeakMap,hp=new WeakMap,ii=new WeakMap,Dr=new WeakMap,Or=new WeakMap,Pc=new WeakMap,Mc=new WeakMap,Rc=new WeakMap,He=new WeakSet,Kr=function(e=h(this,Rc)){const i=h(this,hp)+e/2*h(this,Pc);return h(this,Mc)%180===0?[i/h(this,Dr),i/h(this,Or)]:[i/h(this,Or),i/h(this,Dr)]},CM=function(){const[e,i,r,s]=h(this,gn),[o,a]=S(this,He,Kr).call(this,0);return[e+o,i+a,r-2*o,s-2*a]},TM=function(){const e=v(this,gn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,ii)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6){const[c,d]=s.subarray(l,l+2);e[0]=Math.min(e[0],c),e[1]=Math.min(e[1],d),e[2]=Math.max(e[2],c),e[3]=Math.max(e[3],d)}continue}let o=s[4],a=s[5];for(let l=6,u=s.length;l<u;l+=6){const[c,d,f,p,g,m]=s.subarray(l,l+6);et.bezierBoundingBox(o,a,c,d,f,p,g,m,e),o=g,a=m}}const[i,r]=S(this,He,Kr).call(this);e[0]=Math.min(1,Math.max(0,e[0]-i)),e[1]=Math.min(1,Math.max(0,e[1]-r)),e[2]=Math.min(1,Math.max(0,e[2]+i)),e[3]=Math.min(1,Math.max(0,e[3]+r)),e[2]-=e[0],e[3]-=e[1]},PM=function(e){const[i,r]=S(this,He,Kr).call(this);v(this,Rc,e);const[s,o]=S(this,He,Kr).call(this),[a,l]=[s-i,o-r],u=h(this,gn);return u[0]-=a,u[1]-=l,u[2]+=2*a,u[3]+=2*l,u};let Wm=U1;var Lc;const V1=class V1 extends QN{constructor(e){super();_(this,Lc);v(this,Lc,e),super.updateProperties({fill:"none",stroke:ne._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,i){e==="stroke-width"&&(i??(i=this["stroke-width"]),i*=h(this,Lc).realScale),super.updateSVGProperty(e,i)}clone(){const e=new V1(h(this,Lc));return e.updateAll(this),e}};Lc=new WeakMap;let _w=V1;var _y,MM;const wu=class wu extends bw{constructor(e){super({...e,name:"inkEditor"});_(this,_y);this._willKeepAspectRatio=!0}static initialize(e,i){ne.initialize(e,i),this._defaultDrawingOptions=new _w(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return mt(this,"typesMap",new Map([[vt.INK_THICKNESS,"stroke-width"],[vt.INK_COLOR,"stroke"],[vt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,r,s,o){return new JN(e,i,r,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,r,s,o,a){return Wm.deserialize(e,i,r,s,o,a)}static async deserialize(e,i,r){let s=null;if(e instanceof r1){const{data:{inkLists:a,rect:l,rotation:u,id:c,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:g},parent:{page:{pageNumber:m}}}=e;s=e={annotationType:dt.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:m-1,rect:l.slice(0),rotation:u,id:c,deleted:!1,popupRef:g}}const o=await super.deserialize(e,i,r);return o.annotationElementId=e.id||null,o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:r}){this._drawingOptions=wu.getDefaultDrawingOptions({stroke:et.makeHexColor(...e),"stroke-width":i,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r,rect:s}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,u={annotationType:dt.INK,color:ne._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:i,points:r},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!S(this,_y,MM).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const{points:i,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i}),null}};_y=new WeakSet,MM=function(e){const{color:i,thickness:r,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((a,l)=>a!==i[l])||e.thickness!==r||e.opacity!==s||e.pageIndex!==o},H(wu,"_type","ink"),H(wu,"_editorType",dt.INK),H(wu,"_defaultDrawingOptions",null);let Sw=wu;var Zt,Be,Eo,As,Co,Ic,Fr,Nr,ri,Dc,Ct,Uh,Vh,Zg,Aw,tm,Ew,em,RM;const dd=class dd extends ne{constructor(e){super({...e,name:"stampEditor"});_(this,Ct);_(this,Zt,null);_(this,Be,null);_(this,Eo,null);_(this,As,null);_(this,Co,null);_(this,Ic,"");_(this,Fr,null);_(this,Nr,null);_(this,ri,!1);_(this,Dc,!1);v(this,As,e.bitmapUrl),v(this,Co,e.bitmapFile)}static initialize(e,i){ne.initialize(e,i)}static get supportedTypes(){return mt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return mt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(dt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=e||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var e;h(this,Be)&&(v(this,Zt,null),this._uiManager.imageManager.deleteId(h(this,Be)),(e=h(this,Fr))==null||e.remove(),v(this,Fr,null),h(this,Nr)&&(clearTimeout(h(this,Nr)),v(this,Nr,null))),super.remove()}rebuild(){if(!this.parent){h(this,Be)&&S(this,Ct,Zg).call(this);return}super.rebuild(),this.div!==null&&(h(this,Be)&&h(this,Fr)===null&&S(this,Ct,Zg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(h(this,Eo)||h(this,Zt)||h(this,As)||h(this,Co)||h(this,Be))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,Zt)?S(this,Ct,Aw).call(this):S(this,Ct,Zg).call(this),this.width&&!this.annotationElementId){const[r,s]=this.parentDimensions;this.setAt(e*r,i*s,this.width*r,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,Nr)!==null&&clearTimeout(h(this,Nr)),v(this,Nr,setTimeout(()=>{v(this,Nr,null),S(this,Ct,Ew).call(this)},200))}copyCanvas(e,i,r=!1){var p;e||(e=224);const{width:s,height:o}=h(this,Zt),a=new _x;let l=h(this,Zt),u=s,c=o,d=null;if(i){if(s>i||o>i){const R=Math.min(i/s,i/o);u=Math.floor(s*R),c=Math.floor(o*R)}d=document.createElement("canvas");const g=d.width=Math.ceil(u*a.sx),m=d.height=Math.ceil(c*a.sy);h(this,ri)||(l=S(this,Ct,tm).call(this,g,m));const x=d.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",b="#42414d");const w=15,k=w*a.sx,E=w*a.sy,A=new OffscreenCanvas(k*2,E*2),C=A.getContext("2d");C.fillStyle=y,C.fillRect(0,0,k*2,E*2),C.fillStyle=b,C.fillRect(0,0,k,E),C.fillRect(k,E,k,E),x.fillStyle=x.createPattern(A,"repeat"),x.fillRect(0,0,g,m),x.drawImage(l,0,0,l.width,l.height,0,0,g,m)}let f=null;if(r){let g,m;if(a.symmetric&&l.width<e&&l.height<e)g=l.width,m=l.height;else if(l=h(this,Zt),s>e||o>e){const b=Math.min(e/s,e/o);g=Math.floor(s*b),m=Math.floor(o*b),h(this,ri)||(l=S(this,Ct,tm).call(this,g,m))}const y=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,g,m),f={width:g,height:m,data:y.getImageData(0,0,g,m).data}}return{canvas:d,width:u,height:c,imageData:f}}getImageForAltText(){return h(this,Fr)}static async deserialize(e,i,r){var m;let s=null;if(e instanceof JP){const{data:{rect:x,rotation:y,id:b,structParent:w,popupRef:k},container:E,parent:{page:{pageNumber:A}}}=e,C=E.querySelector("canvas"),R=r.imageManager.getFromCanvas(E.id,C);C.remove();const L=((m=await i._structTree.getAriaAttributes(`${Kv}${b}`))==null?void 0:m.get("aria-label"))||"";s=e={annotationType:dt.STAMP,bitmapId:R.id,bitmap:R.bitmap,pageIndex:A-1,rect:x.slice(0),rotation:y,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:L},isSvg:!1,structParent:w,popupRef:k}}const o=await super.deserialize(e,i,r),{rect:a,bitmap:l,bitmapUrl:u,bitmapId:c,isSvg:d,accessibilityData:f}=e;c&&r.imageManager.isValidId(c)?(v(o,Be,c),l&&v(o,Zt,l)):v(o,As,u),v(o,ri,d);const[p,g]=o.pageDimensions;return o.width=(a[2]-a[0])/p,o.height=(a[3]-a[1])/g,o.annotationElementId=e.id||null,f&&(o.altTextData=f),o._initialData=s,v(o,Dc,!!s),o}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:dt.STAMP,bitmapId:h(this,Be),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,ri),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=S(this,Ct,em).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=S(this,Ct,RM).call(this,r);if(l.isSame)return null;l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const a=h(this,ri)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(h(this,Be)))i.stamps.set(h(this,Be),{area:a,serialized:r}),r.bitmap=S(this,Ct,em).call(this,!1);else if(h(this,ri)){const l=i.stamps.get(h(this,Be));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=S(this,Ct,em).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Zt=new WeakMap,Be=new WeakMap,Eo=new WeakMap,As=new WeakMap,Co=new WeakMap,Ic=new WeakMap,Fr=new WeakMap,Nr=new WeakMap,ri=new WeakMap,Dc=new WeakMap,Ct=new WeakSet,Uh=function(e,i=!1){if(!e){this.remove();return}v(this,Zt,e.bitmap),i||(v(this,Be,e.id),v(this,ri,e.isSvg)),e.file&&v(this,Ic,e.file.name),S(this,Ct,Aw).call(this)},Vh=function(){if(v(this,Eo,null),this._uiManager.enableWaiting(!1),!!h(this,Fr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Zt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Zt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Zg=function(){if(h(this,Be)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Be)).then(r=>S(this,Ct,Uh).call(this,r,!0)).finally(()=>S(this,Ct,Vh).call(this));return}if(h(this,As)){const r=h(this,As);v(this,As,null),this._uiManager.enableWaiting(!0),v(this,Eo,this._uiManager.imageManager.getFromUrl(r).then(s=>S(this,Ct,Uh).call(this,s)).finally(()=>S(this,Ct,Vh).call(this)));return}if(h(this,Co)){const r=h(this,Co);v(this,Co,null),this._uiManager.enableWaiting(!0),v(this,Eo,this._uiManager.imageManager.getFromFile(r).then(s=>S(this,Ct,Uh).call(this,s)).finally(()=>S(this,Ct,Vh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=dd.supportedTypesStr;const i=this._uiManager._signal;v(this,Eo,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),S(this,Ct,Uh).call(this,s)}r()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>S(this,Ct,Vh).call(this))),e.click()},Aw=function(){var d;const{div:e}=this;let{width:i,height:r}=h(this,Zt);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const f=Math.min(a*s/i,a*o/r);i*=f,r*=f}const[l,u]=this.parentDimensions;this.setDims(i*l/s,r*u/o),this._uiManager.enableWaiting(!1);const c=v(this,Fr,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=i/s,this.height=r/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),S(this,Ct,Ew).call(this),h(this,Dc)||(this.parent.addUndoableEditor(this),v(this,Dc,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Ic)&&c.setAttribute("aria-label",h(this,Ic))},tm=function(e,i){const{width:r,height:s}=h(this,Zt);let o=r,a=s,l=h(this,Zt);for(;o>2*e||a>2*i;){const u=o,c=a;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,u,c,0,0,o,a),l=d.transferToImageBitmap()}return l},Ew=function(){const[e,i]=this.parentDimensions,{width:r,height:s}=this,o=new _x,a=Math.ceil(r*e*o.sx),l=Math.ceil(s*i*o.sy),u=h(this,Fr);if(!u||u.width===a&&u.height===l)return;u.width=a,u.height=l;const c=h(this,ri)?h(this,Zt):S(this,Ct,tm).call(this,a,l),d=u.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(c,0,0,c.width,c.height,0,0,a,l)},em=function(e){if(e){if(h(this,ri)){const s=this._uiManager.imageManager.getSvgUrl(h(this,Be));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=h(this,Zt),i.getContext("2d").drawImage(h(this,Zt),0,0),i.toDataURL()}if(h(this,ri)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Yo.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Yo.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(h(this,Zt),0,0,h(this,Zt).width,h(this,Zt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(h(this,Zt))},RM=function(e){var a;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=e.pageIndex===i,o=(((a=e.accessibilityData)==null?void 0:a.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},H(dd,"_type","stamp"),H(dd,"_editorType",dt.STAMP);let kw=dd;var Al,Oc,zr,To,Es,Ai,Po,Fc,El,tr,Cs,Ze,Ts,tt,Mo,Yt,LM,yr,Tw,Pw,nm;const Hi=class Hi{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:u,l10n:c}){_(this,Yt);_(this,Al);_(this,Oc,!1);_(this,zr,null);_(this,To,null);_(this,Es,null);_(this,Ai,new Map);_(this,Po,!1);_(this,Fc,!1);_(this,El,!1);_(this,tr,null);_(this,Cs,null);_(this,Ze,null);_(this,Ts,null);_(this,tt);const d=[...h(Hi,Mo).values()];if(!Hi._initialized){Hi._initialized=!0;for(const f of d)f.initialize(c,t)}t.registerEditorTypes(d),v(this,tt,t),this.pageIndex=e,this.div=i,v(this,Al,s),v(this,zr,o),this.viewport=u,v(this,Ze,l),this.drawLayer=a,this._structTree=r,h(this,tt).addLayer(this)}get isEmpty(){return h(this,Ai).size===0}get isInvisible(){return this.isEmpty&&h(this,tt).getMode()===dt.NONE}updateToolbar(t){h(this,tt).updateToolbar(t)}updateMode(t=h(this,tt).getMode()){switch(S(this,Yt,nm).call(this),t){case dt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case dt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of h(Hi,Mo).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,Ze))==null?void 0:e.div)}setEditingState(t){h(this,tt).setEditingState(t)}addCommands(t){h(this,tt).addCommands(t)}cleanUndoStack(t){h(this,tt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,zr))==null||e.div.classList.toggle("disabled",!t)}async enable(){v(this,El,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of h(this,Ai).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,tt).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!h(this,zr)){v(this,El,!1);return}const e=h(this,zr).getEditableAnnotations();for(const i of e){if(i.hide(),h(this,tt).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}v(this,El,!1)}disable(){var r;v(this,Fc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const s of h(this,Ai).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(h(this,zr)){const s=h(this,zr).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(h(this,tt).isDeletedAnnotationElement(a))continue;let l=e.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=t.get(a),l&&(h(this,tt).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}S(this,Yt,nm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of h(Hi,Mo).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),v(this,Fc,!1)}getEditableAnnotation(t){var e;return((e=h(this,zr))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,tt).getActive()!==t&&h(this,tt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,Ze))!=null&&t.div&&!h(this,Ts)){v(this,Ts,new AbortController);const e=h(this,tt).combinedSignal(h(this,Ts));h(this,Ze).div.addEventListener("pointerdown",S(this,Yt,LM).bind(this),{signal:e}),h(this,Ze).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,Ze))!=null&&t.div&&h(this,Ts)&&(h(this,Ts).abort(),v(this,Ts,null),h(this,Ze).div.classList.remove("highlighting"))}enableClick(){if(h(this,To))return;v(this,To,new AbortController);const t=h(this,tt).combinedSignal(h(this,To));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=h(this,To))==null||t.abort(),v(this,To,null)}attach(t){h(this,Ai).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,tt).isDeletedAnnotationElement(e)&&h(this,tt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,Ai).delete(t.id),(e=h(this,Al))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,Fc)&&t.annotationElementId&&h(this,tt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,tt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,tt).addDeletedAnnotationElement(t.annotationElementId),ne.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,tt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!h(this,El)),h(this,tt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,Es)&&(t._focusEventsAllowed=!1,v(this,Es,setTimeout(()=>{v(this,Es,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,tt)._signal}),e.focus())},0))),t._structTreeParentId=(i=h(this,Al))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return h(this,tt).getId()}combinedSignal(t){return h(this,tt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,Yt,yr))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,tt).updateToolbar(t),h(this,tt).updateMode(t);const{offsetX:i,offsetY:r}=S(this,Yt,Pw).call(this),s=this.getNextId(),o=S(this,Yt,Tw).call(this,{parent:this,id:s,x:i,y:r,uiManager:h(this,tt),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=h(Hi,Mo).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,tt)))||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),s=S(this,Yt,Tw).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,tt),isCentered:e,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(S(this,Yt,Pw).call(this),!0)}setSelected(t){h(this,tt).setSelected(t)}toggleSelected(t){h(this,tt).toggleSelected(t)}unselect(t){h(this,tt).unselect(t)}pointerup(t){var i;const{isMac:e}=wn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Po)&&(v(this,Po,!1),!((i=h(this,Yt,yr))!=null&&i.isDrawer&&h(this,Yt,yr).supportMultipleDrawings))){if(!h(this,Oc)){v(this,Oc,!0);return}if(h(this,tt).getMode()===dt.STAMP){h(this,tt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){var r;if(h(this,tt).getMode()===dt.HIGHLIGHT&&this.enableTextSelection(),h(this,Po)){v(this,Po,!1);return}const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(v(this,Po,!0),(r=h(this,Yt,yr))!=null&&r.isDrawer){this.startDrawingSession(t);return}const i=h(this,tt).getActive();v(this,Oc,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus(),h(this,tr)){h(this,Yt,yr).startDrawing(this,h(this,tt),!1,t);return}h(this,tt).setCurrentDrawingSession(this),v(this,tr,new AbortController);const e=h(this,tt).combinedSignal(h(this,tr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(v(this,Cs,null),this.commitOrRemove())},{signal:e}),h(this,Yt,yr).startDrawing(this,h(this,tt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&v(this,Cs,e);return}h(this,Cs)&&setTimeout(()=>{var e;(e=h(this,Cs))==null||e.focus(),v(this,Cs,null)},0)}endDrawingSession(t=!1){return h(this,tr)?(h(this,tt).setCurrentDrawingSession(null),h(this,tr).abort(),v(this,tr,null),v(this,Cs,null),h(this,Yt,yr).endDrawing(t)):null}findNewParent(t,e,i){const r=h(this,tt).findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return h(this,tr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,tr)&&h(this,Yt,yr).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=h(this,tt).getActive())==null?void 0:t.parent)===this&&(h(this,tt).commitOrRemove(),h(this,tt).setActiveEditor(null)),h(this,Es)&&(clearTimeout(h(this,Es)),v(this,Es,null));for(const i of h(this,Ai).values())(e=h(this,Al))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,h(this,Ai).clear(),h(this,tt).removeLayer(this)}render({viewport:t}){this.viewport=t,zl(this.div,t);for(const e of h(this,tt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,tt).commitOrRemove(),S(this,Yt,nm).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,zl(this.div,{rotation:i}),e!==i)for(const r of h(this,Ai).values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,tt).viewParameters.realScale}};Al=new WeakMap,Oc=new WeakMap,zr=new WeakMap,To=new WeakMap,Es=new WeakMap,Ai=new WeakMap,Po=new WeakMap,Fc=new WeakMap,El=new WeakMap,tr=new WeakMap,Cs=new WeakMap,Ze=new WeakMap,Ts=new WeakMap,tt=new WeakMap,Mo=new WeakMap,Yt=new WeakSet,LM=function(t){h(this,tt).unselectAll();const{target:e}=t;if(e===h(this,Ze).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,Ze).div.contains(e)){const{isMac:i}=wn.platform;if(t.button!==0||t.ctrlKey&&i)return;h(this,tt).showAllEditors("highlight",!0,!0),h(this,Ze).div.classList.add("free"),this.toggleDrawing(),Vm.startHighlighting(this,h(this,tt).direction==="ltr",{target:h(this,Ze).div,x:t.x,y:t.y}),h(this,Ze).div.addEventListener("pointerup",()=>{h(this,Ze).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,tt)._signal}),t.preventDefault()}},yr=function(){return h(Hi,Mo).get(h(this,tt).getMode())},Tw=function(t){const e=h(this,Yt,yr);return e?new e.prototype.constructor(t):null},Pw=function(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),o=Math.max(0,e),a=Math.min(window.innerWidth,t+i),l=Math.min(window.innerHeight,e+r),u=(s+a)/2-t,c=(o+l)/2-e,[d,f]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:f}},nm=function(){for(const t of h(this,Ai).values())t.isEmpty()&&t.remove()},H(Hi,"_initialized",!1),_(Hi,Mo,new Map([lw,Sw,kw,Vm].map(t=>[t._editorType,t])));let Cw=Hi;var er,dp,mn,Cl,Sy,IM,$r,Rw,DM,Lw;const Ye=class Ye{constructor({pageIndex:t}){_(this,$r);_(this,er,null);_(this,dp,0);_(this,mn,new Map);_(this,Cl,new Map);this.pageIndex=t}setParent(t){if(!h(this,er)){v(this,er,t);return}if(h(this,er)!==t){if(h(this,mn).size>0)for(const e of h(this,mn).values())e.remove(),t.append(e);v(this,er,t)}}static get _svgFactory(){return mt(this,"_svgFactory",new i1)}draw(t,e=!1,i=!1){const r=hn(this,dp)._++,s=S(this,$r,Rw).call(this),o=Ye._svgFactory.createElement("defs");s.append(o);const a=Ye._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),e&&h(this,Cl).set(r,a);const u=i?S(this,$r,DM).call(this,o,l):null,c=Ye._svgFactory.createElement("use");return s.append(c),c.setAttribute("href",`#${l}`),this.updateProperties(s,t),h(this,mn).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(t,e){const i=hn(this,dp)._++,r=S(this,$r,Rw).call(this),s=Ye._svgFactory.createElement("defs");r.append(s);const o=Ye._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const d=Ye._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=Ye._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Ye._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Ye._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const c=u.cloneNode();return r.append(c),u.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(r,t),h(this,mn).set(i,r),i}finalizeDraw(t,e){h(this,Cl).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var l;if(!e)return;const{root:i,bbox:r,rootClass:s,path:o}=e,a=typeof t=="number"?h(this,mn).get(t):t;if(a){if(i&&S(this,$r,Lw).call(this,a,i),r&&S(l=Ye,Sy,IM).call(l,a,r),s){const{classList:u}=a;for(const[c,d]of Object.entries(s))u.toggle(c,d)}if(o){const c=a.firstChild.firstChild;S(this,$r,Lw).call(this,c,o)}}}updateParent(t,e){if(e===this)return;const i=h(this,mn).get(t);i&&(h(e,er).append(i),h(this,mn).delete(t),h(e,mn).set(t,i))}remove(t){h(this,Cl).delete(t),h(this,er)!==null&&(h(this,mn).get(t).remove(),h(this,mn).delete(t))}destroy(){v(this,er,null);for(const t of h(this,mn).values())t.remove();h(this,mn).clear(),h(this,Cl).clear()}};er=new WeakMap,dp=new WeakMap,mn=new WeakMap,Cl=new WeakMap,Sy=new WeakSet,IM=function(t,[e,i,r,s]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},$r=new WeakSet,Rw=function(){const t=Ye._svgFactory.create(1,1,!0);return h(this,er).append(t),t.setAttribute("aria-hidden",!0),t},DM=function(t,e){const i=Ye._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Ye._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r},Lw=function(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)},_(Ye,Sy);let Mw=Ye;globalThis.pdfjsTestingUtils={HighlightOutliner:cw};at.AbortException;at.AnnotationEditorLayer;at.AnnotationEditorParamsType;at.AnnotationEditorType;at.AnnotationEditorUIManager;at.AnnotationLayer;at.AnnotationMode;at.ColorPicker;at.DOMSVGFactory;at.DrawLayer;at.FeatureTest;var ZN=at.GlobalWorkerOptions;at.ImageKind;at.InvalidPDFException;at.MissingPDFException;at.OPS;at.OutputScale;at.PDFDataRangeTransport;at.PDFDateString;at.PDFWorker;at.PasswordResponses;at.PermissionFlag;at.PixelsPerInch;at.RenderingCancelledException;at.TextLayer;at.TouchManager;at.UnexpectedResponseException;at.Util;at.VerbosityLevel;at.XfaLayer;at.build;at.createValidAbsoluteUrl;at.fetchData;var tz=at.getDocument;at.getFilenameFromUrl;at.getPdfFilenameFromUrl;at.getXfaPageViewport;at.isDataScheme;at.isPdfFile;at.noContextMenu;at.normalizeUnicode;at.setLayerDimensions;at.shadow;at.stopEvent;at.version;const Iw={baseUrl:"https://api.openai.com/v1/chat/completions",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS"}};ZN.workerSrc=new URL("/mka/assets/pdf.worker-BgryrOlp.mjs",import.meta.url).toString();console.log("Environment:","production");console.log("API URL:",Iw.baseUrl);console.log("API Key exists:",!0);const OM="gpt-4-0125-preview",FM=he.create({baseURL:Iw.baseUrl,timeout:6e4,headers:{"Content-Type":"application/json",...Iw.headers,Authorization:"Bearer "+atob("c2stcHJvai1qSnNPWUhUOUVRampOdWF6cllFT19NUkpBTEJ6RzZ5MnNxQ1JTN1JwR0xkNGowYkRIRXJVZU5wSDFGd3Z2ekhzRnRPeTQ0RExLSFQzQmxia0ZKaVNRVkFfSFNOTF9ybkY0b1ZMWHRNcjBiNG13Tm1nTEFSXzRDMmVnTnV3Q3lJUnhmRmoxcHdWVmlOOUEyWXlPTVV2VlY1ZndGQUE=")}}),ez=async n=>{try{const t=await tz({data:n}).promise;let e="";for(let i=1;i<=t.numPages;i++){const o=(await(await t.getPage(i)).getTextContent()).items.map(a=>a.str).join(" ");e+=o+`
`}return e}catch(t){throw console.error("Error extracting text from PDF:",t),t}},US=async n=>{let t="";if(n.type==="application/pdf"){const e=await n.arrayBuffer();t=await ez(e)}return nz(t),t},nz=n=>{if(!n||typeof n!="string"||n.length<100)throw new Error("Invalid or insufficient data extracted from file")},iz=async(n,t,e,i)=>{var r,s,o,a;try{const l=await US(n),u=await US(t);console.log("Files processed successfully");const c={model:OM,messages:[{role:"system",content:`You are a market conquest strategist. Your task is to analyze two audience reports and provide a STRICTLY FORMATTED analysis following this exact structure:

          1. First section MUST be "Market Segment Analysis: ${e} vs ${i}"
          2. Second section MUST be "Similar Segments Across Both Platforms" with this exact table format:
             | ${e} Segment | Size | ${i} Segment | Size | Share % | Similarity Notes |
             Use actual numbers and emojis for segments.

          3. Third section MUST be "Unique ${e} Segments" with this exact table format:
             | Segment | Size | Market Share | Category Size | Penetration |
             Use actual numbers and emojis.

          4. Fourth section MUST be "Unique ${i} Segments" with same format as above.

          5. Following sections MUST be in this exact order:
             - Key Insights (with 7 numbered points)
             - Customer Loyalty Analysis (with bullet points)
             - Conversion Opportunities (with bullet points)
             - Targeted Strategies (with bullet points)
             - Differentiated Value Proposition (with bullet points)

          IMPORTANT RULES:
          - ALWAYS include actual numbers from the reports
          - ALWAYS use emojis for segment names
          - NEVER skip any section
          - ALWAYS maintain table formats exactly as shown
          - ALWAYS ensure data is properly formatted for charts`},{role:"user",content:`Report 1 (${e}): ${l}

Report 2 (${i}): ${u}`}],temperature:.7};console.log("Making request to OpenAI...");const d=await FM.post("",c);return console.log("Response received:",d.status),d.data.choices[0].message.content||""}catch(l){return console.error("Error details:",{message:l.message,status:(r=l.response)==null?void 0:r.status,data:(s=l.response)==null?void 0:s.data,config:{url:(o=l.config)==null?void 0:o.url,headers:(a=l.config)==null?void 0:a.headers}}),""}},rz=async(n,t,e,i)=>{try{return(await FM.post("",{model:OM,messages:[{role:"system",content:`You are an audience insights expert analyzing ${e} and ${i} segments.
          
          When responding, always structure your answers using proper markdown:
          
          - Use tables when comparing segments:
            | Segment | Metric | Notes |
            |---------|--------|-------|
            | Data    | Data   | Data  |
          
          - Use headers for sections:
            # Main points
            ## Sub-points
          
          - Use bullet points for lists
          - Include emojis when mentioning segments
          - Keep segment names exactly as they appear
          
          Focus your analysis on:
          1. Identifying similar audiences between platforms
          2. Understanding unique segment characteristics
          3. Suggesting ways ${e} can attract ${i}'s audiences
          4. Explaining audience size and composition differences
          5. Highlighting opportunities for audience growth

          Remember that Audiense Insights cluster names are AI-generated and don't follow a fixed taxonomy.
          
          Context: ${t}`},{role:"user",content:n}],temperature:.7})).data.choices[0].message.content}catch(r){throw console.error("Error calling OpenAI API:",r),r}};function sz(n,t){const e={};return(n[n.length-1]===""?[...n,""]:n).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const oz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,az=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lz={};function VS(n,t){return(lz.jsx?az:oz).test(n)}const uz=/[ \t\n\f\r]/g;function cz(n){return typeof n=="object"?n.type==="text"?WS(n.value):!1:WS(n)}function WS(n){return n.replace(uz,"")===""}class Sp{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}Sp.prototype.normal={};Sp.prototype.property={};Sp.prototype.space=void 0;function NM(n,t){const e={},i={};for(const r of n)Object.assign(e,r.property),Object.assign(i,r.normal);return new Sp(e,i,t)}function Dw(n){return n.toLowerCase()}class Vn{constructor(t,e){this.attribute=e,this.property=t}}Vn.prototype.attribute="";Vn.prototype.booleanish=!1;Vn.prototype.boolean=!1;Vn.prototype.commaOrSpaceSeparated=!1;Vn.prototype.commaSeparated=!1;Vn.prototype.defined=!1;Vn.prototype.mustUseProperty=!1;Vn.prototype.number=!1;Vn.prototype.overloadedBoolean=!1;Vn.prototype.property="";Vn.prototype.spaceSeparated=!1;Vn.prototype.space=void 0;let hz=0;const ut=ql(),pe=ql(),zM=ql(),U=ql(),Ht=ql(),Pu=ql(),Gn=ql();function ql(){return 2**++hz}const Ow=Object.freeze(Object.defineProperty({__proto__:null,boolean:ut,booleanish:pe,commaOrSpaceSeparated:Gn,commaSeparated:Pu,number:U,overloadedBoolean:zM,spaceSeparated:Ht},Symbol.toStringTag,{value:"Module"})),q0=Object.keys(Ow);class s1 extends Vn{constructor(t,e,i,r){let s=-1;if(super(t,e),GS(this,"space",r),typeof i=="number")for(;++s<q0.length;){const o=q0[s];GS(this,q0[s],(i&Ow[o])===Ow[o])}}}s1.prototype.defined=!0;function GS(n,t,e){e&&(n[t]=e)}function Zc(n){const t={},e={};for(const[i,r]of Object.entries(n.properties)){const s=new s1(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,e[Dw(i)]=i,e[Dw(s.attribute)]=i}return new Sp(t,e,n.space)}const BM=Zc({properties:{ariaActiveDescendant:null,ariaAtomic:pe,ariaAutoComplete:null,ariaBusy:pe,ariaChecked:pe,ariaColCount:U,ariaColIndex:U,ariaColSpan:U,ariaControls:Ht,ariaCurrent:null,ariaDescribedBy:Ht,ariaDetails:null,ariaDisabled:pe,ariaDropEffect:Ht,ariaErrorMessage:null,ariaExpanded:pe,ariaFlowTo:Ht,ariaGrabbed:pe,ariaHasPopup:null,ariaHidden:pe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ht,ariaLevel:U,ariaLive:null,ariaModal:pe,ariaMultiLine:pe,ariaMultiSelectable:pe,ariaOrientation:null,ariaOwns:Ht,ariaPlaceholder:null,ariaPosInSet:U,ariaPressed:pe,ariaReadOnly:pe,ariaRelevant:null,ariaRequired:pe,ariaRoleDescription:Ht,ariaRowCount:U,ariaRowIndex:U,ariaRowSpan:U,ariaSelected:pe,ariaSetSize:U,ariaSort:null,ariaValueMax:U,ariaValueMin:U,ariaValueNow:U,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function jM(n,t){return t in n?n[t]:t}function HM(n,t){return jM(n,t.toLowerCase())}const dz=Zc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pu,acceptCharset:Ht,accessKey:Ht,action:null,allow:null,allowFullScreen:ut,allowPaymentRequest:ut,allowUserMedia:ut,alt:null,as:null,async:ut,autoCapitalize:null,autoComplete:Ht,autoFocus:ut,autoPlay:ut,blocking:Ht,capture:null,charSet:null,checked:ut,cite:null,className:Ht,cols:U,colSpan:null,content:null,contentEditable:pe,controls:ut,controlsList:Ht,coords:U|Pu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ut,defer:ut,dir:null,dirName:null,disabled:ut,download:zM,draggable:pe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ut,formTarget:null,headers:Ht,height:U,hidden:ut,high:U,href:null,hrefLang:null,htmlFor:Ht,httpEquiv:Ht,id:null,imageSizes:null,imageSrcSet:null,inert:ut,inputMode:null,integrity:null,is:null,isMap:ut,itemId:null,itemProp:Ht,itemRef:Ht,itemScope:ut,itemType:Ht,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ut,low:U,manifest:null,max:null,maxLength:U,media:null,method:null,min:null,minLength:U,multiple:ut,muted:ut,name:null,nonce:null,noModule:ut,noValidate:ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ut,optimum:U,pattern:null,ping:Ht,placeholder:null,playsInline:ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ut,referrerPolicy:null,rel:Ht,required:ut,reversed:ut,rows:U,rowSpan:U,sandbox:Ht,scope:null,scoped:ut,seamless:ut,selected:ut,shadowRootClonable:ut,shadowRootDelegatesFocus:ut,shadowRootMode:null,shape:null,size:U,sizes:null,slot:null,span:U,spellCheck:pe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:U,step:null,style:null,tabIndex:U,target:null,title:null,translate:null,type:null,typeMustMatch:ut,useMap:null,value:pe,width:U,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ht,axis:null,background:null,bgColor:null,border:U,borderColor:null,bottomMargin:U,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ut,declare:ut,event:null,face:null,frame:null,frameBorder:null,hSpace:U,leftMargin:U,link:null,longDesc:null,lowSrc:null,marginHeight:U,marginWidth:U,noResize:ut,noHref:ut,noShade:ut,noWrap:ut,object:null,profile:null,prompt:null,rev:null,rightMargin:U,rules:null,scheme:null,scrolling:pe,standby:null,summary:null,text:null,topMargin:U,valueType:null,version:null,vAlign:null,vLink:null,vSpace:U,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ut,disableRemotePlayback:ut,prefix:null,property:null,results:U,security:null,unselectable:null},space:"html",transform:HM}),fz=Zc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gn,accentHeight:U,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:U,amplitude:U,arabicForm:null,ascent:U,attributeName:null,attributeType:null,azimuth:U,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:U,by:null,calcMode:null,capHeight:U,className:Ht,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:U,diffuseConstant:U,direction:null,display:null,dur:null,divisor:U,dominantBaseline:null,download:ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:U,enableBackground:null,end:null,event:null,exponent:U,externalResourcesRequired:null,fill:null,fillOpacity:U,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pu,g2:Pu,glyphName:Pu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:U,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:U,horizOriginX:U,horizOriginY:U,id:null,ideographic:U,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:U,k:U,k1:U,k2:U,k3:U,k4:U,kernelMatrix:Gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:U,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:U,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:U,overlineThickness:U,paintOrder:null,panose1:null,path:null,pathLength:U,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ht,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:U,pointsAtY:U,pointsAtZ:U,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gn,rev:Gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gn,requiredFeatures:Gn,requiredFonts:Gn,requiredFormats:Gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:U,specularExponent:U,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:U,strikethroughThickness:U,string:null,stroke:null,strokeDashArray:Gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:U,strokeOpacity:U,strokeWidth:null,style:null,surfaceScale:U,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gn,tabIndex:U,tableValues:null,target:null,targetX:U,targetY:U,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:U,underlineThickness:U,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:U,values:null,vAlphabetic:U,vMathematical:U,vectorEffect:null,vHanging:U,vIdeographic:U,version:null,vertAdvY:U,vertOriginX:U,vertOriginY:U,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:U,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jM}),$M=Zc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),UM=Zc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:HM}),VM=Zc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),pz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gz=/[A-Z]/g,qS=/-[a-z]/g,mz=/^data[-\w.:]+$/i;function yz(n,t){const e=Dw(t);let i=t,r=Vn;if(e in n.normal)return n.property[n.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&mz.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(qS,xz);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!qS.test(s)){let o=s.replace(gz,bz);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}r=s1}return new r(i,t)}function bz(n){return"-"+n.toLowerCase()}function xz(n){return n.charAt(1).toUpperCase()}const wz=NM([BM,dz,$M,UM,VM],"html"),o1=NM([BM,fz,$M,UM,VM],"svg");function vz(n){return n.join(" ").trim()}var WM={},XS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,_z=/\n/g,Sz=/^\s*/,kz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Az=/^:\s*/,Ez=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Cz=/^[;\s]*/,Tz=/^\s+|\s+$/g,Pz=`
`,YS="/",KS="*",ga="",Mz="comment",Rz="declaration",Lz=function(n,t){if(typeof n!="string")throw new TypeError("First argument must be a string");if(!n)return[];t=t||{};var e=1,i=1;function r(g){var m=g.match(_z);m&&(e+=m.length);var x=g.lastIndexOf(Pz);i=~x?g.length-x:i+g.length}function s(){var g={line:e,column:i};return function(m){return m.position=new o(g),u(),m}}function o(g){this.start=g,this.end={line:e,column:i},this.source=t.source}o.prototype.content=n;function a(g){var m=new Error(t.source+":"+e+":"+i+": "+g);if(m.reason=g,m.filename=t.source,m.line=e,m.column=i,m.source=n,!t.silent)throw m}function l(g){var m=g.exec(n);if(m){var x=m[0];return r(x),n=n.slice(x.length),m}}function u(){l(Sz)}function c(g){var m;for(g=g||[];m=d();)m!==!1&&g.push(m);return g}function d(){var g=s();if(!(YS!=n.charAt(0)||KS!=n.charAt(1))){for(var m=2;ga!=n.charAt(m)&&(KS!=n.charAt(m)||YS!=n.charAt(m+1));)++m;if(m+=2,ga===n.charAt(m-1))return a("End of comment missing");var x=n.slice(2,m-2);return i+=2,r(x),n=n.slice(m),i+=2,g({type:Mz,comment:x})}}function f(){var g=s(),m=l(kz);if(m){if(d(),!l(Az))return a("property missing ':'");var x=l(Ez),y=g({type:Rz,property:QS(m[0].replace(XS,ga)),value:x?QS(x[0].replace(XS,ga)):ga});return l(Cz),y}}function p(){var g=[];c(g);for(var m;m=f();)m!==!1&&(g.push(m),c(g));return g}return u(),p()};function QS(n){return n?n.replace(Tz,ga):ga}var Iz=Q1&&Q1.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(WM,"__esModule",{value:!0});var JS=WM.default=Oz,Dz=Iz(Lz);function Oz(n,t){var e=null;if(!n||typeof n!="string")return e;var i=(0,Dz.default)(n),r=typeof t=="function";return i.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;r?t(o,a,s):a&&(e=e||{},e[o]=a)}}),e}const Fz=JS.default||JS,GM=qM("end"),a1=qM("start");function qM(n){return t;function t(e){const i=e&&e.position&&e.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Nz(n){const t=a1(n),e=GM(n);if(t&&e)return{start:t,end:e}}function sd(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?ZS(n.position):"start"in n||"end"in n?ZS(n):"line"in n||"column"in n?Fw(n):""}function Fw(n){return tk(n&&n.line)+":"+tk(n&&n.column)}function ZS(n){return Fw(n&&n.start)+"-"+Fw(n&&n.end)}function tk(n){return n&&typeof n=="number"?n:1}class un extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let r="",s={},o=!1;if(e&&("line"in e&&"column"in e?s={place:e}:"start"in e&&"end"in e?s={place:e}:"type"in e?s={ancestors:[e],place:e.position}:s={...e}),typeof t=="string"?r=t:!s.cause&&t&&(o=!0,r=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const l=i.indexOf(":");l===-1?s.ruleId=i:(s.source=i.slice(0,l),s.ruleId=i.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=a?a.line:void 0,this.name=sd(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}un.prototype.file="";un.prototype.name="";un.prototype.reason="";un.prototype.message="";un.prototype.stack="";un.prototype.column=void 0;un.prototype.line=void 0;un.prototype.ancestors=void 0;un.prototype.cause=void 0;un.prototype.fatal=void 0;un.prototype.place=void 0;un.prototype.ruleId=void 0;un.prototype.source=void 0;const l1={}.hasOwnProperty,zz=new Map,Bz=/[A-Z]/g,jz=/-([a-z])/g,Hz=new Set(["table","tbody","thead","tfoot","tr"]),$z=new Set(["td","th"]),XM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Uz(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=Qz(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=Kz(e,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?o1:wz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=YM(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function YM(n,t,e){if(t.type==="element")return Vz(n,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Wz(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return qz(n,t,e);if(t.type==="mdxjsEsm")return Gz(n,t);if(t.type==="root")return Xz(n,t,e);if(t.type==="text")return Yz(n,t)}function Vz(n,t,e){const i=n.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=o1,n.schema=r),n.ancestors.push(t);const s=QM(n,t.tagName,!1),o=Jz(n,t);let a=c1(n,t);return Hz.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!cz(l):!0})),KM(n,o,s,t),u1(o,a),n.ancestors.pop(),n.schema=i,n.create(t,s,o,e)}function Wz(n,t){if(t.data&&t.data.estree&&n.evaluater){const i=t.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Dd(n,t.position)}function Gz(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);Dd(n,t.position)}function qz(n,t,e){const i=n.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=o1,n.schema=r),n.ancestors.push(t);const s=t.name===null?n.Fragment:QM(n,t.name,!0),o=Zz(n,t),a=c1(n,t);return KM(n,o,s,t),u1(o,a),n.ancestors.pop(),n.schema=i,n.create(t,s,o,e)}function Xz(n,t,e){const i={};return u1(i,c1(n,t)),n.create(t,n.Fragment,i,e)}function Yz(n,t){return t.value}function KM(n,t,e,i){typeof e!="string"&&e!==n.Fragment&&n.passNode&&(t.node=i)}function u1(n,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(n.children=e)}}function Kz(n,t,e){return i;function i(r,s,o,a){const u=Array.isArray(o.children)?e:t;return a?u(s,o,a):u(s,o)}}function Qz(n,t){return e;function e(i,r,s,o){const a=Array.isArray(s.children),l=a1(i);return t(r,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:n,lineNumber:l?l.line:void 0},void 0)}}function Jz(n,t){const e={};let i,r;for(r in t.properties)if(r!=="children"&&l1.call(t.properties,r)){const s=tB(n,r,t.properties[r]);if(s){const[o,a]=s;n.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&$z.has(t.tagName)?i=a:e[o]=a}}if(i){const s=e.style||(e.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function Zz(n,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(e,n.evaluater.evaluateExpression(a.argument))}else Dd(n,t.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const a=i.value.data.estree.body[0];a.type,s=n.evaluater.evaluateExpression(a.expression)}else Dd(n,t.position);else s=i.value===null?!0:i.value;e[r]=s}return e}function c1(n,t){const e=[];let i=-1;const r=n.passKeys?new Map:zz;for(;++i<t.children.length;){const s=t.children[i];let o;if(n.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=r.get(l)||0;o=l+"-"+u,r.set(l,u+1)}}const a=YM(n,s,o);a!==void 0&&e.push(a)}return e}function tB(n,t,e){const i=yz(n.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?sz(e):vz(e)),i.property==="style"){let r=typeof e=="object"?e:eB(n,String(e));return n.stylePropertyNameCase==="css"&&(r=nB(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?pz[i.property]||i.property:i.attribute,e]}}function eB(n,t){const e={};try{Fz(t,i)}catch(r){if(!n.ignoreInvalidStyle){const s=r,o=new un("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=n.filePath||void 0,o.url=XM+"#cannot-parse-style-attribute",o}}return e;function i(r,s){let o=r;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(jz,rB)),e[o]=s}}function QM(n,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let s=-1,o;for(;++s<r.length;){const a=VS(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}i=o}else i=VS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return l1.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Dd(n)}function Dd(n,t){const e=new un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=n.filePath||void 0,e.url=XM+"#cannot-handle-mdx-estrees-without-createevaluater",e}function nB(n){const t={};let e;for(e in n)l1.call(n,e)&&(t[iB(e)]=n[e]);return t}function iB(n){let t=n.replace(Bz,sB);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function rB(n,t){return t.toUpperCase()}function sB(n){return"-"+n.toLowerCase()}const X0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oB={};function h1(n,t){const e=oB,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,r=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return JM(n,i,r)}function JM(n,t,e){if(aB(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return ek(n.children,t,e)}return Array.isArray(n)?ek(n,t,e):""}function ek(n,t,e){const i=[];let r=-1;for(;++r<n.length;)i[r]=JM(n[r],t,e);return i.join("")}function aB(n){return!!(n&&typeof n=="object")}const nk=document.createElement("i");function d1(n){const t="&"+n+";";nk.innerHTML=t;const e=nk.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function di(n,t,e,i){const r=n.length;let s=0,o;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,e=e>0?e:0,i.length<1e4)o=Array.from(i),o.unshift(t,e),n.splice(...o);else for(e&&n.splice(t,e);s<i.length;)o=i.slice(s,s+1e4),o.unshift(t,0),n.splice(...o),s+=1e4,t+=1e4}function Ti(n,t){return n.length>0?(di(n,n.length,0,t),n):t}const ik={}.hasOwnProperty;function ZM(n){const t={};let e=-1;for(;++e<n.length;)lB(t,n[e]);return t}function lB(n,t){let e;for(e in t){const r=(ik.call(n,e)?n[e]:void 0)||(n[e]={}),s=t[e];let o;if(s)for(o in s){ik.call(r,o)||(r[o]=[]);const a=s[o];uB(r[o],Array.isArray(a)?a:a?[a]:[])}}}function uB(n,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?n:i).push(t[e]);di(n,0,0,i)}function tR(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"":String.fromCodePoint(e)}function ar(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const bn=na(/[A-Za-z]/),on=na(/[\dA-Za-z]/),cB=na(/[#-'*+\--9=?A-Z^-~]/);function Gm(n){return n!==null&&(n<32||n===127)}const Nw=na(/\d/),hB=na(/[\dA-Fa-f]/),dB=na(/[!-/:-@[-`{-~]/);function it(n){return n!==null&&n<-2}function Bt(n){return n!==null&&(n<0||n===32)}function yt(n){return n===-2||n===-1||n===32}const t0=na(new RegExp("\\p{P}|\\p{S}","u")),Hl=na(/\s/);function na(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function th(n){const t=[];let e=-1,i=0,r=0;for(;++e<n.length;){const s=n.charCodeAt(e);let o="";if(s===37&&on(n.charCodeAt(e+1))&&on(n.charCodeAt(e+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=n.charCodeAt(e+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),r=1):o=""}else o=String.fromCharCode(s);o&&(t.push(n.slice(i,e),encodeURIComponent(o)),i=e+r+1,o=""),r&&(e+=r,r=0)}return t.join("")+n.slice(i)}function St(n,t,e,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return yt(l)?(n.enter(e),a(l)):t(l)}function a(l){return yt(l)&&s++<r?(n.consume(l),a):(n.exit(e),t(l))}}const fB={tokenize:pB};function pB(n){const t=n.attempt(this.parser.constructs.contentInitial,i,r);let e;return t;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),St(n,t,"linePrefix")}function r(a){return n.enter("paragraph"),s(a)}function s(a){const l=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=l),e=l,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return it(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}const gB={tokenize:mB},rk={tokenize:yB};function mB(n){const t=this,e=[];let i=0,r,s,o;return a;function a(w){if(i<e.length){const k=e[i];return t.containerState=k[1],n.attempt(k[0].continuation,l,u)(w)}return u(w)}function l(w){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&b();const k=t.events.length;let E=k,A;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){A=t.events[E][1].end;break}y(i);let C=k;for(;C<t.events.length;)t.events[C][1].end={...A},C++;return di(t.events,E+1,0,t.events.slice(k)),t.events.length=C,u(w)}return a(w)}function u(w){if(i===e.length){if(!r)return f(w);if(r.currentConstruct&&r.currentConstruct.concrete)return g(w);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(rk,c,d)(w)}function c(w){return r&&b(),y(i),f(w)}function d(w){return t.parser.lazy[t.now().line]=i!==e.length,o=t.now().offset,g(w)}function f(w){return t.containerState={},n.attempt(rk,p,g)(w)}function p(w){return i++,e.push([t.currentConstruct,t.containerState]),f(w)}function g(w){if(w===null){r&&b(),y(0),n.consume(w);return}return r=r||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),m(w)}function m(w){if(w===null){x(n.exit("chunkFlow"),!0),y(0),n.consume(w);return}return it(w)?(n.consume(w),x(n.exit("chunkFlow")),i=0,t.interrupt=void 0,a):(n.consume(w),m)}function x(w,k){const E=t.sliceStream(w);if(k&&E.push(null),w.previous=s,s&&(s.next=w),s=w,r.defineSkip(w.start),r.write(E),t.parser.lazy[w.start.line]){let A=r.events.length;for(;A--;)if(r.events[A][1].start.offset<o&&(!r.events[A][1].end||r.events[A][1].end.offset>o))return;const C=t.events.length;let R=C,L,P;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(L){P=t.events[R][1].end;break}L=!0}for(y(i),A=C;A<t.events.length;)t.events[A][1].end={...P},A++;di(t.events,R+1,0,t.events.slice(C)),t.events.length=A}}function y(w){let k=e.length;for(;k-- >w;){const E=e[k];t.containerState=E[1],E[0].exit.call(t,n)}e.length=w}function b(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}function yB(n,t,e){return St(n,n.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Vc(n){if(n===null||Bt(n)||Hl(n))return 1;if(t0(n))return 2}function e0(n,t,e){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(t=s(t,e),i.push(s))}return t}const zw={name:"attention",resolveAll:bB,tokenize:xB};function bB(n,t){let e=-1,i,r,s,o,a,l,u,c;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(i=e;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&t.sliceSerialize(n[i][1]).charCodeAt(0)===t.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[i][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;l=n[i][1].end.offset-n[i][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;const d={...n[i][1].end},f={...n[e][1].start};sk(d,-l),sk(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...n[i][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...n[e][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[e][1].start}},r={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},n[i][1].end={...o.start},n[e][1].start={...a.end},u=[],n[i][1].end.offset-n[i][1].start.offset&&(u=Ti(u,[["enter",n[i][1],t],["exit",n[i][1],t]])),u=Ti(u,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Ti(u,e0(t.parser.constructs.insideSpan.null,n.slice(i+1,e),t)),u=Ti(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",r,t]]),n[e][1].end.offset-n[e][1].start.offset?(c=2,u=Ti(u,[["enter",n[e][1],t],["exit",n[e][1],t]])):c=0,di(n,i-1,e-i+3,u),e=i+u.length-c-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}function xB(n,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Vc(i);let s;return o;function o(l){return s=l,n.enter("attentionSequence"),a(l)}function a(l){if(l===s)return n.consume(l),a;const u=n.exit("attentionSequence"),c=Vc(l),d=!c||c===2&&r||e.includes(l),f=!r||r===2&&c||e.includes(i);return u._open=!!(s===42?d:d&&(r||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function sk(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const wB={name:"autolink",tokenize:vB};function vB(n,t,e){let i=0;return r;function r(p){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(p){return bn(p)?(n.consume(p),o):p===64?e(p):u(p)}function o(p){return p===43||p===45||p===46||on(p)?(i=1,a(p)):u(p)}function a(p){return p===58?(n.consume(p),i=0,l):(p===43||p===45||p===46||on(p))&&i++<32?(n.consume(p),a):(i=0,u(p))}function l(p){return p===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),t):p===null||p===32||p===60||Gm(p)?e(p):(n.consume(p),l)}function u(p){return p===64?(n.consume(p),c):cB(p)?(n.consume(p),u):e(p)}function c(p){return on(p)?d(p):e(p)}function d(p){return p===46?(n.consume(p),i=0,c):p===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),t):f(p)}function f(p){if((p===45||on(p))&&i++<63){const g=p===45?f:d;return n.consume(p),g}return e(p)}}const kp={partial:!0,tokenize:_B};function _B(n,t,e){return i;function i(s){return yt(s)?St(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||it(s)?t(s):e(s)}}const eR={continuation:{tokenize:kB},exit:AB,name:"blockQuote",tokenize:SB};function SB(n,t,e){const i=this;return r;function r(o){if(o===62){const a=i.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return e(o)}function s(o){return yt(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(o))}}function kB(n,t,e){const i=this;return r;function r(o){return yt(o)?St(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(eR,t,e)(o)}}function AB(n){n.exit("blockQuote")}const nR={name:"characterEscape",tokenize:EB};function EB(n,t,e){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return dB(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):e(s)}}const iR={name:"characterReference",tokenize:CB};function CB(n,t,e){const i=this;let r=0,s,o;return a;function a(d){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),l}function l(d){return d===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(d),n.exit("characterReferenceMarkerNumeric"),u):(n.enter("characterReferenceValue"),s=31,o=on,c(d))}function u(d){return d===88||d===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(d),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=hB,c):(n.enter("characterReferenceValue"),s=7,o=Nw,c(d))}function c(d){if(d===59&&r){const f=n.exit("characterReferenceValue");return o===on&&!d1(i.sliceSerialize(f))?e(d):(n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return o(d)&&r++<s?(n.consume(d),c):e(d)}}const ok={partial:!0,tokenize:PB},ak={concrete:!0,name:"codeFenced",tokenize:TB};function TB(n,t,e){const i=this,r={partial:!0,tokenize:E};let s=0,o=0,a;return l;function l(A){return u(A)}function u(A){const C=i.events[i.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=A,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),c(A)}function c(A){return A===a?(o++,n.consume(A),c):o<3?e(A):(n.exit("codeFencedFenceSequence"),yt(A)?St(n,d,"whitespace")(A):d(A))}function d(A){return A===null||it(A)?(n.exit("codeFencedFence"),i.interrupt?t(A):n.check(ok,m,k)(A)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),f(A))}function f(A){return A===null||it(A)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),d(A)):yt(A)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),St(n,p,"whitespace")(A)):A===96&&A===a?e(A):(n.consume(A),f)}function p(A){return A===null||it(A)?d(A):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),g(A))}function g(A){return A===null||it(A)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),d(A)):A===96&&A===a?e(A):(n.consume(A),g)}function m(A){return n.attempt(r,k,x)(A)}function x(A){return n.enter("lineEnding"),n.consume(A),n.exit("lineEnding"),y}function y(A){return s>0&&yt(A)?St(n,b,"linePrefix",s+1)(A):b(A)}function b(A){return A===null||it(A)?n.check(ok,m,k)(A):(n.enter("codeFlowValue"),w(A))}function w(A){return A===null||it(A)?(n.exit("codeFlowValue"),b(A)):(n.consume(A),w)}function k(A){return n.exit("codeFenced"),t(A)}function E(A,C,R){let L=0;return P;function P(V){return A.enter("lineEnding"),A.consume(V),A.exit("lineEnding"),I}function I(V){return A.enter("codeFencedFence"),yt(V)?St(A,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):F(V)}function F(V){return V===a?(A.enter("codeFencedFenceSequence"),Y(V)):R(V)}function Y(V){return V===a?(L++,A.consume(V),Y):L>=o?(A.exit("codeFencedFenceSequence"),yt(V)?St(A,q,"whitespace")(V):q(V)):R(V)}function q(V){return V===null||it(V)?(A.exit("codeFencedFence"),C(V)):R(V)}}}function PB(n,t,e){const i=this;return r;function r(o){return o===null?e(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}const Y0={name:"codeIndented",tokenize:RB},MB={partial:!0,tokenize:LB};function RB(n,t,e){const i=this;return r;function r(u){return n.enter("codeIndented"),St(n,s,"linePrefix",5)(u)}function s(u){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):e(u)}function o(u){return u===null?l(u):it(u)?n.attempt(MB,o,l)(u):(n.enter("codeFlowValue"),a(u))}function a(u){return u===null||it(u)?(n.exit("codeFlowValue"),o(u)):(n.consume(u),a)}function l(u){return n.exit("codeIndented"),t(u)}}function LB(n,t,e){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?e(o):it(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),r):St(n,s,"linePrefix",5)(o)}function s(o){const a=i.events[i.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):it(o)?r(o):e(o)}}const IB={name:"codeText",previous:OB,resolve:DB,tokenize:FB};function DB(n){let t=n.length-4,e=3,i,r;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(i=e;++i<t;)if(n[i][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)r===void 0?i!==t&&n[i][1].type!=="lineEnding"&&(r=i):(i===t||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return n}function OB(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function FB(n,t,e){let i=0,r,s;return o;function o(d){return n.enter("codeText"),n.enter("codeTextSequence"),a(d)}function a(d){return d===96?(n.consume(d),i++,a):(n.exit("codeTextSequence"),l(d))}function l(d){return d===null?e(d):d===32?(n.enter("space"),n.consume(d),n.exit("space"),l):d===96?(s=n.enter("codeTextSequence"),r=0,c(d)):it(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),l):(n.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||it(d)?(n.exit("codeTextData"),l(d)):(n.consume(d),u)}function c(d){return d===96?(n.consume(d),r++,c):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class NB{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const r=e||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&bh(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);bh(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bh(this.left,e.reverse())}}}function bh(n,t){let e=0;if(t.length<1e4)n.push(...t);else for(;e<t.length;)n.push(...t.slice(e,e+1e4)),e+=1e4}function rR(n){const t={};let e=-1,i,r,s,o,a,l,u;const c=new NB(n);for(;++e<c.length;){for(;e in t;)e=t[e];if(i=c.get(e),e&&i[1].type==="chunkFlow"&&c.get(e-1)[1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,zB(c,e)),e=t[e],u=!0);else if(i[1]._container){for(s=e,r=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(c.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(o[1].type!=="linePrefix")break;r&&(i[1].end={...c.get(r)[1].start},a=c.slice(r,e),a.unshift(i),c.splice(r,e-r+1,a))}}return di(n,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function zB(n,t){const e=n.get(t)[1],i=n.get(t)[2];let r=t-1;const s=[],o=e._tokenizer||i.parser[e.contentType](e.start),a=o.events,l=[],u={};let c,d,f=-1,p=e,g=0,m=0;const x=[m];for(;p;){for(;n.get(++r)[1]!==p;);s.push(r),p._tokenizer||(c=i.sliceStream(p),p.next||c.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=e;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,x.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),f=x.length;f--;){const y=a.slice(x[f],x[f+1]),b=s.pop();l.push([b,b+y.length-1]),n.splice(b,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return u}const BB={resolve:HB,tokenize:$B},jB={partial:!0,tokenize:UB};function HB(n){return rR(n),n}function $B(n,t){let e;return i;function i(a){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),r(a)}function r(a){return a===null?s(a):it(a)?n.check(jB,o,s)(a):(n.consume(a),r)}function s(a){return n.exit("chunkContent"),n.exit("content"),t(a)}function o(a){return n.consume(a),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,r}}function UB(n,t,e){const i=this;return r;function r(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),St(n,s,"linePrefix")}function s(o){if(o===null||it(o))return e(o);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):n.interrupt(i.parser.constructs.flow,e,t)(o)}}function sR(n,t,e,i,r,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(y),n.exit(s),f):y===null||y===32||y===41||Gm(y)?e(y):(n.enter(i),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(n.enter(s),n.consume(y),n.exit(s),n.exit(r),n.exit(i),t):(n.enter(a),n.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(n.exit("chunkString"),n.exit(a),f(y)):y===null||y===60||it(y)?e(y):(n.consume(y),y===92?g:p)}function g(y){return y===60||y===62||y===92?(n.consume(y),p):p(y)}function m(y){return!c&&(y===null||y===41||Bt(y))?(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(i),t(y)):c<u&&y===40?(n.consume(y),c++,m):y===41?(n.consume(y),c--,m):y===null||y===32||y===40||Gm(y)?e(y):(n.consume(y),y===92?x:m)}function x(y){return y===40||y===41||y===92?(n.consume(y),m):m(y)}}function oR(n,t,e,i,r,s){const o=this;let a=0,l;return u;function u(p){return n.enter(i),n.enter(r),n.consume(p),n.exit(r),n.enter(s),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?e(p):p===93?(n.exit(s),n.enter(r),n.consume(p),n.exit(r),n.exit(i),t):it(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),c):(n.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||it(p)||a++>999?(n.exit("chunkString"),c(p)):(n.consume(p),l||(l=!yt(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(n.consume(p),a++,d):d(p)}}function aR(n,t,e,i,r,s){let o;return a;function a(f){return f===34||f===39||f===40?(n.enter(i),n.enter(r),n.consume(f),n.exit(r),o=f===40?41:f,l):e(f)}function l(f){return f===o?(n.enter(r),n.consume(f),n.exit(r),n.exit(i),t):(n.enter(s),u(f))}function u(f){return f===o?(n.exit(s),l(o)):f===null?e(f):it(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),St(n,u,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||it(f)?(n.exit("chunkString"),u(f)):(n.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(n.consume(f),c):c(f)}}function od(n,t){let e;return i;function i(r){return it(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),e=!0,i):yt(r)?St(n,i,e?"linePrefix":"lineSuffix")(r):t(r)}}const VB={name:"definition",tokenize:GB},WB={partial:!0,tokenize:qB};function GB(n,t,e){const i=this;let r;return s;function s(p){return n.enter("definition"),o(p)}function o(p){return oR.call(i,n,a,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return r=ar(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),l):e(p)}function l(p){return Bt(p)?od(n,u)(p):u(p)}function u(p){return sR(n,c,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return n.attempt(WB,d,d)(p)}function d(p){return yt(p)?St(n,f,"whitespace")(p):f(p)}function f(p){return p===null||it(p)?(n.exit("definition"),i.parser.defined.push(r),t(p)):e(p)}}function qB(n,t,e){return i;function i(a){return Bt(a)?od(n,r)(a):e(a)}function r(a){return aR(n,s,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return yt(a)?St(n,o,"whitespace")(a):o(a)}function o(a){return a===null||it(a)?t(a):e(a)}}const XB={name:"hardBreakEscape",tokenize:YB};function YB(n,t,e){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return it(s)?(n.exit("hardBreakEscape"),t(s)):e(s)}}const KB={name:"headingAtx",resolve:QB,tokenize:JB};function QB(n,t){let e=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),e-2>i&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&n[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[e][1].end},s={type:"chunkText",start:n[i][1].start,end:n[e][1].end,contentType:"text"},di(n,i,e-i+1,[["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t]])),n}function JB(n,t,e){let i=0;return r;function r(c){return n.enter("atxHeading"),s(c)}function s(c){return n.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(n.consume(c),o):c===null||Bt(c)?(n.exit("atxHeadingSequence"),a(c)):e(c)}function a(c){return c===35?(n.enter("atxHeadingSequence"),l(c)):c===null||it(c)?(n.exit("atxHeading"),t(c)):yt(c)?St(n,a,"whitespace")(c):(n.enter("atxHeadingText"),u(c))}function l(c){return c===35?(n.consume(c),l):(n.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Bt(c)?(n.exit("atxHeadingText"),a(c)):(n.consume(c),u)}}const ZB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lk=["pre","script","style","textarea"],tj={concrete:!0,name:"htmlFlow",resolveTo:ij,tokenize:rj},ej={partial:!0,tokenize:oj},nj={partial:!0,tokenize:sj};function ij(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function rj(n,t,e){const i=this;let r,s,o,a,l;return u;function u(M){return c(M)}function c(M){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(M),d}function d(M){return M===33?(n.consume(M),f):M===47?(n.consume(M),s=!0,m):M===63?(n.consume(M),r=3,i.interrupt?t:T):bn(M)?(n.consume(M),o=String.fromCharCode(M),x):e(M)}function f(M){return M===45?(n.consume(M),r=2,p):M===91?(n.consume(M),r=5,a=0,g):bn(M)?(n.consume(M),r=4,i.interrupt?t:T):e(M)}function p(M){return M===45?(n.consume(M),i.interrupt?t:T):e(M)}function g(M){const _t="CDATA[";return M===_t.charCodeAt(a++)?(n.consume(M),a===_t.length?i.interrupt?t:F:g):e(M)}function m(M){return bn(M)?(n.consume(M),o=String.fromCharCode(M),x):e(M)}function x(M){if(M===null||M===47||M===62||Bt(M)){const _t=M===47,Qt=o.toLowerCase();return!_t&&!s&&lk.includes(Qt)?(r=1,i.interrupt?t(M):F(M)):ZB.includes(o.toLowerCase())?(r=6,_t?(n.consume(M),y):i.interrupt?t(M):F(M)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(M):s?b(M):w(M))}return M===45||on(M)?(n.consume(M),o+=String.fromCharCode(M),x):e(M)}function y(M){return M===62?(n.consume(M),i.interrupt?t:F):e(M)}function b(M){return yt(M)?(n.consume(M),b):P(M)}function w(M){return M===47?(n.consume(M),P):M===58||M===95||bn(M)?(n.consume(M),k):yt(M)?(n.consume(M),w):P(M)}function k(M){return M===45||M===46||M===58||M===95||on(M)?(n.consume(M),k):E(M)}function E(M){return M===61?(n.consume(M),A):yt(M)?(n.consume(M),E):w(M)}function A(M){return M===null||M===60||M===61||M===62||M===96?e(M):M===34||M===39?(n.consume(M),l=M,C):yt(M)?(n.consume(M),A):R(M)}function C(M){return M===l?(n.consume(M),l=null,L):M===null||it(M)?e(M):(n.consume(M),C)}function R(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Bt(M)?E(M):(n.consume(M),R)}function L(M){return M===47||M===62||yt(M)?w(M):e(M)}function P(M){return M===62?(n.consume(M),I):e(M)}function I(M){return M===null||it(M)?F(M):yt(M)?(n.consume(M),I):e(M)}function F(M){return M===45&&r===2?(n.consume(M),z):M===60&&r===1?(n.consume(M),j):M===62&&r===4?(n.consume(M),rt):M===63&&r===3?(n.consume(M),T):M===93&&r===5?(n.consume(M),W):it(M)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(ej,nt,Y)(M)):M===null||it(M)?(n.exit("htmlFlowData"),Y(M)):(n.consume(M),F)}function Y(M){return n.check(nj,q,nt)(M)}function q(M){return n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),V}function V(M){return M===null||it(M)?Y(M):(n.enter("htmlFlowData"),F(M))}function z(M){return M===45?(n.consume(M),T):F(M)}function j(M){return M===47?(n.consume(M),o="",B):F(M)}function B(M){if(M===62){const _t=o.toLowerCase();return lk.includes(_t)?(n.consume(M),rt):F(M)}return bn(M)&&o.length<8?(n.consume(M),o+=String.fromCharCode(M),B):F(M)}function W(M){return M===93?(n.consume(M),T):F(M)}function T(M){return M===62?(n.consume(M),rt):M===45&&r===2?(n.consume(M),T):F(M)}function rt(M){return M===null||it(M)?(n.exit("htmlFlowData"),nt(M)):(n.consume(M),rt)}function nt(M){return n.exit("htmlFlow"),t(M)}}function sj(n,t,e){const i=this;return r;function r(o){return it(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):e(o)}function s(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}function oj(n,t,e){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(kp,t,e)}}const aj={name:"htmlText",tokenize:lj};function lj(n,t,e){const i=this;let r,s,o;return a;function a(T){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(T),l}function l(T){return T===33?(n.consume(T),u):T===47?(n.consume(T),E):T===63?(n.consume(T),w):bn(T)?(n.consume(T),R):e(T)}function u(T){return T===45?(n.consume(T),c):T===91?(n.consume(T),s=0,g):bn(T)?(n.consume(T),b):e(T)}function c(T){return T===45?(n.consume(T),p):e(T)}function d(T){return T===null?e(T):T===45?(n.consume(T),f):it(T)?(o=d,j(T)):(n.consume(T),d)}function f(T){return T===45?(n.consume(T),p):d(T)}function p(T){return T===62?z(T):T===45?f(T):d(T)}function g(T){const rt="CDATA[";return T===rt.charCodeAt(s++)?(n.consume(T),s===rt.length?m:g):e(T)}function m(T){return T===null?e(T):T===93?(n.consume(T),x):it(T)?(o=m,j(T)):(n.consume(T),m)}function x(T){return T===93?(n.consume(T),y):m(T)}function y(T){return T===62?z(T):T===93?(n.consume(T),y):m(T)}function b(T){return T===null||T===62?z(T):it(T)?(o=b,j(T)):(n.consume(T),b)}function w(T){return T===null?e(T):T===63?(n.consume(T),k):it(T)?(o=w,j(T)):(n.consume(T),w)}function k(T){return T===62?z(T):w(T)}function E(T){return bn(T)?(n.consume(T),A):e(T)}function A(T){return T===45||on(T)?(n.consume(T),A):C(T)}function C(T){return it(T)?(o=C,j(T)):yt(T)?(n.consume(T),C):z(T)}function R(T){return T===45||on(T)?(n.consume(T),R):T===47||T===62||Bt(T)?L(T):e(T)}function L(T){return T===47?(n.consume(T),z):T===58||T===95||bn(T)?(n.consume(T),P):it(T)?(o=L,j(T)):yt(T)?(n.consume(T),L):z(T)}function P(T){return T===45||T===46||T===58||T===95||on(T)?(n.consume(T),P):I(T)}function I(T){return T===61?(n.consume(T),F):it(T)?(o=I,j(T)):yt(T)?(n.consume(T),I):L(T)}function F(T){return T===null||T===60||T===61||T===62||T===96?e(T):T===34||T===39?(n.consume(T),r=T,Y):it(T)?(o=F,j(T)):yt(T)?(n.consume(T),F):(n.consume(T),q)}function Y(T){return T===r?(n.consume(T),r=void 0,V):T===null?e(T):it(T)?(o=Y,j(T)):(n.consume(T),Y)}function q(T){return T===null||T===34||T===39||T===60||T===61||T===96?e(T):T===47||T===62||Bt(T)?L(T):(n.consume(T),q)}function V(T){return T===47||T===62||Bt(T)?L(T):e(T)}function z(T){return T===62?(n.consume(T),n.exit("htmlTextData"),n.exit("htmlText"),t):e(T)}function j(T){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),B}function B(T){return yt(T)?St(n,W,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):W(T)}function W(T){return n.enter("htmlTextData"),o(T)}}const f1={name:"labelEnd",resolveAll:dj,resolveTo:fj,tokenize:pj},uj={tokenize:gj},cj={tokenize:mj},hj={tokenize:yj};function dj(n){let t=-1;const e=[];for(;++t<n.length;){const i=n[t][1];if(e.push(n[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return n.length!==e.length&&di(n,0,n.length,e),n}function fj(n,t){let e=n.length,i=0,r,s,o,a;for(;e--;)if(r=n[e][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[e][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(n[e][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=e,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=e);const l={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},u={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},c={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Ti(a,n.slice(s+1,s+i+3)),a=Ti(a,[["enter",c,t]]),a=Ti(a,e0(t.parser.constructs.insideSpan.null,n.slice(s+i+4,o-3),t)),a=Ti(a,[["exit",c,t],n[o-2],n[o-1],["exit",u,t]]),a=Ti(a,n.slice(o+1)),a=Ti(a,[["exit",l,t]]),di(n,s,n.length,a),n}function pj(n,t,e){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return a;function a(f){return s?s._inactive?d(f):(o=i.parser.defined.includes(ar(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelEnd"),l):e(f)}function l(f){return f===40?n.attempt(uj,c,o?c:d)(f):f===91?n.attempt(cj,c,o?u:d)(f):o?c(f):d(f)}function u(f){return n.attempt(hj,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,e(f)}}function gj(n,t,e){return i;function i(d){return n.enter("resource"),n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),r}function r(d){return Bt(d)?od(n,s)(d):s(d)}function s(d){return d===41?c(d):sR(n,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Bt(d)?od(n,l)(d):c(d)}function a(d){return e(d)}function l(d){return d===34||d===39||d===40?aR(n,u,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Bt(d)?od(n,c)(d):c(d)}function c(d){return d===41?(n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),n.exit("resource"),t):e(d)}}function mj(n,t,e){const i=this;return r;function r(a){return oR.call(i,n,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return i.parser.defined.includes(ar(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(a):e(a)}function o(a){return e(a)}}function yj(n,t,e){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),t):e(s)}}const bj={name:"labelStartImage",resolveAll:f1.resolveAll,tokenize:xj};function xj(n,t,e){const i=this;return r;function r(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):e(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(a):t(a)}}const wj={name:"labelStartLink",resolveAll:f1.resolveAll,tokenize:vj};function vj(n,t,e){const i=this;return r;function r(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(o):t(o)}}const K0={name:"lineEnding",tokenize:_j};function _j(n,t){return e;function e(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),St(n,t,"linePrefix")}}const im={name:"thematicBreak",tokenize:Sj};function Sj(n,t,e){let i=0,r;return s;function s(u){return n.enter("thematicBreak"),o(u)}function o(u){return r=u,a(u)}function a(u){return u===r?(n.enter("thematicBreakSequence"),l(u)):i>=3&&(u===null||it(u))?(n.exit("thematicBreak"),t(u)):e(u)}function l(u){return u===r?(n.consume(u),i++,l):(n.exit("thematicBreakSequence"),yt(u)?St(n,a,"whitespace")(u):a(u))}}const Tn={continuation:{tokenize:Cj},exit:Pj,name:"list",tokenize:Ej},kj={partial:!0,tokenize:Mj},Aj={partial:!0,tokenize:Tj};function Ej(n,t,e){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return a;function a(p){const g=i.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!i.containerState.marker||p===i.containerState.marker:Nw(p)){if(i.containerState.type||(i.containerState.type=g,n.enter(g,{_container:!0})),g==="listUnordered")return n.enter("listItemPrefix"),p===42||p===45?n.check(im,e,u)(p):u(p);if(!i.interrupt||p===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(p)}return e(p)}function l(p){return Nw(p)&&++o<10?(n.consume(p),l):(!i.interrupt||o<2)&&(i.containerState.marker?p===i.containerState.marker:p===41||p===46)?(n.exit("listItemValue"),u(p)):e(p)}function u(p){return n.enter("listItemMarker"),n.consume(p),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||p,n.check(kp,i.interrupt?e:c,n.attempt(kj,f,d))}function c(p){return i.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return yt(p)?(n.enter("listItemPrefixWhitespace"),n.consume(p),n.exit("listItemPrefixWhitespace"),f):e(p)}function f(p){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(p)}}function Cj(n,t,e){const i=this;return i.containerState._closeFlow=void 0,n.check(kp,r,s);function r(a){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,St(n,t,"listItemIndent",i.containerState.size+1)(a)}function s(a){return i.containerState.furtherBlankLines||!yt(a)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(a)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(Aj,t,o)(a))}function o(a){return i.containerState._closeFlow=!0,i.interrupt=void 0,St(n,n.attempt(Tn,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Tj(n,t,e){const i=this;return St(n,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(s):e(s)}}function Pj(n){n.exit(this.containerState.type)}function Mj(n,t,e){const i=this;return St(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!yt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):e(s)}}const uk={name:"setextUnderline",resolveTo:Rj,tokenize:Lj};function Rj(n,t){let e=n.length,i,r,s;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){i=e;break}n[e][1].type==="paragraph"&&(r=e)}else n[e][1].type==="content"&&n.splice(e,1),!s&&n[e][1].type==="definition"&&(s=e);const o={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",o,t]),n.splice(s+1,0,["exit",n[i][1],t]),n[i][1].end={...n[s][1].end}):n[i][1]=o,n.push(["exit",o,t]),n}function Lj(n,t,e){const i=this;let r;return s;function s(u){let c=i.events.length,d;for(;c--;)if(i.events[c][1].type!=="lineEnding"&&i.events[c][1].type!=="linePrefix"&&i.events[c][1].type!=="content"){d=i.events[c][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||d)?(n.enter("setextHeadingLine"),r=u,o(u)):e(u)}function o(u){return n.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===r?(n.consume(u),a):(n.exit("setextHeadingLineSequence"),yt(u)?St(n,l,"lineSuffix")(u):l(u))}function l(u){return u===null||it(u)?(n.exit("setextHeadingLine"),t(u)):e(u)}}const Ij={tokenize:Dj};function Dj(n){const t=this,e=n.attempt(kp,i,n.attempt(this.parser.constructs.flowInitial,r,St(n,n.attempt(this.parser.constructs.flow,r,n.attempt(BB,r)),"linePrefix")));return e;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),t.currentConstruct=void 0,e}}const Oj={resolveAll:uR()},Fj=lR("string"),Nj=lR("text");function lR(n){return{resolveAll:uR(n==="text"?zj:void 0),tokenize:t};function t(e){const i=this,r=this.parser.constructs[n],s=e.attempt(r,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){e.consume(c);return}return e.enter("data"),e.consume(c),l}function l(c){return u(c)?(e.exit("data"),s(c)):(e.consume(c),l)}function u(c){if(c===null)return!0;const d=r[c];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(i,i.previous))return!0}return!1}}}function uR(n){return t;function t(e,i){let r=-1,s;for(;++r<=e.length;)s===void 0?e[r]&&e[r][1].type==="data"&&(s=r,r++):(!e[r]||e[r][1].type!=="data")&&(r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(e,i):e}}function zj(n,t){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){const i=n[e-1][1],r=t.sliceStream(i);let s=r.length,o=-1,a=0,l;for(;s--;){const u=r[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:e===n.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-a,offset:i.end.offset-a},end:{...i.end}};i.end={...u.start},i.start.offset===i.end.offset?Object.assign(i,u):(n.splice(e,0,["enter",u,t],["exit",u,t]),e+=2)}e++}return n}const Bj={42:Tn,43:Tn,45:Tn,48:Tn,49:Tn,50:Tn,51:Tn,52:Tn,53:Tn,54:Tn,55:Tn,56:Tn,57:Tn,62:eR},jj={91:VB},Hj={[-2]:Y0,[-1]:Y0,32:Y0},$j={35:KB,42:im,45:[uk,im],60:tj,61:uk,95:im,96:ak,126:ak},Uj={38:iR,92:nR},Vj={[-5]:K0,[-4]:K0,[-3]:K0,33:bj,38:iR,42:zw,60:[wB,aj],91:wj,92:[XB,nR],93:f1,95:zw,96:IB},Wj={null:[zw,Oj]},Gj={null:[42,95]},qj={null:[]},Xj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Gj,contentInitial:jj,disable:qj,document:Bj,flow:$j,flowInitial:Hj,insideSpan:Wj,string:Uj,text:Vj},Symbol.toStringTag,{value:"Module"}));function Yj(n,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const r={},s=[];let o=[],a=[];const l={attempt:C(E),check:C(A),consume:b,enter:w,exit:k,interrupt:C(A,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:n,previous:null,sliceSerialize:f,sliceStream:p,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(I){return o=Ti(o,I),x(),o[o.length-1]!==null?[]:(R(t,0),u.events=e0(s,u.events,u),u.events)}function f(I,F){return Qj(p(I),F)}function p(I){return Kj(o,I)}function g(){const{_bufferIndex:I,_index:F,line:Y,column:q,offset:V}=i;return{_bufferIndex:I,_index:F,line:Y,column:q,offset:V}}function m(I){r[I.line]=I.column,P()}function x(){let I;for(;i._index<o.length;){const F=o[i._index];if(typeof F=="string")for(I=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===I&&i._bufferIndex<F.length;)y(F.charCodeAt(i._bufferIndex));else y(F)}}function y(I){c=c(I)}function b(I){it(I)?(i.line++,i.column=1,i.offset+=I===-3?2:1,P()):I!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),u.previous=I}function w(I,F){const Y=F||{};return Y.type=I,Y.start=g(),u.events.push(["enter",Y,u]),a.push(Y),Y}function k(I){const F=a.pop();return F.end=g(),u.events.push(["exit",F,u]),F}function E(I,F){R(I,F.from)}function A(I,F){F.restore()}function C(I,F){return Y;function Y(q,V,z){let j,B,W,T;return Array.isArray(q)?nt(q):"tokenize"in q?nt([q]):rt(q);function rt(ot){return xt;function xt(cn){const Vr=cn!==null&&ot[cn],Vs=cn!==null&&ot.null,Cp=[...Array.isArray(Vr)?Vr:Vr?[Vr]:[],...Array.isArray(Vs)?Vs:Vs?[Vs]:[]];return nt(Cp)(cn)}}function nt(ot){return j=ot,B=0,ot.length===0?z:M(ot[B])}function M(ot){return xt;function xt(cn){return T=L(),W=ot,ot.partial||(u.currentConstruct=ot),ot.name&&u.parser.constructs.disable.null.includes(ot.name)?Qt():ot.tokenize.call(F?Object.assign(Object.create(u),F):u,l,_t,Qt)(cn)}}function _t(ot){return I(W,T),V}function Qt(ot){return T.restore(),++B<j.length?M(j[B]):z}}}function R(I,F){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&di(u.events,F,u.events.length-F,I.resolve(u.events.slice(F),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function L(){const I=g(),F=u.previous,Y=u.currentConstruct,q=u.events.length,V=Array.from(a);return{from:q,restore:z};function z(){i=I,u.previous=F,u.currentConstruct=Y,u.events.length=q,a=V,P()}}function P(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Kj(n,t){const e=t.start._index,i=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let o;if(e===r)o=[n[e].slice(i,s)];else{if(o=n.slice(e,r),i>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(i):o.shift()}s>0&&o.push(n[r].slice(0,s))}return o}function Qj(n,t){let e=-1;const i=[];let r;for(;++e<n.length;){const s=n[e];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function Jj(n){const i={constructs:ZM([Xj,...(n||{}).extensions||[]]),content:r(fB),defined:[],document:r(gB),flow:r(Ij),lazy:{},string:r(Fj),text:r(Nj)};return i;function r(s){return o;function o(a){return Yj(i,s,a)}}}function Zj(n){for(;!rR(n););return n}const ck=/[\0\t\n\r]/g;function t4(){let n=1,t="",e=!0,i;return r;function r(s,o,a){const l=[];let u,c,d,f,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",e&&(s.charCodeAt(0)===65279&&d++,e=void 0);d<s.length;){if(ck.lastIndex=d,u=ck.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){t=s.slice(d);break}if(p===10&&d===f&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),d<f&&(l.push(s.slice(d,f)),n+=f-d),p){case 0:{l.push(65533),n++;break}case 9:{for(c=Math.ceil(n/4)*4,l.push(-2);n++<c;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:i=!0,n=1}d=f+1}return a&&(i&&l.push(-5),t&&l.push(t),l.push(null)),l}}const e4=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function n4(n){return n.replace(e4,i4)}function i4(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const r=e.charCodeAt(1),s=r===120||r===88;return tR(e.slice(s?2:1),s?16:10)}return d1(e)||n}const cR={}.hasOwnProperty;function r4(n,t,e){return typeof t!="string"&&(e=t,t=void 0),s4(e)(Zj(Jj(e).document().write(t4()(n,t,!0))))}function s4(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(X1),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(W1),blockQuote:s(Vs),characterEscape:L,characterReference:L,codeFenced:s(Cp),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Cp,o),codeText:s(LL,o),codeTextData:L,data:L,codeFlowValue:L,definition:s(IL),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(DL),hardBreakEscape:s(G1),hardBreakTrailing:s(G1),htmlFlow:s(q1,o),htmlFlowData:L,htmlText:s(q1,o),htmlTextData:L,image:s(OL),label:o,link:s(X1),listItem:s(FL),listItemValue:f,listOrdered:s(Y1,d),listUnordered:s(Y1),paragraph:s(NL),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(W1),strong:s(zL),thematicBreak:s(jL)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:Vr,autolinkProtocol:cn,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Qt,characterReferenceMarkerNumeric:Qt,characterReferenceValue:ot,characterReference:xt,codeFenced:l(x),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:P,codeIndented:l(y),codeText:l(V),codeTextData:P,data:P,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l(Y),htmlFlowData:P,htmlText:l(q),htmlTextData:P,image:l(j),label:W,labelText:B,lineEnding:I,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:_t,resourceDestinationString:T,resourceTitleString:rt,resource:nt,setextHeading:l(R),setextHeadingLineSequence:C,setextHeadingText:A,strong:l(),thematicBreak:l()}};hR(t,(n||{}).mdastExtensions||[]);const e={};return i;function i(N){let G={type:"root",children:[]};const lt={stack:[G],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:e},wt=[];let Ft=-1;for(;++Ft<N.length;)if(N[Ft][1].type==="listOrdered"||N[Ft][1].type==="listUnordered")if(N[Ft][0]==="enter")wt.push(Ft);else{const Bi=wt.pop();Ft=r(N,Bi,Ft)}for(Ft=-1;++Ft<N.length;){const Bi=t[N[Ft][0]];cR.call(Bi,N[Ft][1].type)&&Bi[N[Ft][1].type].call(Object.assign({sliceSerialize:N[Ft][2].sliceSerialize},lt),N[Ft][1])}if(lt.tokenStack.length>0){const Bi=lt.tokenStack[lt.tokenStack.length-1];(Bi[1]||hk).call(lt,void 0,Bi[0])}for(G.position={start:Gs(N.length>0?N[0][1].start:{line:1,column:1,offset:0}),end:Gs(N.length>0?N[N.length-2][1].end:{line:1,column:1,offset:0})},Ft=-1;++Ft<t.transforms.length;)G=t.transforms[Ft](G)||G;return G}function r(N,G,lt){let wt=G-1,Ft=-1,Bi=!1,ia,Wr,ih,rh;for(;++wt<=lt;){const Wn=N[wt];switch(Wn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Wn[0]==="enter"?Ft++:Ft--,rh=void 0;break}case"lineEndingBlank":{Wn[0]==="enter"&&(ia&&!rh&&!Ft&&!ih&&(ih=wt),rh=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rh=void 0}if(!Ft&&Wn[0]==="enter"&&Wn[1].type==="listItemPrefix"||Ft===-1&&Wn[0]==="exit"&&(Wn[1].type==="listUnordered"||Wn[1].type==="listOrdered")){if(ia){let Xl=wt;for(Wr=void 0;Xl--;){const Gr=N[Xl];if(Gr[1].type==="lineEnding"||Gr[1].type==="lineEndingBlank"){if(Gr[0]==="exit")continue;Wr&&(N[Wr][1].type="lineEndingBlank",Bi=!0),Gr[1].type="lineEnding",Wr=Xl}else if(!(Gr[1].type==="linePrefix"||Gr[1].type==="blockQuotePrefix"||Gr[1].type==="blockQuotePrefixWhitespace"||Gr[1].type==="blockQuoteMarker"||Gr[1].type==="listItemIndent"))break}ih&&(!Wr||ih<Wr)&&(ia._spread=!0),ia.end=Object.assign({},Wr?N[Wr][1].start:Wn[1].end),N.splice(Wr||wt,0,["exit",ia,Wn[2]]),wt++,lt++}if(Wn[1].type==="listItemPrefix"){const Xl={type:"listItem",_spread:!1,start:Object.assign({},Wn[1].start),end:void 0};ia=Xl,N.splice(wt,0,["enter",Xl,Wn[2]]),wt++,lt++,ih=void 0,rh=!0}}}return N[G][1]._spread=Bi,lt}function s(N,G){return lt;function lt(wt){a.call(this,N(wt),wt),G&&G.call(this,wt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(N,G,lt){this.stack[this.stack.length-1].children.push(N),this.stack.push(N),this.tokenStack.push([G,lt||void 0]),N.position={start:Gs(G.start),end:void 0}}function l(N){return G;function G(lt){N&&N.call(this,lt),u.call(this,lt)}}function u(N,G){const lt=this.stack.pop(),wt=this.tokenStack.pop();if(wt)wt[0].type!==N.type&&(G?G.call(this,N,wt[0]):(wt[1]||hk).call(this,N,wt[0]));else throw new Error("Cannot close `"+N.type+"` ("+sd({start:N.start,end:N.end})+"): its not open");lt.position.end=Gs(N.end)}function c(){return h1(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(N){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(N),10),this.data.expectingFirstListItemValue=void 0}}function p(){const N=this.resume(),G=this.stack[this.stack.length-1];G.lang=N}function g(){const N=this.resume(),G=this.stack[this.stack.length-1];G.meta=N}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const N=this.resume(),G=this.stack[this.stack.length-1];G.value=N.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const N=this.resume(),G=this.stack[this.stack.length-1];G.value=N.replace(/(\r?\n|\r)$/g,"")}function b(N){const G=this.resume(),lt=this.stack[this.stack.length-1];lt.label=G,lt.identifier=ar(this.sliceSerialize(N)).toLowerCase()}function w(){const N=this.resume(),G=this.stack[this.stack.length-1];G.title=N}function k(){const N=this.resume(),G=this.stack[this.stack.length-1];G.url=N}function E(N){const G=this.stack[this.stack.length-1];if(!G.depth){const lt=this.sliceSerialize(N).length;G.depth=lt}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function C(N){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(N).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function L(N){const lt=this.stack[this.stack.length-1].children;let wt=lt[lt.length-1];(!wt||wt.type!=="text")&&(wt=BL(),wt.position={start:Gs(N.start),end:void 0},lt.push(wt)),this.stack.push(wt)}function P(N){const G=this.stack.pop();G.value+=this.sliceSerialize(N),G.position.end=Gs(N.end)}function I(N){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const lt=G.children[G.children.length-1];lt.position.end=Gs(N.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(G.type)&&(L.call(this,N),P.call(this,N))}function F(){this.data.atHardBreak=!0}function Y(){const N=this.resume(),G=this.stack[this.stack.length-1];G.value=N}function q(){const N=this.resume(),G=this.stack[this.stack.length-1];G.value=N}function V(){const N=this.resume(),G=this.stack[this.stack.length-1];G.value=N}function z(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=G,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function j(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=G,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function B(N){const G=this.sliceSerialize(N),lt=this.stack[this.stack.length-2];lt.label=n4(G),lt.identifier=ar(G).toLowerCase()}function W(){const N=this.stack[this.stack.length-1],G=this.resume(),lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,lt.type==="link"){const wt=N.children;lt.children=wt}else lt.alt=G}function T(){const N=this.resume(),G=this.stack[this.stack.length-1];G.url=N}function rt(){const N=this.resume(),G=this.stack[this.stack.length-1];G.title=N}function nt(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function _t(N){const G=this.resume(),lt=this.stack[this.stack.length-1];lt.label=G,lt.identifier=ar(this.sliceSerialize(N)).toLowerCase(),this.data.referenceType="full"}function Qt(N){this.data.characterReferenceType=N.type}function ot(N){const G=this.sliceSerialize(N),lt=this.data.characterReferenceType;let wt;lt?(wt=tR(G,lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):wt=d1(G);const Ft=this.stack[this.stack.length-1];Ft.value+=wt}function xt(N){const G=this.stack.pop();G.position.end=Gs(N.end)}function cn(N){P.call(this,N);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(N)}function Vr(N){P.call(this,N);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(N)}function Vs(){return{type:"blockquote",children:[]}}function Cp(){return{type:"code",lang:null,meta:null,value:""}}function LL(){return{type:"inlineCode",value:""}}function IL(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function DL(){return{type:"emphasis",children:[]}}function W1(){return{type:"heading",depth:0,children:[]}}function G1(){return{type:"break"}}function q1(){return{type:"html",value:""}}function OL(){return{type:"image",title:null,url:"",alt:null}}function X1(){return{type:"link",title:null,url:"",children:[]}}function Y1(N){return{type:"list",ordered:N.type==="listOrdered",start:null,spread:N._spread,children:[]}}function FL(N){return{type:"listItem",spread:N._spread,checked:null,children:[]}}function NL(){return{type:"paragraph",children:[]}}function zL(){return{type:"strong",children:[]}}function BL(){return{type:"text",value:""}}function jL(){return{type:"thematicBreak"}}}function Gs(n){return{line:n.line,column:n.column,offset:n.offset}}function hR(n,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?hR(n,i):o4(n,i)}}function o4(n,t){let e;for(e in t)if(cR.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&n[e].push(...i);break}case"transforms":{const i=t[e];i&&n[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(n[e],i);break}}}function hk(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+sd({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+sd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+sd({start:t.start,end:t.end})+") is still open")}function a4(n){const t=this;t.parser=e;function e(i){return r4(i,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function l4(n,t){const e={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,e),n.applyData(t,e)}function u4(n,t){const e={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,e),[n.applyData(t,e),{type:"text",value:`
`}]}function c4(n,t){const e=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(r.data={meta:t.meta}),n.patch(t,r),r=n.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(t,r),r}function h4(n,t){const e={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function d4(n,t){const e={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function f4(n,t){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=th(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let o,a=n.footnoteCounts.get(i);a===void 0?(a=0,n.footnoteOrder.push(i),o=n.footnoteOrder.length):o=s+1,a+=1,n.footnoteCounts.set(i,a);const l={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+r,id:e+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return n.patch(t,u),n.applyData(t,u)}function p4(n,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function g4(n,t){if(n.options.allowDangerousHtml){const e={type:"raw",value:t.value};return n.patch(t,e),n.applyData(t,e)}}function dR(n,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=n.all(t),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function m4(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return dR(n,t);const r={src:th(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(t,s),n.applyData(t,s)}function y4(n,t){const e={src:th(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return n.patch(t,i),n.applyData(t,i)}function b4(n,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return n.patch(t,i),n.applyData(t,i)}function x4(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return dR(n,t);const r={href:th(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function w4(n,t){const e={href:th(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function v4(n,t,e){const i=n.all(t),r=e?_4(e):fR(t),s={},o=[];if(typeof t.checked=="boolean"){const c=i[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},i.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const c=i[a];(r||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!r?o.push(...c.children):o.push(c)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return n.patch(t,u),n.applyData(t,u)}function _4(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const e=n.children;let i=-1;for(;!t&&++i<e.length;)t=fR(e[i])}return t}function fR(n){const t=n.spread;return t??n.children.length>1}function S4(n,t){const e={},i=n.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:n.wrap(i,!0)};return n.patch(t,s),n.applyData(t,s)}function k4(n,t){const e={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function A4(n,t){const e={type:"root",children:n.wrap(n.all(t))};return n.patch(t,e),n.applyData(t,e)}function E4(n,t){const e={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function C4(n,t){const e=n.all(t),i=e.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(t.children[0],o),r.push(o)}if(e.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(e,!0)},a=a1(t.children[1]),l=GM(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(t,s),n.applyData(t,s)}function T4(n,t,e){const i=e?e.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",o=e&&e.type==="table"?e.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:s,properties:f,children:[]};d&&(g.children=n.all(d),n.patch(d,g),g=n.applyData(d,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:n.wrap(u,!0)};return n.patch(t,c),n.applyData(t,c)}function P4(n,t){const e={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}const dk=9,fk=32;function M4(n){const t=String(n),e=/\r?\n|\r/g;let i=e.exec(t),r=0;const s=[];for(;i;)s.push(pk(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=e.exec(t);return s.push(pk(t.slice(r),r>0,!1)),s.join("")}function pk(n,t,e){let i=0,r=n.length;if(t){let s=n.codePointAt(i);for(;s===dk||s===fk;)i++,s=n.codePointAt(i)}if(e){let s=n.codePointAt(r-1);for(;s===dk||s===fk;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function R4(n,t){const e={type:"text",value:M4(String(t.value))};return n.patch(t,e),n.applyData(t,e)}function L4(n,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,e),n.applyData(t,e)}const I4={blockquote:l4,break:u4,code:c4,delete:h4,emphasis:d4,footnoteReference:f4,heading:p4,html:g4,imageReference:m4,image:y4,inlineCode:b4,linkReference:x4,link:w4,listItem:v4,list:S4,paragraph:k4,root:A4,strong:E4,table:C4,tableCell:P4,tableRow:T4,text:R4,thematicBreak:L4,toml:Yp,yaml:Yp,definition:Yp,footnoteDefinition:Yp};function Yp(){}const pR=-1,n0=0,ad=1,qm=2,p1=3,g1=4,m1=5,y1=6,gR=7,mR=8,gk=typeof self=="object"?self:globalThis,D4=(n,t)=>{const e=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,o]=t[r];switch(s){case n0:case pR:return e(o,r);case ad:{const a=e([],r);for(const l of o)a.push(i(l));return a}case qm:{const a=e({},r);for(const[l,u]of o)a[i(l)]=i(u);return a}case p1:return e(new Date(o),r);case g1:{const{source:a,flags:l}=o;return e(new RegExp(a,l),r)}case m1:{const a=e(new Map,r);for(const[l,u]of o)a.set(i(l),i(u));return a}case y1:{const a=e(new Set,r);for(const l of o)a.add(i(l));return a}case gR:{const{name:a,message:l}=o;return e(new gk[a](l),r)}case mR:return e(BigInt(o),r);case"BigInt":return e(Object(BigInt(o)),r);case"ArrayBuffer":return e(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return e(new DataView(a),o)}}return e(new gk[s](o),r)};return i},mk=n=>D4(new Map,n)(0),Kl="",{toString:O4}={},{keys:F4}=Object,xh=n=>{const t=typeof n;if(t!=="object"||!n)return[n0,t];const e=O4.call(n).slice(8,-1);switch(e){case"Array":return[ad,Kl];case"Object":return[qm,Kl];case"Date":return[p1,Kl];case"RegExp":return[g1,Kl];case"Map":return[m1,Kl];case"Set":return[y1,Kl];case"DataView":return[ad,e]}return e.includes("Array")?[ad,e]:e.includes("Error")?[gR,e]:[qm,e]},Kp=([n,t])=>n===n0&&(t==="function"||t==="symbol"),N4=(n,t,e,i)=>{const r=(o,a)=>{const l=i.push(o)-1;return e.set(a,l),l},s=o=>{if(e.has(o))return e.get(o);let[a,l]=xh(o);switch(a){case n0:{let c=o;switch(l){case"bigint":a=mR,c=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return r([pR],o)}return r([a,c],o)}case ad:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),r([l,[...f]],o)}const c=[],d=r([a,c],o);for(const f of o)c.push(s(f));return d}case qm:{if(l)switch(l){case"BigInt":return r([l,o.toString()],o);case"Boolean":case"Number":case"String":return r([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=r([a,c],o);for(const f of F4(o))(n||!Kp(xh(o[f])))&&c.push([s(f),s(o[f])]);return d}case p1:return r([a,o.toISOString()],o);case g1:{const{source:c,flags:d}=o;return r([a,{source:c,flags:d}],o)}case m1:{const c=[],d=r([a,c],o);for(const[f,p]of o)(n||!(Kp(xh(f))||Kp(xh(p))))&&c.push([s(f),s(p)]);return d}case y1:{const c=[],d=r([a,c],o);for(const f of o)(n||!Kp(xh(f)))&&c.push(s(f));return d}}const{message:u}=o;return r([a,{name:l,message:u}],o)};return s},yk=(n,{json:t,lossy:e}={})=>{const i=[];return N4(!(t||e),!!t,new Map,i)(n),i},Xm=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?mk(yk(n,t)):structuredClone(n):(n,t)=>mk(yk(n,t));function z4(n,t){const e=[{type:"text",value:""}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function B4(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function j4(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",e=n.options.footnoteBackContent||z4,i=n.options.footnoteBackLabel||B4,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<n.footnoteOrder.length;){const u=n.footnoteById.get(n.footnoteOrder[l]);if(!u)continue;const c=n.all(u),d=String(u.identifier).toUpperCase(),f=th(d.toLowerCase());let p=0;const g=[],m=n.footnoteCounts.get(d);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let b=typeof e=="string"?e:e(l,p);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else c.push(...g);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:n.wrap(c,!0)};n.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Xm(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(a,!0)},{type:"text",value:`
`}]}}const i0=function(n){if(n==null)return V4;if(typeof n=="function")return r0(n);if(typeof n=="object")return Array.isArray(n)?H4(n):$4(n);if(typeof n=="string")return U4(n);throw new Error("Expected function, string, or object as test")};function H4(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=i0(n[e]);return r0(i);function i(...r){let s=-1;for(;++s<t.length;)if(t[s].apply(this,r))return!0;return!1}}function $4(n){const t=n;return r0(e);function e(i){const r=i;let s;for(s in n)if(r[s]!==t[s])return!1;return!0}}function U4(n){return r0(t);function t(e){return e&&e.type===n}}function r0(n){return t;function t(e,i,r){return!!(W4(e)&&n.call(this,e,typeof i=="number"?i:void 0,r||void 0))}}function V4(){return!0}function W4(n){return n!==null&&typeof n=="object"&&"type"in n}const yR=[],G4=!0,Bw=!1,q4="skip";function bR(n,t,e,i){let r;typeof t=="function"&&typeof e!="function"?(i=e,e=t):r=t;const s=i0(r),o=i?-1:1;a(n,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=yR,g,m,x;if((!t||s(l,u,c[c.length-1]||void 0))&&(p=X4(e(l,c)),p[0]===Bw))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==q4)for(m=(i?y.children.length:-1)+o,x=c.concat(y);m>-1&&m<y.children.length;){const b=y.children[m];if(g=a(b,m,x)(),g[0]===Bw)return g;m=typeof g[1]=="number"?g[1]:m+o}}return p}}}function X4(n){return Array.isArray(n)?n:typeof n=="number"?[G4,n]:n==null?yR:[n]}function b1(n,t,e,i){let r,s,o;typeof t=="function"?(s=void 0,o=t,r=e):(s=t,o=e,r=i),bR(n,s,a,r);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const jw={}.hasOwnProperty,Y4={};function K4(n,t){const e=t||Y4,i=new Map,r=new Map,s=new Map,o={...I4,...e.handlers},a={all:u,applyData:J4,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:e,patch:Q4,wrap:t3};return b1(n,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?i:r,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,p=a.handlers[f];if(jw.call(a.handlers,f)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:m,...x}=c,y=Xm(x);return y.children=a.all(c),y}return Xm(c)}return(a.options.unknownHandler||Z4)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let p=-1;for(;++p<f.length;){const g=a.one(f[p],c);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=bk(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=bk(m.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function Q4(n,t){n.position&&(t.position=Nz(n))}function J4(n,t){let e=t;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const o="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:o}}e.type==="element"&&s&&Object.assign(e.properties,Xm(s)),"children"in e&&e.children&&r!==null&&r!==void 0&&(e.children=r)}return e}function Z4(n,t){const e=t.data||{},i="value"in t&&!(jw.call(e,"hProperties")||jw.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function t3(n,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<n.length;)i&&e.push({type:"text",value:`
`}),e.push(n[i]);return t&&n.length>0&&e.push({type:"text",value:`
`}),e}function bk(n){let t=0,e=n.charCodeAt(t);for(;e===9||e===32;)t++,e=n.charCodeAt(t);return n.slice(t)}function xk(n,t){const e=K4(n,t),i=e.one(n,void 0),r=j4(e),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function e3(n,t){return n&&"run"in n?async function(e,i){const r=xk(e,{file:i,...t});await n.run(r,i)}:function(e,i){return xk(e,{file:i,...n||t})}}function wk(n){if(n)throw n}var rm=Object.prototype.hasOwnProperty,xR=Object.prototype.toString,vk=Object.defineProperty,_k=Object.getOwnPropertyDescriptor,Sk=function(t){return typeof Array.isArray=="function"?Array.isArray(t):xR.call(t)==="[object Array]"},kk=function(t){if(!t||xR.call(t)!=="[object Object]")return!1;var e=rm.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&rm.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var r;for(r in t);return typeof r>"u"||rm.call(t,r)},Ak=function(t,e){vk&&e.name==="__proto__"?vk(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},Ek=function(t,e){if(e==="__proto__")if(rm.call(t,e)){if(_k)return _k(t,e).value}else return;return t[e]},n3=function n(){var t,e,i,r,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(e in t)i=Ek(a,e),r=Ek(t,e),a!==r&&(c&&r&&(kk(r)||(s=Sk(r)))?(s?(s=!1,o=i&&Sk(i)?i:[]):o=i&&kk(i)?i:{},Ak(a,{name:e,newValue:n(c,o,r)})):typeof r<"u"&&Ak(a,{name:e,newValue:r}));return a};const Q0=QA(n3);function Hw(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function i3(){const n=[],t={run:e,use:i};return t;function e(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...r);function a(l,...u){const c=n[++s];let d=-1;if(l){o(l);return}for(;++d<r.length;)(u[d]===null||u[d]===void 0)&&(u[d]=r[d]);r=u,c?r3(c,a)(...u):o(null,...u)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),t}}function r3(n,t){let e;return i;function i(...o){const a=n.length>o.length;let l;a&&o.push(r);try{l=n.apply(this,o)}catch(u){const c=u;if(a&&e)throw c;return r(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,r):l instanceof Error?r(l):s(l))}function r(o,...a){e||(e=!0,t(o,...a))}function s(o){r(null,o)}}const wr={basename:s3,dirname:o3,extname:a3,join:l3,sep:"/"};function s3(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ap(n);let e=0,i=-1,r=n.length,s;if(t===void 0||t.length===0||t.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){e=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(e,i)}if(t===n)return"";let o=-1,a=t.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){e=r+1;break}}else o<0&&(s=!0,o=r+1),a>-1&&(n.codePointAt(r)===t.codePointAt(a--)?a<0&&(i=r):(a=-1,i=o));return e===i?i=o:i<0&&(i=n.length),n.slice(e,i)}function o3(n){if(Ap(n),n.length===0)return".";let t=-1,e=n.length,i;for(;--e;)if(n.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function a3(n){Ap(n);let t=n.length,e=-1,i=0,r=-1,s=0,o;for(;t--;){const a=n.codePointAt(t);if(a===47){if(o){i=t+1;break}continue}e<0&&(o=!0,e=t+1),a===46?r<0?r=t:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||e<0||s===0||s===1&&r===e-1&&r===i+1?"":n.slice(r,e)}function l3(...n){let t=-1,e;for(;++t<n.length;)Ap(n[t]),n[t]&&(e=e===void 0?n[t]:e+"/"+n[t]);return e===void 0?".":u3(e)}function u3(n){Ap(n);const t=n.codePointAt(0)===47;let e=c3(n,!t);return e.length===0&&!t&&(e="."),e.length>0&&n.codePointAt(n.length-1)===47&&(e+="/"),t?"/"+e:e}function c3(n,t){let e="",i=0,r=-1,s=0,o=-1,a,l;for(;++o<=n.length;){if(o<n.length)a=n.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(l=e.lastIndexOf("/"),l!==e.length-1){l<0?(e="",i=0):(e=e.slice(0,l),i=e.length-1-e.lastIndexOf("/")),r=o,s=0;continue}}else if(e.length>0){e="",i=0,r=o,s=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+n.slice(r+1,o):e=n.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s>-1?s++:s=-1}return e}function Ap(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const h3={cwd:d3};function d3(){return"/"}function $w(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function f3(n){if(typeof n=="string")n=new URL(n);else if(!$w(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return p3(n)}function p3(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=n.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const J0=["history","path","basename","stem","extname","dirname"];class wR{constructor(t){let e;t?$w(t)?e={path:t}:typeof t=="string"||g3(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":h3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<J0.length;){const s=J0[i];s in e&&e[s]!==void 0&&e[s]!==null&&(this[s]=s==="history"?[...e[s]]:e[s])}let r;for(r in e)J0.includes(r)||(this[r]=e[r])}get basename(){return typeof this.path=="string"?wr.basename(this.path):void 0}set basename(t){tb(t,"basename"),Z0(t,"basename"),this.path=wr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?wr.dirname(this.path):void 0}set dirname(t){Ck(this.basename,"dirname"),this.path=wr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?wr.extname(this.path):void 0}set extname(t){if(Z0(t,"extname"),Ck(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){$w(t)&&(t=f3(t)),tb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?wr.basename(this.path,this.extname):void 0}set stem(t){tb(t,"stem"),Z0(t,"stem"),this.path=wr.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const r=this.message(t,e,i);throw r.fatal=!0,r}info(t,e,i){const r=this.message(t,e,i);return r.fatal=void 0,r}message(t,e,i){const r=new un(t,e,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Z0(n,t){if(n&&n.includes(wr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+wr.sep+"`")}function tb(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function Ck(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function g3(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const m3=function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},y3={}.hasOwnProperty;class x1 extends m3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i3()}copy(){const t=new x1;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(Q0(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(ib("data",this.frozen),this.namespace[t]=e,this):y3.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ib("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=e.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=Qp(t),i=this.parser||this.Parser;return eb("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),eb("process",this.parser||this.Parser),nb("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(s,o){const a=Qp(t),l=i.parse(a);i.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const p=d,g=i.stringify(p,f);w3(g)?f.value=g:f.result=g,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):e(void 0,d)}}}processSync(t){let e=!1,i;return this.freeze(),eb("processSync",this.parser||this.Parser),nb("processSync",this.compiler||this.Compiler),this.process(t,r),Pk("processSync","process",e),i;function r(s,o){e=!0,wk(s),i=o}}run(t,e,i){Tk(t),this.freeze();const r=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?s(void 0,i):new Promise(s);function s(o,a){const l=Qp(e);r.run(t,l,u);function u(c,d,f){const p=d||t;c?a(c):o?o(p):i(void 0,p,f)}}}runSync(t,e){let i=!1,r;return this.run(t,e,s),Pk("runSync","run",i),r;function s(o,a){wk(o),r=a,i=!0}}stringify(t,e){this.freeze();const i=Qp(e),r=this.compiler||this.Compiler;return nb("stringify",r),Tk(t),r(t,i)}use(t,...e){const i=this.attachers,r=this.namespace;if(ib("use",this.frozen),t!=null)if(typeof t=="function")l(t,e);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(r.settings=Q0(!0,r.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<i.length;)if(i[d][0]===u){f=d;break}if(f===-1)i.push([u,...c]);else if(c.length>0){let[p,...g]=c;const m=i[f][1];Hw(m)&&Hw(p)&&(p=Q0(!0,m,p)),i[f]=[u,p,...g]}}}}const b3=new x1().freeze();function eb(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function nb(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function ib(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Tk(n){if(!Hw(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Pk(n,t,e){if(!e)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function Qp(n){return x3(n)?n:new wR(n)}function x3(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function w3(n){return typeof n=="string"||v3(n)}function v3(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const _3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Mk=[],Rk={allowDangerousHtml:!0},S3=/^(https?|ircs?|mailto|xmpp)$/i,k3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function w1(n){const t=A3(n),e=E3(n);return C3(t.runSync(t.parse(e),e),n)}function A3(n){const t=n.rehypePlugins||Mk,e=n.remarkPlugins||Mk,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Rk}:Rk;return b3().use(a4).use(e).use(e3,i).use(t)}function E3(n){const t=n.children||"",e=new wR;return typeof t=="string"&&(e.value=t),e}function C3(n,t){const e=t.allowedElements,i=t.allowElement,r=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||T3;for(const c of k3)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+_3+c.id,void 0);return t.className&&(n={type:"element",tagName:"div",properties:{className:t.className},children:n.type==="root"?n.children:[n]}),b1(n,u),Uz(n,{Fragment:D.Fragment,components:r,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in X0)if(Object.hasOwn(X0,p)&&Object.hasOwn(c.properties,p)){const g=c.properties[p],m=X0[p];(m===null||m.includes(c.tagName))&&(c.properties[p]=l(String(g||""),p,c))}}if(c.type==="element"){let p=e?!e.includes(c.tagName):s?s.includes(c.tagName):!1;if(!p&&i&&typeof d=="number"&&(p=!i(c,d,f)),p&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function T3(n){const t=n.indexOf(":"),e=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return t===-1||r!==-1&&t>r||e!==-1&&t>e||i!==-1&&t>i||S3.test(n.slice(0,t))?n:""}const P3=()=>D.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[D.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),D.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});function M3(n){return Kc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function R3(n){return Kc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(n)}function L3(n){return Kc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(n)}function Lk(n,t){const e=String(n);if(typeof t!="string")throw new TypeError("Expected character");let i=0,r=e.indexOf(t);for(;r!==-1;)i++,r=e.indexOf(t,r+t.length);return i}function I3(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function D3(n,t,e){const r=i0((e||{}).ignore||[]),s=O3(t);let o=-1;for(;++o<s.length;)bR(n,"text",a);function a(u,c){let d=-1,f;for(;++d<c.length;){const p=c[d],g=f?f.children:void 0;if(r(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=s[o][0],p=s[o][1];let g=0;const x=d.children.indexOf(u);let y=!1,b=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const k=w.index,E={index:w.index,input:w.input,stack:[...c,u]};let A=p(...w,E);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?f.lastIndex=k+1:(g!==k&&b.push({type:"text",value:u.value.slice(g,k)}),Array.isArray(A)?b.push(...A):A&&b.push(A),g=k+w[0].length,y=!0),!f.global)break;w=f.exec(u.value)}return y?(g<u.value.length&&b.push({type:"text",value:u.value.slice(g)}),d.children.splice(x,1,...b)):b=[u],x+b.length}}function O3(n){const t=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const e=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<e.length;){const r=e[i];t.push([F3(r[0]),N3(r[1])])}return t}function F3(n){return typeof n=="string"?new RegExp(I3(n),"g"):n}function N3(n){return typeof n=="function"?n:function(){return n}}const rb="phrasing",sb=["autolink","link","image","label"];function z3(){return{transforms:[W3],enter:{literalAutolink:j3,literalAutolinkEmail:ob,literalAutolinkHttp:ob,literalAutolinkWww:ob},exit:{literalAutolink:V3,literalAutolinkEmail:U3,literalAutolinkHttp:H3,literalAutolinkWww:$3}}}function B3(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:rb,notInConstruct:sb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:rb,notInConstruct:sb},{character:":",before:"[ps]",after:"\\/",inConstruct:rb,notInConstruct:sb}]}}function j3(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function ob(n){this.config.enter.autolinkProtocol.call(this,n)}function H3(n){this.config.exit.autolinkProtocol.call(this,n)}function $3(n){this.config.exit.data.call(this,n);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(n)}function U3(n){this.config.exit.autolinkEmail.call(this,n)}function V3(n){this.exit(n)}function W3(n){D3(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,G3],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),q3]],{ignore:["link","linkReference"]})}function G3(n,t,e,i,r){let s="";if(!vR(r)||(/^w/i.test(t)&&(e=t+e,t="",s="http://"),!X3(e)))return!1;const o=Y3(e+i);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function q3(n,t,e,i){return!vR(i,!0)||/[-\d_]$/.test(e)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+e,children:[{type:"text",value:t+"@"+e}]}}function X3(n){const t=n.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Y3(n){const t=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!t)return[n,void 0];n=n.slice(0,t.index);let e=t[0],i=e.indexOf(")");const r=Lk(n,"(");let s=Lk(n,")");for(;i!==-1&&r>s;)n+=e.slice(0,i+1),e=e.slice(i+1),i=e.indexOf(")"),s++;return[n,e]}function vR(n,t){const e=n.input.charCodeAt(n.index-1);return(n.index===0||Hl(e)||t0(e))&&(!t||e!==47)}_R.peek=rH;function K3(){this.buffer()}function Q3(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function J3(){this.buffer()}function Z3(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function tH(n){const t=this.resume(),e=this.stack[this.stack.length-1];e.type,e.identifier=ar(this.sliceSerialize(n)).toLowerCase(),e.label=t}function eH(n){this.exit(n)}function nH(n){const t=this.resume(),e=this.stack[this.stack.length-1];e.type,e.identifier=ar(this.sliceSerialize(n)).toLowerCase(),e.label=t}function iH(n){this.exit(n)}function rH(){return"["}function _R(n,t,e,i){const r=e.createTracker(i);let s=r.move("[^");const o=e.enter("footnoteReference"),a=e.enter("reference");return s+=r.move(e.safe(e.associationId(n),{after:"]",before:s})),a(),o(),s+=r.move("]"),s}function sH(){return{enter:{gfmFootnoteCallString:K3,gfmFootnoteCall:Q3,gfmFootnoteDefinitionLabelString:J3,gfmFootnoteDefinition:Z3},exit:{gfmFootnoteCallString:tH,gfmFootnoteCall:eH,gfmFootnoteDefinitionLabelString:nH,gfmFootnoteDefinition:iH}}}function oH(n){let t=!1;return n&&n.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:e,footnoteReference:_R},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function e(i,r,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return l+=a.move(s.safe(s.associationId(i),{before:l,after:"]"})),c(),l+=a.move("]:"),i.children&&i.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(i,a.current()),t?SR:aH))),u(),l}}function aH(n,t,e){return t===0?n:SR(n,t,e)}function SR(n,t,e){return(e?"":"    ")+n}const lH=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];kR.peek=fH;function uH(){return{canContainEols:["delete"],enter:{strikethrough:hH},exit:{strikethrough:dH}}}function cH(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:lH}],handlers:{delete:kR}}}function hH(n){this.enter({type:"delete",children:[]},n)}function dH(n){this.exit(n)}function kR(n,t,e,i){const r=e.createTracker(i),s=e.enter("strikethrough");let o=r.move("~~");return o+=e.containerPhrasing(n,{...r.current(),before:o,after:"~"}),o+=r.move("~~"),s(),o}function fH(){return"~"}function pH(n){return n.length}function gH(n,t){const e=t||{},i=(e.align||[]).concat(),r=e.stringLength||pH,s=[],o=[],a=[],l=[];let u=0,c=-1;for(;++c<n.length;){const m=[],x=[];let y=-1;for(n[c].length>u&&(u=n[c].length);++y<n[c].length;){const b=mH(n[c][y]);if(e.alignDelimiters!==!1){const w=r(b);x[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}m.push(b)}o[c]=m,a[c]=x}let d=-1;if(typeof i=="object"&&"length"in i)for(;++d<u;)s[d]=Ik(i[d]);else{const m=Ik(i);for(;++d<u;)s[d]=m}d=-1;const f=[],p=[];for(;++d<u;){const m=s[d];let x="",y="";m===99?(x=":",y=":"):m===108?x=":":m===114&&(y=":");let b=e.alignDelimiters===!1?1:Math.max(1,l[d]-x.length-y.length);const w=x+"-".repeat(b)+y;e.alignDelimiters!==!1&&(b=x.length+b+y.length,b>l[d]&&(l[d]=b),p[d]=b),f[d]=w}o.splice(1,0,f),a.splice(1,0,p),c=-1;const g=[];for(;++c<o.length;){const m=o[c],x=a[c];d=-1;const y=[];for(;++d<u;){const b=m[d]||"";let w="",k="";if(e.alignDelimiters!==!1){const E=l[d]-(x[d]||0),A=s[d];A===114?w=" ".repeat(E):A===99?E%2?(w=" ".repeat(E/2+.5),k=" ".repeat(E/2-.5)):(w=" ".repeat(E/2),k=w):k=" ".repeat(E)}e.delimiterStart!==!1&&!d&&y.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&b==="")&&(e.delimiterStart!==!1||d)&&y.push(" "),e.alignDelimiters!==!1&&y.push(w),y.push(b),e.alignDelimiters!==!1&&y.push(k),e.padding!==!1&&y.push(" "),(e.delimiterEnd!==!1||d!==u-1)&&y.push("|")}g.push(e.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return g.join(`
`)}function mH(n){return n==null?"":String(n)}function Ik(n){const t=typeof n=="string"?n.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function yH(n,t,e,i){const r=e.enter("blockquote"),s=e.createTracker(i);s.move("> "),s.shift(2);const o=e.indentLines(e.containerFlow(n,s.current()),bH);return r(),o}function bH(n,t,e){return">"+(e?"":" ")+n}function xH(n,t){return Dk(n,t.inConstruct,!0)&&!Dk(n,t.notInConstruct,!1)}function Dk(n,t,e){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return e;let i=-1;for(;++i<t.length;)if(n.includes(t[i]))return!0;return!1}function Ok(n,t,e,i){let r=-1;for(;++r<e.unsafe.length;)if(e.unsafe[r].character===`
`&&xH(e.stack,e.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function wH(n,t){const e=String(n);let i=e.indexOf(t),r=i,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>o&&(o=s):s=1,r=i+t.length,i=e.indexOf(t,r);return o}function vH(n,t){return!!(t.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function _H(n){const t=n.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function SH(n,t,e,i){const r=_H(e),s=n.value||"",o=r==="`"?"GraveAccent":"Tilde";if(vH(n,e)){const d=e.enter("codeIndented"),f=e.indentLines(s,kH);return d(),f}const a=e.createTracker(i),l=r.repeat(Math.max(wH(s,r)+1,3)),u=e.enter("codeFenced");let c=a.move(l);if(n.lang){const d=e.enter(`codeFencedLang${o}`);c+=a.move(e.safe(n.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(n.lang&&n.meta){const d=e.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(e.safe(n.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function kH(n,t,e){return(e?"":"    ")+n}function v1(n){const t=n.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function AH(n,t,e,i){const r=v1(e),s=r==='"'?"Quote":"Apostrophe",o=e.enter("definition");let a=e.enter("label");const l=e.createTracker(i);let u=l.move("[");return u+=l.move(e.safe(e.associationId(n),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!n.url||/[\0- \u007F]/.test(n.url)?(a=e.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(e.safe(n.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=e.enter("destinationRaw"),u+=l.move(e.safe(n.url,{before:u,after:n.title?" ":`
`,...l.current()}))),a(),n.title&&(a=e.enter(`title${s}`),u+=l.move(" "+r),u+=l.move(e.safe(n.title,{before:u,after:r,...l.current()})),u+=l.move(r),a()),o(),u}function EH(n){const t=n.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Od(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Ym(n,t,e){const i=Vc(n),r=Vc(t);return i===void 0?r===void 0?e==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}AR.peek=CH;function AR(n,t,e,i){const r=EH(e),s=e.enter("emphasis"),o=e.createTracker(i),a=o.move(r);let l=o.move(e.containerPhrasing(n,{after:r,before:a,...o.current()}));const u=l.charCodeAt(0),c=Ym(i.before.charCodeAt(i.before.length-1),u,r);c.inside&&(l=Od(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Ym(i.after.charCodeAt(0),d,r);f.inside&&(l=l.slice(0,-1)+Od(d));const p=o.move(r);return s(),e.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+p}function CH(n,t,e){return e.options.emphasis||"*"}function TH(n,t){let e=!1;return b1(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return e=!0,Bw}),!!((!n.depth||n.depth<3)&&h1(n)&&(t.options.setext||e))}function PH(n,t,e,i){const r=Math.max(Math.min(6,n.depth||1),1),s=e.createTracker(i);if(TH(n,e)){const c=e.enter("headingSetext"),d=e.enter("phrasing"),f=e.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(r===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(r),a=e.enter("headingAtx"),l=e.enter("phrasing");s.move(o+" ");let u=e.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Od(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,e.options.closeAtx&&(u+=" "+o),l(),a(),u}ER.peek=MH;function ER(n){return n.value||""}function MH(){return"<"}CR.peek=RH;function CR(n,t,e,i){const r=v1(e),s=r==='"'?"Quote":"Apostrophe",o=e.enter("image");let a=e.enter("label");const l=e.createTracker(i);let u=l.move("![");return u+=l.move(e.safe(n.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(a=e.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(e.safe(n.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=e.enter("destinationRaw"),u+=l.move(e.safe(n.url,{before:u,after:n.title?" ":")",...l.current()}))),a(),n.title&&(a=e.enter(`title${s}`),u+=l.move(" "+r),u+=l.move(e.safe(n.title,{before:u,after:r,...l.current()})),u+=l.move(r),a()),u+=l.move(")"),o(),u}function RH(){return"!"}TR.peek=LH;function TR(n,t,e,i){const r=n.referenceType,s=e.enter("imageReference");let o=e.enter("label");const a=e.createTracker(i);let l=a.move("![");const u=e.safe(n.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=e.stack;e.stack=[],o=e.enter("reference");const d=e.safe(e.associationId(n),{before:l,after:"]",...a.current()});return o(),e.stack=c,s(),r==="full"||!u||u!==d?l+=a.move(d+"]"):r==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function LH(){return"!"}PR.peek=IH;function PR(n,t,e){let i=n.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<e.unsafe.length;){const o=e.unsafe[s],a=e.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(i);){let u=l.index;i.charCodeAt(u)===10&&i.charCodeAt(u-1)===13&&u--,i=i.slice(0,u)+" "+i.slice(l.index+1)}}return r+i+r}function IH(){return"`"}function MR(n,t){const e=h1(n);return!!(!t.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(e===n.url||"mailto:"+e===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}RR.peek=DH;function RR(n,t,e,i){const r=v1(e),s=r==='"'?"Quote":"Apostrophe",o=e.createTracker(i);let a,l;if(MR(n,e)){const c=e.stack;e.stack=[],a=e.enter("autolink");let d=o.move("<");return d+=o.move(e.containerPhrasing(n,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),e.stack=c,d}a=e.enter("link"),l=e.enter("label");let u=o.move("[");return u+=o.move(e.containerPhrasing(n,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(l=e.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(e.safe(n.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=e.enter("destinationRaw"),u+=o.move(e.safe(n.url,{before:u,after:n.title?" ":")",...o.current()}))),l(),n.title&&(l=e.enter(`title${s}`),u+=o.move(" "+r),u+=o.move(e.safe(n.title,{before:u,after:r,...o.current()})),u+=o.move(r),l()),u+=o.move(")"),a(),u}function DH(n,t,e){return MR(n,e)?"<":"["}LR.peek=OH;function LR(n,t,e,i){const r=n.referenceType,s=e.enter("linkReference");let o=e.enter("label");const a=e.createTracker(i);let l=a.move("[");const u=e.containerPhrasing(n,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=e.stack;e.stack=[],o=e.enter("reference");const d=e.safe(e.associationId(n),{before:l,after:"]",...a.current()});return o(),e.stack=c,s(),r==="full"||!u||u!==d?l+=a.move(d+"]"):r==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function OH(){return"["}function _1(n){const t=n.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function FH(n){const t=_1(n),e=n.options.bulletOther;if(!e)return t==="*"?"-":"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(e===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+e+"`) to be different");return e}function NH(n){const t=n.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function IR(n){const t=n.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function zH(n,t,e,i){const r=e.enter("list"),s=e.bulletCurrent;let o=n.ordered?NH(e):_1(e);const a=n.ordered?o==="."?")":".":FH(e);let l=t&&e.bulletLastUsed?o===e.bulletLastUsed:!1;if(!n.ordered){const c=n.children?n.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&e.stack[e.stack.length-1]==="list"&&e.stack[e.stack.length-2]==="listItem"&&e.stack[e.stack.length-3]==="list"&&e.stack[e.stack.length-4]==="listItem"&&e.indexStack[e.indexStack.length-1]===0&&e.indexStack[e.indexStack.length-2]===0&&e.indexStack[e.indexStack.length-3]===0&&(l=!0),IR(e)===o&&c){let d=-1;for(;++d<n.children.length;){const f=n.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),e.bulletCurrent=o;const u=e.containerFlow(n,i);return e.bulletLastUsed=o,e.bulletCurrent=s,r(),u}function BH(n){const t=n.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function jH(n,t,e,i){const r=BH(e);let s=e.bulletCurrent||_1(e);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(e.options.incrementListMarker===!1?0:t.children.indexOf(n))+s);let o=s.length+1;(r==="tab"||r==="mixed"&&(t&&t.type==="list"&&t.spread||n.spread))&&(o=Math.ceil(o/4)*4);const a=e.createTracker(i);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=e.enter("listItem"),u=e.indentLines(e.containerFlow(n,a.current()),c);return l(),u;function c(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function HH(n,t,e,i){const r=e.enter("paragraph"),s=e.enter("phrasing"),o=e.containerPhrasing(n,i);return s(),r(),o}const $H=i0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function UH(n,t,e,i){return(n.children.some(function(o){return $H(o)})?e.containerPhrasing:e.containerFlow).call(e,n,i)}function VH(n){const t=n.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}DR.peek=WH;function DR(n,t,e,i){const r=VH(e),s=e.enter("strong"),o=e.createTracker(i),a=o.move(r+r);let l=o.move(e.containerPhrasing(n,{after:r,before:a,...o.current()}));const u=l.charCodeAt(0),c=Ym(i.before.charCodeAt(i.before.length-1),u,r);c.inside&&(l=Od(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Ym(i.after.charCodeAt(0),d,r);f.inside&&(l=l.slice(0,-1)+Od(d));const p=o.move(r+r);return s(),e.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+p}function WH(n,t,e){return e.options.strong||"*"}function GH(n,t,e,i){return e.safe(n.value,i)}function qH(n){const t=n.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function XH(n,t,e){const i=(IR(e)+(e.options.ruleSpaces?" ":"")).repeat(qH(e));return e.options.ruleSpaces?i.slice(0,-1):i}const OR={blockquote:yH,break:Ok,code:SH,definition:AH,emphasis:AR,hardBreak:Ok,heading:PH,html:ER,image:CR,imageReference:TR,inlineCode:PR,link:RR,linkReference:LR,list:zH,listItem:jH,paragraph:HH,root:UH,strong:DR,text:GH,thematicBreak:XH};function YH(){return{enter:{table:KH,tableData:Fk,tableHeader:Fk,tableRow:JH},exit:{codeText:ZH,table:QH,tableData:ab,tableHeader:ab,tableRow:ab}}}function KH(n){const t=n._align;this.enter({type:"table",align:t.map(function(e){return e==="none"?null:e}),children:[]},n),this.data.inTable=!0}function QH(n){this.exit(n),this.data.inTable=void 0}function JH(n){this.enter({type:"tableRow",children:[]},n)}function ab(n){this.exit(n)}function Fk(n){this.enter({type:"tableCell",children:[]},n)}function ZH(n){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,t5));const e=this.stack[this.stack.length-1];e.type,e.value=t,this.exit(n)}function t5(n,t){return t==="|"?t:n}function e5(n){const t=n||{},e=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,s=e?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(p,g,m,x){return u(c(p,m,x),p.align)}function a(p,g,m,x){const y=d(p,m,x),b=u([y]);return b.slice(0,b.indexOf(`
`))}function l(p,g,m,x){const y=m.enter("tableCell"),b=m.enter("phrasing"),w=m.containerPhrasing(p,{...x,before:s,after:s});return b(),y(),w}function u(p,g){return gH(p,{align:g,alignDelimiters:i,padding:e,stringLength:r})}function c(p,g,m){const x=p.children;let y=-1;const b=[],w=g.enter("table");for(;++y<x.length;)b[y]=d(x[y],g,m);return w(),b}function d(p,g,m){const x=p.children;let y=-1;const b=[],w=g.enter("tableRow");for(;++y<x.length;)b[y]=l(x[y],p,g,m);return w(),b}function f(p,g,m){let x=OR.inlineCode(p,g,m);return m.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function n5(){return{exit:{taskListCheckValueChecked:Nk,taskListCheckValueUnchecked:Nk,paragraph:r5}}}function i5(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:s5}}}function Nk(n){const t=this.stack[this.stack.length-2];t.type,t.checked=n.type==="taskListCheckValueChecked"}function r5(n){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const e=this.stack[this.stack.length-1];e.type;const i=e.children[0];if(i&&i.type==="text"){const r=t.children;let s=-1,o;for(;++s<r.length;){const a=r[s];if(a.type==="paragraph"){o=a;break}}o===e&&(i.value=i.value.slice(1),i.value.length===0?e.children.shift():e.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,e.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function s5(n,t,e,i){const r=n.children[0],s=typeof n.checked=="boolean"&&r&&r.type==="paragraph",o="["+(n.checked?"x":" ")+"] ",a=e.createTracker(i);s&&a.move(o);let l=OR.listItem(n,t,e,{...i,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function o5(){return[z3(),sH(),uH(),YH(),n5()]}function a5(n){return{extensions:[B3(),oH(n),cH(),e5(n),i5()]}}const l5={tokenize:p5,partial:!0},FR={tokenize:g5,partial:!0},NR={tokenize:m5,partial:!0},zR={tokenize:y5,partial:!0},u5={tokenize:b5,partial:!0},BR={name:"wwwAutolink",tokenize:d5,previous:HR},jR={name:"protocolAutolink",tokenize:f5,previous:$R},Us={name:"emailAutolink",tokenize:h5,previous:UR},Ur={};function c5(){return{text:Ur}}let ra=48;for(;ra<123;)Ur[ra]=Us,ra++,ra===58?ra=65:ra===91&&(ra=97);Ur[43]=Us;Ur[45]=Us;Ur[46]=Us;Ur[95]=Us;Ur[72]=[Us,jR];Ur[104]=[Us,jR];Ur[87]=[Us,BR];Ur[119]=[Us,BR];function h5(n,t,e){const i=this;let r,s;return o;function o(d){return!Uw(d)||!UR.call(i,i.previous)||S1(i.events)?e(d):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),a(d))}function a(d){return Uw(d)?(n.consume(d),a):d===64?(n.consume(d),l):e(d)}function l(d){return d===46?n.check(u5,c,u)(d):d===45||d===95||on(d)?(s=!0,n.consume(d),l):c(d)}function u(d){return n.consume(d),r=!0,l}function c(d){return s&&r&&bn(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),t(d)):e(d)}}function d5(n,t,e){const i=this;return r;function r(o){return o!==87&&o!==119||!HR.call(i,i.previous)||S1(i.events)?e(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(l5,n.attempt(FR,n.attempt(NR,s),e),e)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),t(o)}}function f5(n,t,e){const i=this;let r="",s=!1;return o;function o(d){return(d===72||d===104)&&$R.call(i,i.previous)&&!S1(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(d),n.consume(d),a):e(d)}function a(d){if(bn(d)&&r.length<5)return r+=String.fromCodePoint(d),n.consume(d),a;if(d===58){const f=r.toLowerCase();if(f==="http"||f==="https")return n.consume(d),l}return e(d)}function l(d){return d===47?(n.consume(d),s?u:(s=!0,l)):e(d)}function u(d){return d===null||Gm(d)||Bt(d)||Hl(d)||t0(d)?e(d):n.attempt(FR,n.attempt(NR,c),e)(d)}function c(d){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),t(d)}}function p5(n,t,e){let i=0;return r;function r(o){return(o===87||o===119)&&i<3?(i++,n.consume(o),r):o===46&&i===3?(n.consume(o),s):e(o)}function s(o){return o===null?e(o):t(o)}}function g5(n,t,e){let i,r,s;return o;function o(u){return u===46||u===95?n.check(zR,l,a)(u):u===null||Bt(u)||Hl(u)||u!==45&&t0(u)?l(u):(s=!0,n.consume(u),o)}function a(u){return u===95?i=!0:(r=i,i=void 0),n.consume(u),o}function l(u){return r||i||!s?e(u):t(u)}}function m5(n,t){let e=0,i=0;return r;function r(o){return o===40?(e++,n.consume(o),r):o===41&&i<e?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?n.check(zR,t,s)(o):o===null||Bt(o)||Hl(o)?t(o):(n.consume(o),r)}function s(o){return o===41&&i++,n.consume(o),r}}function y5(n,t,e){return i;function i(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(n.consume(a),i):a===38?(n.consume(a),s):a===93?(n.consume(a),r):a===60||a===null||Bt(a)||Hl(a)?t(a):e(a)}function r(a){return a===null||a===40||a===91||Bt(a)||Hl(a)?t(a):i(a)}function s(a){return bn(a)?o(a):e(a)}function o(a){return a===59?(n.consume(a),i):bn(a)?(n.consume(a),o):e(a)}}function b5(n,t,e){return i;function i(s){return n.consume(s),r}function r(s){return on(s)?e(s):t(s)}}function HR(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Bt(n)}function $R(n){return!bn(n)}function UR(n){return!(n===47||Uw(n))}function Uw(n){return n===43||n===45||n===46||n===95||on(n)}function S1(n){let t=n.length,e=!1;for(;t--;){const i=n[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){e=!0;break}if(i._gfmAutolinkLiteralWalkedInto){e=!1;break}}return n.length>0&&!e&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),e}const x5={tokenize:C5,partial:!0};function w5(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:k5,continuation:{tokenize:A5},exit:E5}},text:{91:{name:"gfmFootnoteCall",tokenize:S5},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:v5,resolveTo:_5}}}}function v5(n,t,e){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o;for(;r--;){const l=i.events[r][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return e(l);const u=ar(i.sliceSerialize({start:o.end,end:i.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?e(l):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(l),n.exit("gfmFootnoteCallLabelMarker"),t(l))}}function _5(n,t){let e=n.length;for(;e--;)if(n[e][1].type==="labelImage"&&n[e][0]==="enter"){n[e][1];break}n[e+1][1].type="data",n[e+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[e+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[e+3][1].end),end:Object.assign({},n[e+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[n[e+1],n[e+2],["enter",i,t],n[e+3],n[e+4],["enter",r,t],["exit",r,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],n[n.length-2],n[n.length-1],["exit",i,t]];return n.splice(e,n.length-e+1,...a),n}function S5(n,t,e){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(d),n.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?e(d):(n.enter("gfmFootnoteCallMarker"),n.consume(d),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||Bt(d))return e(d);if(d===93){n.exit("chunkString");const f=n.exit("gfmFootnoteCallString");return r.includes(ar(i.sliceSerialize(f)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(d),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),t):e(d)}return Bt(d)||(o=!0),s++,n.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(n.consume(d),s++,u):u(d)}}function k5(n,t,e){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(g),n.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(g),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",c):e(g)}function c(g){if(o>999||g===93&&!a||g===null||g===91||Bt(g))return e(g);if(g===93){n.exit("chunkString");const m=n.exit("gfmFootnoteDefinitionLabelString");return s=ar(i.sliceSerialize(m)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(g),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),f}return Bt(g)||(a=!0),o++,n.consume(g),g===92?d:c}function d(g){return g===91||g===92||g===93?(n.consume(g),o++,c):c(g)}function f(g){return g===58?(n.enter("definitionMarker"),n.consume(g),n.exit("definitionMarker"),r.includes(s)||r.push(s),St(n,p,"gfmFootnoteDefinitionWhitespace")):e(g)}function p(g){return t(g)}}function A5(n,t,e){return n.check(kp,t,n.attempt(x5,t,e))}function E5(n){n.exit("gfmFootnoteDefinition")}function C5(n,t,e){const i=this;return St(n,r,"gfmFootnoteDefinitionIndent",5);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):e(s)}}function T5(n){let e=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return e==null&&(e=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",c,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&di(f,f.length,0,e0(p,o.slice(u+1,l),a)),di(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",c,a]]),di(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,c=this.events;let d=0;return f;function f(g){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(g):(o.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const m=Vc(u);if(g===126)return d>1?l(g):(o.consume(g),d++,p);if(d<2&&!e)return l(g);const x=o.exit("strikethroughSequenceTemporary"),y=Vc(g);return x._open=!y||y===2&&!!m,x._close=!m||m===2&&!!y,a(g)}}}class P5{constructor(){this.map=[]}add(t,e,i){M5(this,t,e,i)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let e=this.map.length;const i=[];for(;e>0;)e-=1,i.push(t.slice(this.map[e][0]+this.map[e][1]),this.map[e][2]),t.length=this.map[e][0];i.push(t.slice()),t.length=0;let r=i.pop();for(;r;){for(const s of r)t.push(s);r=i.pop()}this.map.length=0}}function M5(n,t,e,i){let r=0;if(!(e===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===t){n.map[r][1]+=e,n.map[r][2].push(...i);return}r+=1}n.map.push([t,e,i])}}function R5(n,t){let e=!1;const i=[];for(;t<n.length;){const r=n[t];if(e){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[t-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(e=!0);t+=1}return i}function L5(){return{flow:{null:{name:"table",tokenize:I5,resolveAll:D5}}}}function I5(n,t,e){const i=this;let r=0,s=0,o;return a;function a(P){let I=i.events.length-1;for(;I>-1;){const q=i.events[I][1].type;if(q==="lineEnding"||q==="linePrefix")I--;else break}const F=I>-1?i.events[I][1].type:null,Y=F==="tableHead"||F==="tableRow"?A:l;return Y===A&&i.parser.lazy[i.now().line]?e(P):Y(P)}function l(P){return n.enter("tableHead"),n.enter("tableRow"),u(P)}function u(P){return P===124||(o=!0,s+=1),c(P)}function c(P){return P===null?e(P):it(P)?s>1?(s=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(P),n.exit("lineEnding"),p):e(P):yt(P)?St(n,c,"whitespace")(P):(s+=1,o&&(o=!1,r+=1),P===124?(n.enter("tableCellDivider"),n.consume(P),n.exit("tableCellDivider"),o=!0,c):(n.enter("data"),d(P)))}function d(P){return P===null||P===124||Bt(P)?(n.exit("data"),c(P)):(n.consume(P),P===92?f:d)}function f(P){return P===92||P===124?(n.consume(P),d):d(P)}function p(P){return i.interrupt=!1,i.parser.lazy[i.now().line]?e(P):(n.enter("tableDelimiterRow"),o=!1,yt(P)?St(n,g,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):g(P))}function g(P){return P===45||P===58?x(P):P===124?(o=!0,n.enter("tableCellDivider"),n.consume(P),n.exit("tableCellDivider"),m):E(P)}function m(P){return yt(P)?St(n,x,"whitespace")(P):x(P)}function x(P){return P===58?(s+=1,o=!0,n.enter("tableDelimiterMarker"),n.consume(P),n.exit("tableDelimiterMarker"),y):P===45?(s+=1,y(P)):P===null||it(P)?k(P):E(P)}function y(P){return P===45?(n.enter("tableDelimiterFiller"),b(P)):E(P)}function b(P){return P===45?(n.consume(P),b):P===58?(o=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(P),n.exit("tableDelimiterMarker"),w):(n.exit("tableDelimiterFiller"),w(P))}function w(P){return yt(P)?St(n,k,"whitespace")(P):k(P)}function k(P){return P===124?g(P):P===null||it(P)?!o||r!==s?E(P):(n.exit("tableDelimiterRow"),n.exit("tableHead"),t(P)):E(P)}function E(P){return e(P)}function A(P){return n.enter("tableRow"),C(P)}function C(P){return P===124?(n.enter("tableCellDivider"),n.consume(P),n.exit("tableCellDivider"),C):P===null||it(P)?(n.exit("tableRow"),t(P)):yt(P)?St(n,C,"whitespace")(P):(n.enter("data"),R(P))}function R(P){return P===null||P===124||Bt(P)?(n.exit("data"),C(P)):(n.consume(P),P===92?L:R)}function L(P){return P===92||P===124?(n.consume(P),R):R(P)}}function D5(n,t){let e=-1,i=!0,r=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,c,d;const f=new P5;for(;++e<n.length;){const p=n[e],g=p[1];p[0]==="enter"?g.type==="tableHead"?(a=!1,l!==0&&(zk(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(e,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(i=!0,d=void 0,s=[0,0,0,0],o=[0,e+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(e,0,[["enter",c,t]])),r=g.type==="tableDelimiterRow"?2:c?3:1):r&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(i=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Jp(f,t,s,r,void 0,d),s=[0,0,0,0]),o[2]=e)):g.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(o[0]=o[1],d=Jp(f,t,s,r,void 0,d)),s=o,o=[s[1],e,0,0])):g.type==="tableHead"?(a=!0,l=e):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=e,s[1]!==0?(o[0]=o[1],d=Jp(f,t,s,r,e,d)):o[1]!==0&&(d=Jp(f,t,o,r,e,d)),r=0):r&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=e)}for(l!==0&&zk(f,t,l,u,c),f.consume(t.events),e=-1;++e<t.events.length;){const p=t.events[e];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=R5(t.events,e))}return n}function Jp(n,t,e,i,r,s){const o=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",a="tableContent";e[0]!==0&&(s.end=Object.assign({},ou(t.events,e[0])),n.add(e[0],0,[["exit",s,t]]));const l=ou(t.events,e[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},n.add(e[1],0,[["enter",s,t]]),e[2]!==0){const u=ou(t.events,e[2]),c=ou(t.events,e[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(n.add(e[2],0,[["enter",d,t]]),i!==2){const f=t.events[e[2]],p=t.events[e[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",e[3]>e[2]+1){const g=e[2]+1,m=e[3]-e[2]-1;n.add(g,m,[])}}n.add(e[3]+1,0,[["exit",d,t]])}return r!==void 0&&(s.end=Object.assign({},ou(t.events,r)),n.add(r,0,[["exit",s,t]]),s=void 0),s}function zk(n,t,e,i,r){const s=[],o=ou(t.events,e);r&&(r.end=Object.assign({},o),s.push(["exit",r,t])),i.end=Object.assign({},o),s.push(["exit",i,t]),n.add(e+1,0,s)}function ou(n,t){const e=n[t],i=e[0]==="enter"?"start":"end";return e[1][i]}const O5={name:"tasklistCheck",tokenize:N5};function F5(){return{text:{91:O5}}}function N5(n,t,e){const i=this;return r;function r(l){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?e(l):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(l),n.exit("taskListCheckMarker"),s)}function s(l){return Bt(l)?(n.enter("taskListCheckValueUnchecked"),n.consume(l),n.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(n.enter("taskListCheckValueChecked"),n.consume(l),n.exit("taskListCheckValueChecked"),o):e(l)}function o(l){return l===93?(n.enter("taskListCheckMarker"),n.consume(l),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),a):e(l)}function a(l){return it(l)?t(l):yt(l)?n.check({tokenize:z5},t,e)(l):e(l)}}function z5(n,t,e){return St(n,i,"whitespace");function i(r){return r===null?e(r):t(r)}}function B5(n){return ZM([c5(),w5(),T5(n),L5(),F5()])}const j5={};function H5(n){const t=this,e=n||j5,i=t.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),o=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(B5(e)),s.push(o5()),o.push(a5(e))}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ep(n){return n+.5|0}const Io=(n,t,e)=>Math.max(Math.min(n,e),t);function Wh(n){return Io(Ep(n*2.55),0,255)}function Vo(n){return Io(Ep(n*255),0,255)}function is(n){return Io(Ep(n/2.55)/100,0,1)}function Bk(n){return Io(Ep(n*100),0,100)}const bi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vw=[..."0123456789ABCDEF"],$5=n=>Vw[n&15],U5=n=>Vw[(n&240)>>4]+Vw[n&15],Zp=n=>(n&240)>>4===(n&15),V5=n=>Zp(n.r)&&Zp(n.g)&&Zp(n.b)&&Zp(n.a);function W5(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&bi[n[1]]*17,g:255&bi[n[2]]*17,b:255&bi[n[3]]*17,a:t===5?bi[n[4]]*17:255}:(t===7||t===9)&&(e={r:bi[n[1]]<<4|bi[n[2]],g:bi[n[3]]<<4|bi[n[4]],b:bi[n[5]]<<4|bi[n[6]],a:t===9?bi[n[7]]<<4|bi[n[8]]:255})),e}const G5=(n,t)=>n<255?t(n):"";function q5(n){var t=V5(n)?$5:U5;return n?"#"+t(n.r)+t(n.g)+t(n.b)+G5(n.a,t):void 0}const X5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function VR(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Y5(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function K5(n,t,e){const i=VR(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Q5(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function k1(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=Q5(e,i,r,c,s),l=l*60+.5),[l|0,u||0,a]}function A1(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Vo)}function E1(n,t,e){return A1(VR,n,t,e)}function J5(n,t,e){return A1(K5,n,t,e)}function Z5(n,t,e){return A1(Y5,n,t,e)}function WR(n){return(n%360+360)%360}function t$(n){const t=X5.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Wh(+t[5]):Vo(+t[5]));const r=WR(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=J5(r,s,o):t[1]==="hsv"?i=Z5(r,s,o):i=E1(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function e$(n,t){var e=k1(n);e[0]=WR(e[0]+t),e=E1(e),n.r=e[0],n.g=e[1],n.b=e[2]}function n$(n){if(!n)return;const t=k1(n),e=t[0],i=Bk(t[1]),r=Bk(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${is(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const jk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function i$(){const n={},t=Object.keys(Hk),e=Object.keys(jk);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<e.length;r++)s=e[r],a=a.replace(s,jk[s]);s=parseInt(Hk[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let tg;function r$(n){tg||(tg=i$(),tg.transparent=[0,0,0,0]);const t=tg[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const s$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function o$(n){const t=s$.exec(n);let e=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?Wh(o):Io(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Wh(i):Io(i,0,255)),r=255&(t[4]?Wh(r):Io(r,0,255)),s=255&(t[6]?Wh(s):Io(s,0,255)),{r:i,g:r,b:s,a:e}}}function a$(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${is(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const lb=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ql=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function l$(n,t,e){const i=Ql(is(n.r)),r=Ql(is(n.g)),s=Ql(is(n.b));return{r:Vo(lb(i+e*(Ql(is(t.r))-i))),g:Vo(lb(r+e*(Ql(is(t.g))-r))),b:Vo(lb(s+e*(Ql(is(t.b))-s))),a:n.a+e*(t.a-n.a)}}function eg(n,t,e){if(n){let i=k1(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=E1(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function GR(n,t){return n&&Object.assign(t||{},n)}function $k(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Vo(n[3]))):(t=GR(n,{r:0,g:0,b:0,a:1}),t.a=Vo(t.a)),t}function u$(n){return n.charAt(0)==="r"?o$(n):t$(n)}class Fd{constructor(t){if(t instanceof Fd)return t;const e=typeof t;let i;e==="object"?i=$k(t):e==="string"&&(i=W5(t)||r$(t)||u$(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=GR(this._rgb);return t&&(t.a=is(t.a)),t}set rgb(t){this._rgb=$k(t)}rgbString(){return this._valid?a$(this._rgb):void 0}hexString(){return this._valid?q5(this._rgb):void 0}hslString(){return this._valid?n$(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=l$(this._rgb,t._rgb,e)),this}clone(){return new Fd(this.rgb)}alpha(t){return this._rgb.a=Vo(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ep(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return eg(this._rgb,2,t),this}darken(t){return eg(this._rgb,2,-t),this}saturate(t){return eg(this._rgb,1,t),this}desaturate(t){return eg(this._rgb,1,-t),this}rotate(t){return e$(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function qr(){}const c$=(()=>{let n=0;return()=>n++})();function Nt(n){return n==null}function Se(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Et(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ni(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function mr(n,t){return Ni(n)?n:t}function Pt(n,t){return typeof n>"u"?t:n}const h$=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Wt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Lt(n,t,e,i){let r,s,o;if(Se(n))for(s=n.length,r=0;r<s;r++)t.call(e,n[r],r);else if(Et(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function Km(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Qm(n){if(Se(n))return n.map(Qm);if(Et(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Qm(n[e[r]]);return t}return n}function qR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function d$(n,t,e,i){if(!qR(n))return;const r=t[n],s=e[n];Et(r)&&Et(s)?Nd(r,s,i):t[n]=Qm(s)}function Nd(n,t,e){const i=Se(t)?t:[t],r=i.length;if(!Et(n))return n;e=e||{};const s=e.merger||d$;let o;for(let a=0;a<r;++a){if(o=i[a],!Et(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],n,o,e)}return n}function ld(n,t){return Nd(n,t,{merger:f$})}function f$(n,t,e){if(!qR(n))return;const i=t[n],r=e[n];Et(i)&&Et(r)?ld(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Qm(r))}const Uk={"":n=>n,x:n=>n.x,y:n=>n.y};function p$(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function g$(n){const t=p$(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Wc(n,t){return(Uk[t]||(Uk[t]=g$(t)))(n)}function C1(n){return n.charAt(0).toUpperCase()+n.slice(1)}const zd=n=>typeof n<"u",Ko=n=>typeof n=="function",Vk=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function m$(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const De=Math.PI,vn=2*De,Jm=Number.POSITIVE_INFINITY,y$=De/180,$e=De/2,sa=De/4,Wk=De*2/3,XR=Math.log10,Wo=Math.sign;function sm(n,t,e){return Math.abs(n-t)<e}function Gk(n){const t=Math.round(n);n=sm(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(XR(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function b$(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function x$(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Zm(n){return!x$(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function w$(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function v$(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function _a(n){return n*(De/180)}function _$(n){return n*(180/De)}function qk(n){if(!Ni(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function YR(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*De&&(s+=vn),{angle:s,distance:r}}function S$(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function oa(n){return(n%vn+vn)%vn}function KR(n,t,e,i){const r=oa(n),s=oa(t),o=oa(e),a=oa(s-r),l=oa(o-r),u=oa(r-s),c=oa(r-o);return r===s||r===o||i&&s===o||a>l&&u<c}function Bn(n,t,e){return Math.max(t,Math.min(e,n))}function k$(n){return Bn(n,-32768,32767)}function Sa(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function T1(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Ww=(n,t,e,i)=>T1(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),A$=(n,t,e)=>T1(n,e,i=>n[i][t]>=e);function E$(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const QR=["push","pop","shift","splice","unshift"];function C$(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),QR.forEach(e=>{const i="_onData"+C1(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Xk(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(QR.forEach(s=>{delete n[s]}),delete n._chartjs)}function JR(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const ZR=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function tL(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,ZR.call(window,()=>{i=!1,n.apply(t,e)}))}}function T$(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const P1=n=>n==="start"?"left":n==="end"?"right":"center",tn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,P$=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,ng=n=>n===0||n===1,Yk=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*vn/e)),Kk=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*vn/e)+1,ud={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*$e)+1,easeOutSine:n=>Math.sin(n*$e),easeInOutSine:n=>-.5*(Math.cos(De*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ng(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ng(n)?n:Yk(n,.075,.3),easeOutElastic:n=>ng(n)?n:Kk(n,.075,.3),easeInOutElastic(n){return ng(n)?n:n<.5?.5*Yk(n*2,.1125,.45):.5+.5*Kk(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ud.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ud.easeInBounce(n*2)*.5:ud.easeOutBounce(n*2-1)*.5+.5};function eL(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Qk(n){return eL(n)?n:new Fd(n)}function ub(n){return eL(n)?n:new Fd(n).saturate(.5).darken(.1).hexString()}const M$=["x","y","borderWidth","radius","tension"],R$=["color","borderColor","backgroundColor"];function L$(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:R$},numbers:{type:"number",properties:M$}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function I$(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jk=new Map;function D$(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Jk.get(e);return i||(i=new Intl.NumberFormat(n,t),Jk.set(e,i)),i}function nL(n,t,e){return D$(t,e).format(n)}const O$={values(n){return Se(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=F$(n,e)}const o=XR(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),nL(n,i,l)}};function F$(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var iL={formatters:O$};function N$(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:iL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const $l=Object.create(null),Gw=Object.create(null);function cd(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function cb(n,t,e){return typeof t=="string"?Nd(cd(n,t),e):Nd(cd(n,""),t)}class z${constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ub(r.backgroundColor),this.hoverBorderColor=(i,r)=>ub(r.borderColor),this.hoverColor=(i,r)=>ub(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return cb(this,t,e)}get(t){return cd(this,t)}describe(t,e){return cb(Gw,t,e)}override(t,e){return cb($l,t,e)}route(t,e,i,r){const s=cd(this,t),o=cd(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],u=o[r];return Et(l)?Object.assign({},u,l):Pt(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var ce=new z$({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[L$,I$,N$]);function B$(n){return!n||Nt(n.size)||Nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Zk(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function aa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function tA(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function eA(n,t,e,i){rL(n,t,e,i,null)}function rL(n,t,e,i,r){let s,o,a,l,u,c,d,f;const p=t.pointStyle,g=t.rotation,m=t.radius;let x=(g||0)*y$;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(x),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(m)||m<=0)){switch(n.beginPath(),p){default:r?n.ellipse(e,i,r/2,m,0,0,vn):n.arc(e,i,m,0,vn),n.closePath();break;case"triangle":c=r?r/2:m,n.moveTo(e+Math.sin(x)*c,i-Math.cos(x)*m),x+=Wk,n.lineTo(e+Math.sin(x)*c,i-Math.cos(x)*m),x+=Wk,n.lineTo(e+Math.sin(x)*c,i-Math.cos(x)*m),n.closePath();break;case"rectRounded":u=m*.516,l=m-u,o=Math.cos(x+sa)*l,d=Math.cos(x+sa)*(r?r/2-u:l),a=Math.sin(x+sa)*l,f=Math.sin(x+sa)*(r?r/2-u:l),n.arc(e-d,i-a,u,x-De,x-$e),n.arc(e+f,i-o,u,x-$e,x),n.arc(e+d,i+a,u,x,x+$e),n.arc(e-f,i+o,u,x+$e,x+De),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,c=r?r/2:l,n.rect(e-c,i-l,2*c,2*l);break}x+=sa;case"rectRot":d=Math.cos(x)*(r?r/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(r?r/2:m),n.moveTo(e-d,i-a),n.lineTo(e+f,i-o),n.lineTo(e+d,i+a),n.lineTo(e-f,i+o),n.closePath();break;case"crossRot":x+=sa;case"cross":d=Math.cos(x)*(r?r/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(r?r/2:m),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o);break;case"star":d=Math.cos(x)*(r?r/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(r?r/2:m),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o),x+=sa,d=Math.cos(x)*(r?r/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(r?r/2:m),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o);break;case"line":o=r?r/2:Math.cos(x)*m,a=Math.sin(x)*m,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(x)*(r?r/2:m),i+Math.sin(x)*m);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function sL(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function M1(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function R1(n){n.restore()}function j$(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Nt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function H$(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,u=e+s.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,c),n.lineTo(a,c),n.stroke()}}function $$(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Bd(n,t,e,i,r,s={}){const o=Se(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(n.save(),n.font=r.string,j$(n,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&$$(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Nt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(u,e,i,s.maxWidth)),n.fillText(u,e,i,s.maxWidth),H$(n,e,i,u,s),i+=Number(r.lineHeight);n.restore()}function ty(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*De,De,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,De,$e,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,$e,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-$e,!0),n.lineTo(e+o.topLeft,i)}const U$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,V$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function W$(n,t){const e=(""+n).match(U$);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const G$=n=>+n||0;function L1(n,t){const e={},i=Et(t),r=i?Object.keys(t):t,s=Et(n)?i?o=>Pt(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=G$(s(o));return e}function oL(n){return L1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Mu(n){return L1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zi(n){const t=oL(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function an(n,t){n=n||{},t=t||ce.font;let e=Pt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Pt(n.style,t.style);i&&!(""+i).match(V$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Pt(n.family,t.family),lineHeight:W$(Pt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Pt(n.weight,t.weight),string:""};return r.string=B$(r),r}function ig(n,t,e,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function q$(n,t,e){const{min:i,max:r}=n,s=h$(t,(r-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function eh(n,t){return Object.assign(Object.create(n),t)}function I1(n,t=[""],e,i,r=()=>n[0]){const s=e||n;typeof i>"u"&&(i=cL("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>I1([a,...n],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return lL(a,l,()=>eU(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return iA(a).includes(l)},ownKeys(a){return iA(a)},set(a,l,u){const c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function Gc(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:aL(n,i),setContext:s=>Gc(n,s,e,i),override:s=>Gc(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return lL(s,o,()=>Y$(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function aL(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ko(e)?e:()=>e,isIndexable:Ko(i)?i:()=>i}}const X$=(n,t)=>n?n+C1(t):t,D1=(n,t)=>Et(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function lL(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Y$(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let a=i[t];return Ko(a)&&o.isScriptable(t)&&(a=K$(t,a,n,e)),Se(a)&&a.length&&(a=Q$(t,a,n,o.isIndexable)),D1(t,a)&&(a=Gc(a,r,s&&s[t],o)),a}function K$(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(s,o||i);return a.delete(n),D1(n,l)&&(l=O1(r._scopes,r,n,l)),l}function Q$(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(Et(t[0])){const l=t,u=r._scopes.filter(c=>c!==l);t=[];for(const c of l){const d=O1(u,r,n,c);t.push(Gc(d,s,o&&o[n],a))}}return t}function uL(n,t,e){return Ko(n)?n(t,e):n}const J$=(n,t)=>n===!0?t:typeof n=="string"?Wc(t,n):void 0;function Z$(n,t,e,i,r){for(const s of t){const o=J$(e,s);if(o){n.add(o);const a=uL(o._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function O1(n,t,e,i){const r=t._rootScopes,s=uL(t._fallback,e,i),o=[...n,...r],a=new Set;a.add(i);let l=nA(a,o,e,s||e,i);return l===null||typeof s<"u"&&s!==e&&(l=nA(a,o,s,l,i),l===null)?!1:I1(Array.from(a),[""],r,s,()=>tU(t,e,i))}function nA(n,t,e,i,r){for(;e;)e=Z$(n,t,e,i,r);return e}function tU(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Se(r)&&Et(e)?e:r||{}}function eU(n,t,e,i){let r;for(const s of t)if(r=cL(X$(s,n),e),typeof r<"u")return D1(n,r)?O1(e,i,n,r):r}function cL(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function iA(n){let t=n._keys;return t||(t=n._keys=nU(n._scopes)),t}function nU(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function F1(){return typeof window<"u"&&typeof document<"u"}function N1(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ey(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const s0=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function iU(n,t){return s0(n).getPropertyValue(t)}const rU=["top","right","bottom","left"];function Rl(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=rU[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const sU=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function oU(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(sU(r,s,n.target))a=r,l=s;else{const u=t.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function pa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=s0(e),s=r.boxSizing==="border-box",o=Rl(r,"padding"),a=Rl(r,"border","width"),{x:l,y:u,box:c}=oU(n,e),d=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:p,height:g}=t;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/p*e.width/i),y:Math.round((u-f)/g*e.height/i)}}function aU(n,t,e){let i,r;if(t===void 0||e===void 0){const s=n&&N1(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),a=s0(s),l=Rl(a,"border","width"),u=Rl(a,"padding");t=o.width-u.width-l.width,e=o.height-u.height-l.height,i=ey(a.maxWidth,s,"clientWidth"),r=ey(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||Jm,maxHeight:r||Jm}}const rg=n=>Math.round(n*10)/10;function lU(n,t,e,i){const r=s0(n),s=Rl(r,"margin"),o=ey(r.maxWidth,n,"clientWidth")||Jm,a=ey(r.maxHeight,n,"clientHeight")||Jm,l=aU(n,t,e);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const f=Rl(r,"border","width"),p=Rl(r,"padding");u-=p.width+f.width,c-=p.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=rg(Math.min(u,o,l.maxWidth)),c=rg(Math.min(c,a,l.maxHeight)),u&&!c&&(c=rg(u/2)),(t!==void 0||e!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=rg(Math.floor(c*i))),{width:u,height:c}}function rA(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const uU=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};F1()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function sA(n,t){const e=iU(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const cU=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},hU=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ru(n,t,e){return n?cU(t,e):hU()}function hL(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function dL(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class dU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ZR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qr=new dU;const oA="transparent",fU={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Qk(n||oA),r=i.valid&&Qk(t||oA);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class pU{constructor(t,e,i,r){const s=e[i];r=ig([t.to,r,s,t.from]);const o=ig([t.from,s,r]);this._active=!0,this._fn=t.fn||fU[t.type||typeof o],this._easing=ud[t.easing]||ud.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=ig([t.to,e,r,t.from]),this._from=ig([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||e<i),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class fL{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Et(t))return;const e=Object.keys(ce.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!Et(s))return;const o={};for(const a of e)o[a]=s[a];(Se(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){const i=e.options,r=mU(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&gU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,e));continue}const c=e[u];let d=s[u];const f=i.get(u);if(d)if(f&&d.active()){d.update(f,c,a);continue}else d.cancel();if(!f||!f.duration){t[u]=c;continue}s[u]=d=new pU(f,t,u,c),r.push(d)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Qr.add(this._chart,i),!0}}function gU(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function mU(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function aA(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function yU(n,t,e){if(e===!1)return!1;const i=aA(n,e),r=aA(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function bU(n){let t,e,i,r;return Et(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function pL(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function lA(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,a,l,u;if(t===null)return;let c=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===e){if(c=!0,i.all)continue;break}u=n.values[l],Ni(u)&&(s||t===0||Wo(t)===Wo(u))&&(t+=u)}return!c&&!i.all?0:t}function xU(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[r]:c,[s]:n[c]};return a}function hb(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function wU(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function vU(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function _U(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function uA(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function cA(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,c=wU(s,o,i),d=t.length;let f;for(let p=0;p<d;++p){const g=t[p],{[l]:m,[u]:x}=g,y=g._stacks||(g._stacks={});f=y[u]=_U(r,c,m),f[a]=x,f._top=uA(f,o,!0,i.type),f._bottom=uA(f,o,!1,i.type);const b=f._visualValues||(f._visualValues={});b[a]=x}}function db(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function SU(n,t){return eh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function kU(n,t,e){return eh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function wh(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const fb=n=>n==="reset"||n==="none",hA=(n,t)=>t?n:Object.assign({},n),AU=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:pL(e,!0),values:null};class hd{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=hb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&wh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(d,f,p,g)=>d==="x"?f:d==="r"?g:p,s=e.xAxisID=Pt(i.xAxisID,db(t,"x")),o=e.yAxisID=Pt(i.yAxisID,db(t,"y")),a=e.rAxisID=Pt(i.rAxisID,db(t,"r")),l=e.indexAxis,u=e.iAxisID=r(l,s,o,a),c=e.vAxisID=r(l,o,s,a);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Xk(this._data,this),t._stacked&&wh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Et(e)){const r=this._cachedMeta;this._data=xU(e,r)}else if(i!==e){if(i){Xk(i,this);const r=this._cachedMeta;wh(r),r._parsed=[]}e&&Object.isExtensible(e)&&C$(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=hb(e.vScale,e),e.stack!==i.stack&&(r=!0,wh(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&(cA(this,e._parsed),e._stacked=hb(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&e===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{Se(r[t])?f=this.parseArrayData(i,r,t,e):Et(r[t])?f=this.parseObjectData(i,r,t,e):f=this.parsePrimitiveData(i,r,t,e);const p=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<e;++c)i._parsed[c+t]=d=f[c],l&&(p()&&(l=!1),u=d);i._sorted=l}o&&cA(this,f)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,d=new Array(r);let f,p,g;for(f=0,p=r;f<p;++f)g=f+i,d[f]={[a]:c||s.parse(u[g],g),[l]:o.parse(e[g],g)};return d}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,u,c,d;for(l=0,u=r;l<u;++l)c=l+i,d=e[c],a[l]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,d,f,p;for(c=0,d=r;c<d;++c)f=c+i,p=e[f],u[c]={x:s.parse(Wc(p,a),f),y:o.parse(Wc(p,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],a={keys:pL(r,!0),values:e._stacks[t.axis]._visualValues};return lA(a,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const a=r&&i._stacks[e.axis];r&&a&&(r.values=a,o=lA(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=AU(e,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=vU(a);let f,p;function g(){p=r[f];const m=p[a.axis];return!Ni(p[t.axis])||c>m||d<m}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(u,t,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,t,p,l);break}}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],Ni(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=bU(Pt(this.options.clip,yU(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,s,a,l),c=a;c<a+l;++c){const d=r[c];d.hidden||(d.active&&u?o.push(d):d.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=kU(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=SU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,a=s[o],l=this.enableOptionSharing&&zd(i);if(a)return hA(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),d=r?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),c),p=Object.keys(ce.elements[t]),g=()=>this.getContext(i,r,e),m=u.resolveNamedOptions(f,p,g,d);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(hA(m,l))),m}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,e),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(t,i,e))}const u=new fL(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||fb(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){fb(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!fb(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let a;const l=u=>{for(u.length+=e,a=u.length-1;a>=o;a--)u[a]=u[a-e]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&wh(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}H(hd,"defaults",{}),H(hd,"datasetElementType",null),H(hd,"dataElementType",null);function EU(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=JR(i.sort((r,s)=>r-s))}return n._cache.$bar}function CU(n){const t=n.iScale,e=EU(t,n.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(zd(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function TU(n,t,e,i){const r=e.barThickness;let s,o;return Nt(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function PU(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:u}}function MU(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[e.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function gL(n,t,e,i){return Se(n)?MU(n,t,e,i):t[e.axis]=e.parse(n,i),t}function dA(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[];let u,c,d,f;for(u=e,c=e+i;u<c;++u)f=t[u],d={},d[r.axis]=a||r.parse(o[u],u),l.push(gL(f,d,s,u));return l}function pb(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function RU(n,t,e){return n!==0?Wo(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function LU(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function IU(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=LU(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=u:(e._bottom||0)===i?r=c:(s[fA(c,o,a,l)]=!0,r=u)),s[fA(r,o,a,l)]=!0,n.borderSkipped=s}function fA(n,t,e,i){return i?(n=DU(n,t,e),n=pA(n,e,t)):n=pA(n,t,e),n}function DU(n,t,e){return n===t?e:n===e?t:n}function pA(n,t,e){return n==="start"?t:n==="end"?e:n}function OU(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class om extends hd{parsePrimitiveData(t,e,i,r){return dA(t,e,i,r)}parseArrayData(t,e,i,r){return dA(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,d=[];let f,p,g,m;for(f=i,p=i+r;f<p;++f)m=e[f],g={},g[s.axis]=s.parse(Wc(m,u),f),d.push(gL(Wc(m,c),g,o,f));return d}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,a=pb(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,r);for(let p=e;p<e+i;p++){const g=this.getParsed(p),m=s||Nt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,c),y=(g._stacks||{})[a.axis],b={horizontal:u,base:m.base,enableBorderRadius:!y||pb(g._custom)||o===y._top||o===y._bottom,x:u?m.head:x.center,y:u?x.center:m.head,height:u?x.size:Math.abs(m.size),width:u?Math.abs(m.size):x.size};f&&(b.options=d||this.resolveDataElementOptions(p,t[p].active?"active":r));const w=b.options||t[p].options;IU(b,w,y,o),OU(b,w,c.ratio),this.updateElement(t[p],p,b,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),l=a&&a[i.axis],u=c=>{const d=c._parsed.find(p=>p[i.axis]===l),f=d&&d[c.vScale.axis];if(Nt(f)||isNaN(f))return!0};for(const c of r)if(!(e!==void 0&&u(c))&&((s===!1||o.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||CU(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,c=pb(u);let d=l[e.axis],f=0,p=i?this.applyStack(e,l,i):d,g,m;p!==d&&(f=p-d,p=d),c&&(d=u.barStart,p=u.barEnd-u.barStart,d!==0&&Wo(d)!==Wo(u.barEnd)&&(f=0),f+=d);const x=!Nt(s)&&!c?s:f;let y=e.getPixelForValue(x);if(this.chart.getDataVisibility(t)?g=e.getPixelForValue(f+p):g=y,m=g-y,Math.abs(m)<o){m=RU(m,e,a)*o,d===a&&(y-=m/2);const b=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),k=Math.min(b,w),E=Math.max(b,w);y=Math.max(Math.min(y,E),k),g=y+m,i&&!c&&(l._stacks[e.axis]._visualValues[r]=e.getValueForPixel(g)-e.getValueForPixel(y))}if(y===e.getPixelForValue(a)){const b=Wo(m)*e.getLineWidthForValue(a)/2;y+=b,m-=b}return{size:m,base:y,head:g,center:g+m/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=Pt(r.maxBarThickness,1/0);let a,l;if(e.grouped){const u=s?this._getStackCount(t):e.stackCount,c=r.barThickness==="flex"?PU(t,e,r,u):TU(t,e,r,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=c.start+c.chunk*d+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}H(om,"id","bar"),H(om,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),H(om,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function la(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class z1{constructor(t){H(this,"options");this.options=t||{}}static override(t){Object.assign(z1.prototype,t)}init(){}formats(){return la()}parse(){return la()}format(){return la()}add(){return la()}diff(){return la()}startOf(){return la()}endOf(){return la()}}var FU={_date:z1};function NU(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const u=a._reversePixels?A$:Ww;if(i){if(r._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){const f=u(s,t,e-d),p=u(s,t,e+d);return{lo:f.lo,hi:p.hi}}}}else{const c=u(s,t,e);if(l){const{vScale:d}=r._cachedMeta,{_parsed:f}=n,p=f.slice(0,c.lo+1).reverse().findIndex(m=>!Nt(m[d.axis]));c.lo-=Math.max(0,p);const g=f.slice(c.hi).findIndex(m=>!Nt(m[d.axis]));c.hi+=Math.max(0,g)}return c}}return{lo:0,hi:s.length-1}}function o0(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:d,hi:f}=NU(s[a],t,o,r);for(let p=d;p<=f;++p){const g=c[p];g.skip||i(g,u,p)}}}function zU(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function gb(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||o0(n,e,t,function(a,l,u){!r&&!sL(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function BU(n,t,e,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:d}=YR(o,{x:t.x,y:t.y});KR(d,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return o0(n,e,t,s),r}function jU(n,t,e,i,r,s){let o=[];const a=zU(e);let l=Number.POSITIVE_INFINITY;function u(c,d,f){const p=c.inRange(t.x,t.y,r);if(i&&!p)return;const g=c.getCenterPoint(r);if(!(!!s||n.isPointInArea(g))&&!p)return;const x=a(t,g);x<l?(o=[{element:c,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:c,datasetIndex:d,index:f})}return o0(n,e,t,u),o}function mb(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?BU(n,t,e,r):jU(n,t,e,i,r,s)}function gA(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return o0(n,e,t,(l,u,c)=>{l[o]&&l[o](t[e],r)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var HU={modes:{index(n,t,e,i){const r=pa(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?gb(n,r,s,i,o):mb(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(n,t,e,i){const r=pa(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?gb(n,r,s,i,o):mb(n,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=n.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(n,t,e,i){const r=pa(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return gb(n,r,s,i,o)},nearest(n,t,e,i){const r=pa(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return mb(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=pa(t,n);return gA(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=pa(t,n);return gA(n,r,"y",e.intersect,i)}}};const mL=["left","top","right","bottom"];function vh(n,t){return n.filter(e=>e.pos===t)}function mA(n,t){return n.filter(e=>mL.indexOf(e.pos)===-1&&e.box.axis===t)}function _h(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function $U(n){const t=[];let e,i,r,s,o,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function UU(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!mL.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function VU(n,t){const e=UU(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,u=e[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&t.availableHeight)}return e}function WU(n){const t=$U(n),e=_h(t.filter(u=>u.box.fullSize),!0),i=_h(vh(t,"left"),!0),r=_h(vh(t,"right")),s=_h(vh(t,"top"),!0),o=_h(vh(t,"bottom")),a=mA(t,"x"),l=mA(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:vh(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function yA(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function yL(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function GU(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!Et(r)){e.size&&(n[r]-=e.size);const d=i[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?s.height:s.width),e.size=d.size/d.count,n[r]+=e.size}s.getPadding&&yL(o,s.getPadding());const a=Math.max(0,t.outerWidth-yA(o,n,"left","right")),l=Math.max(0,t.outerHeight-yA(o,n,"top","bottom")),u=a!==n.w,c=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:u,other:c}:{same:c,other:u}}function qU(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function XU(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Gh(n,t,e,i){const r=[];let s,o,a,l,u,c;for(s=0,o=n.length,u=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||t.w,a.height||t.h,XU(a.horizontal,t));const{same:d,other:f}=GU(t,e,a,i);u|=d&&r.length,c=c||f,l.fullSize||r.push(a)}return u&&Gh(r,t,e,i)||c}function sg(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function bA(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const a of n){const l=a.box,u=i[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=t.w*c,f=u.size||l.height;zd(u.start)&&(o=u.start),l.fullSize?sg(l,r.left,o,e.outerWidth-r.right-r.left,f):sg(l,t.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=t.h*c,f=u.size||l.width;zd(u.start)&&(s=u.start),l.fullSize?sg(l,s,r.top,f,e.outerHeight-r.bottom-r.top):sg(l,s,t.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}t.x=s,t.y=o}var Li={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=zi(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=WU(n.boxes),l=a.vertical,u=a.horizontal;Lt(n.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const c=l.reduce((m,x)=>x.box.options&&x.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);yL(f,zi(i));const p=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=VU(l.concat(u),d);Gh(a.fullSize,p,d,g),Gh(l,p,d,g),Gh(u,p,d,g)&&Gh(l,p,d,g),qU(p),bA(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,bA(a.rightAndBottom,p,d,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Lt(a.chartArea,m=>{const x=m.box;Object.assign(x,n.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class bL{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class YU extends bL{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const am="$chartjs",KU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xA=n=>n===null||n==="";function QU(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[am]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",xA(r)){const s=sA(n,"width");s!==void 0&&(n.width=s)}if(xA(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=sA(n,"height");s!==void 0&&(n.height=s)}return n}const xL=uU?{passive:!0}:!1;function JU(n,t,e){n&&n.addEventListener(t,e,xL)}function ZU(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,xL)}function tV(n,t){const e=KU[n.type]||n.type,{x:i,y:r}=pa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ny(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function eV(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ny(a.addedNodes,i),o=o&&!ny(a.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function nV(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ny(a.removedNodes,i),o=o&&!ny(a.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const jd=new Map;let wA=0;function wL(){const n=window.devicePixelRatio;n!==wA&&(wA=n,jd.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function iV(n,t){jd.size||window.addEventListener("resize",wL),jd.set(n,t)}function rV(n){jd.delete(n),jd.size||window.removeEventListener("resize",wL)}function sV(n,t,e){const i=n.canvas,r=i&&N1(i);if(!r)return;const s=tL((a,l)=>{const u=r.clientWidth;e(a,l),u<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),iV(n,s),o}function yb(n,t,e){e&&e.disconnect(),t==="resize"&&rV(n)}function oV(n,t,e){const i=n.canvas,r=tL(s=>{n.ctx!==null&&e(tV(s,n))},n);return JU(i,t,r),r}class aV extends bL{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(QU(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[am])return!1;const i=e[am].initial;["height","width"].forEach(s=>{const o=i[s];Nt(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[am],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:eV,detach:nV,resize:sV}[e]||oV;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:yb,detach:yb,resize:yb}[e]||ZU)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return lU(t,e,i,r)}isAttached(t){const e=t&&N1(t);return!!(e&&e.isConnected)}}function lV(n){return!F1()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?YU:aV}class Bs{constructor(){H(this,"x");H(this,"y");H(this,"active",!1);H(this,"options");H(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Zm(this.x)&&Zm(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}H(Bs,"defaults",{}),H(Bs,"defaultRoutes");function uV(n,t){const e=n.options.ticks,i=cV(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?dV(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return fV(t,u,s,o/r),u;const c=hV(s,t,r);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(og(t,u,c,Nt(p)?0:a-p,a),d=0,f=o-1;d<f;d++)og(t,u,c,s[d],s[d+1]);return og(t,u,c,l,Nt(p)?t.length:l+p),u}return og(t,u,c),u}function cV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function hV(n,t,e){const i=pV(n),r=t.length/e;if(!i)return Math.max(r,1);const s=b$(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function dV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function fV(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function og(n,t,e,i,r){const s=Pt(i,0),o=Math.min(Pt(r,n.length),n.length);let a=0,l,u,c;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),c=s;c<0;)a++,c=Math.round(s+a*e);for(u=Math.max(s,0);u<o;u++)u===c&&(t.push(n[u]),a++,c=Math.round(s+a*e))}function pV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const gV=n=>n==="left"?"right":n==="right"?"left":n,vA=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,_A=(n,t)=>Math.min(t||n,n);function SA(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function mV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(r),u;if(!(e&&(i===1?u=Math.max(l-s,o-l):t===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<s-a||l>o+a)))return l}function yV(n,t){Lt(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Sh(n){return n.drawTicks?n.tickLength:0}function kA(n,t){if(!n.display)return 0;const e=an(n.font,t),i=zi(n.padding);return(Se(n.text)?n.text.length:1)*e.lineHeight+i.height}function bV(n,t){return eh(n,{scale:t,type:"scale"})}function xV(n,t,e){return eh(n,{tick:e,index:t,type:"tick"})}function wV(n,t,e){let i=P1(n);return(e&&t!=="right"||!e&&t==="right")&&(i=gV(i)),i}function vV(n,t,e,i){const{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:u,scales:c}=l;let d=0,f,p,g;const m=o-r,x=a-s;if(n.isHorizontal()){if(p=tn(i,s,a),Et(e)){const y=Object.keys(e)[0],b=e[y];g=c[y].getPixelForValue(b)+m-t}else e==="center"?g=(u.bottom+u.top)/2+m-t:g=vA(n,e,t);f=a-s}else{if(Et(e)){const y=Object.keys(e)[0],b=e[y];p=c[y].getPixelForValue(b)-x+t}else e==="center"?p=(u.left+u.right)/2-x+t:p=vA(n,e,t);g=tn(i,o,r),d=e==="left"?-$e:$e}return{titleX:p,titleY:g,maxWidth:f,rotation:d}}class nh extends Bs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=mr(t,Number.POSITIVE_INFINITY),e=mr(e,Number.NEGATIVE_INFINITY),i=mr(i,Number.POSITIVE_INFINITY),r=mr(r,Number.NEGATIVE_INFINITY),{min:mr(t,i),max:mr(e,r),minDefined:Ni(t),maxDefined:Ni(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:mr(e,mr(i,e)),max:mr(i,mr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=q$(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?SA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=uV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Wt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Wt(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=_A(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,p=Bn(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/i:p/(i-1),d+6>a&&(a=p/(i-(t.offset?.5:1)),l=this.maxHeight-Sh(t.grid)-e.padding-kA(t.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=_$(Math.min(Math.asin(Bn((c.highest.height+6)/a,-1,1)),Math.asin(Bn(l/u,-1,1))-Math.asin(Bn(f/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=kA(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Sh(s)+l):(t.height=this.maxHeight,t.width=Sh(s)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),p=i.padding*2,g=_a(this.labelRotation),m=Math.cos(g),x=Math.sin(g);if(a){const y=i.mirror?0:x*d.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=i.mirror?0:m*d.width+x*f.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(u,c,x,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?u?(f=r*t.width,p=i*e.height):(f=i*t.height,p=r*e.width):s==="start"?p=e.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,p=e.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let c=e.height/2,d=t.height/2;s==="start"?(c=0,d=t.height):s==="end"&&(c=e.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Nt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=SA(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(e/_A(e,i));let u=0,c=0,d,f,p,g,m,x,y,b,w,k,E;for(d=0;d<e;d+=l){if(g=t[d].label,m=this._resolveTickFontOptions(d),r.font=x=m.string,y=s[x]=s[x]||{data:{},gc:[]},b=m.lineHeight,w=k=0,!Nt(g)&&!Se(g))w=Zk(r,y.data,y.gc,w,g),k=b;else if(Se(g))for(f=0,p=g.length;f<p;++f)E=g[f],!Nt(E)&&!Se(E)&&(w=Zk(r,y.data,y.gc,w,E),k+=b);o.push(w),a.push(k),u=Math.max(w,u),c=Math.max(k,c)}yV(s,e);const A=o.indexOf(u),C=a.indexOf(c),R=L=>({width:o[L]||0,height:a[L]||0});return{first:R(0),last:R(e-1),widest:R(A),highest:R(C),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return k$(this._alignToPixels?aa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=xV(this.getContext(),t,i))}return this.$context||(this.$context=bV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=_a(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Sh(s),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,x=m/2,y=function(z){return aa(i,z,m)};let b,w,k,E,A,C,R,L,P,I,F,Y;if(o==="top")b=y(this.bottom),C=this.bottom-f,L=b-x,I=y(t.top)+x,Y=t.bottom;else if(o==="bottom")b=y(this.top),I=t.top,Y=y(t.bottom)-x,C=b+x,L=this.top+f;else if(o==="left")b=y(this.right),A=this.right-f,R=b-x,P=y(t.left)+x,F=t.right;else if(o==="right")b=y(this.left),P=t.left,F=y(t.right)-x,A=b+x,R=this.left+f;else if(e==="x"){if(o==="center")b=y((t.top+t.bottom)/2+.5);else if(Et(o)){const z=Object.keys(o)[0],j=o[z];b=y(this.chart.scales[z].getPixelForValue(j))}I=t.top,Y=t.bottom,C=b+x,L=C+f}else if(e==="y"){if(o==="center")b=y((t.left+t.right)/2);else if(Et(o)){const z=Object.keys(o)[0],j=o[z];b=y(this.chart.scales[z].getPixelForValue(j))}A=b-x,R=A-f,P=t.left,F=t.right}const q=Pt(r.ticks.maxTicksLimit,d),V=Math.max(1,Math.ceil(d/q));for(w=0;w<d;w+=V){const z=this.getContext(w),j=s.setContext(z),B=a.setContext(z),W=j.lineWidth,T=j.color,rt=B.dash||[],nt=B.dashOffset,M=j.tickWidth,_t=j.tickColor,Qt=j.tickBorderDash||[],ot=j.tickBorderDashOffset;k=mV(this,w,l),k!==void 0&&(E=aa(i,k,W),u?A=R=P=F=E:C=L=I=Y=E,p.push({tx1:A,ty1:C,tx2:R,ty2:L,x1:P,y1:I,x2:F,y2:Y,width:W,color:T,borderDash:rt,borderDashOffset:nt,tickWidth:M,tickColor:_t,tickBorderDash:Qt,tickBorderDashOffset:ot}))}return this._ticksLength=d,this._borderValue=b,p}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,f=Sh(i.grid),p=f+c,g=d?-c:p,m=-_a(this.labelRotation),x=[];let y,b,w,k,E,A,C,R,L,P,I,F,Y="middle";if(r==="top")A=this.bottom-g,C=this._getXAxisLabelAlignment();else if(r==="bottom")A=this.top+g,C=this._getXAxisLabelAlignment();else if(r==="left"){const V=this._getYAxisLabelAlignment(f);C=V.textAlign,E=V.x}else if(r==="right"){const V=this._getYAxisLabelAlignment(f);C=V.textAlign,E=V.x}else if(e==="x"){if(r==="center")A=(t.top+t.bottom)/2+p;else if(Et(r)){const V=Object.keys(r)[0],z=r[V];A=this.chart.scales[V].getPixelForValue(z)+p}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")E=(t.left+t.right)/2-p;else if(Et(r)){const V=Object.keys(r)[0],z=r[V];E=this.chart.scales[V].getPixelForValue(z)}C=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const q=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){w=a[y],k=w.label;const V=s.setContext(this.getContext(y));R=this.getPixelForTick(y)+s.labelOffset,L=this._resolveTickFontOptions(y),P=L.lineHeight,I=Se(k)?k.length:1;const z=I/2,j=V.color,B=V.textStrokeColor,W=V.textStrokeWidth;let T=C;o?(E=R,C==="inner"&&(y===b-1?T=this.options.reverse?"left":"right":y===0?T=this.options.reverse?"right":"left":T="center"),r==="top"?u==="near"||m!==0?F=-I*P+P/2:u==="center"?F=-q.highest.height/2-z*P+P:F=-q.highest.height+P/2:u==="near"||m!==0?F=P/2:u==="center"?F=q.highest.height/2-z*P:F=q.highest.height-I*P,d&&(F*=-1),m!==0&&!V.showLabelBackdrop&&(E+=P/2*Math.sin(m))):(A=R,F=(1-I)*P/2);let rt;if(V.showLabelBackdrop){const nt=zi(V.backdropPadding),M=q.heights[y],_t=q.widths[y];let Qt=F-nt.top,ot=0-nt.left;switch(Y){case"middle":Qt-=M/2;break;case"bottom":Qt-=M;break}switch(C){case"center":ot-=_t/2;break;case"right":ot-=_t;break;case"inner":y===b-1?ot-=_t:y>0&&(ot-=_t/2);break}rt={left:ot,top:Qt,width:_t+nt.width,height:M+nt.height,color:V.backdropColor}}x.push({label:k,font:L,textOffset:F,options:{rotation:m,color:j,strokeColor:B,strokeWidth:W,textAlign:T,textBaseline:Y,translation:[E,A],backdrop:rt}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-_a(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let u,c;return e==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):e==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const l=r[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=aa(t,this.left,o)-o/2,c=aa(t,this.right,a)+a/2,d=f=l):(d=aa(t,this.top,o)-o/2,f=aa(t,this.bottom,a)+a/2,u=c=l),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(u,d),e.lineTo(c,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&M1(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Bd(i,u,0,c,l,a)}r&&R1(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=an(i.font),o=zi(i.padding),a=i.align;let l=s.lineHeight/2;e==="bottom"||e==="center"||Et(e)?(l+=o.bottom,Se(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=vV(this,l,e,a);Bd(t,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:wV(a,e,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Pt(t.grid&&t.grid.z,-1),r=Pt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==nh.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return an(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ag{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;kV(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,_V(t,o,i),this.override&&ce.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in ce[r]&&(delete ce[r][i],this.override&&delete $l[i])}}function _V(n,t,e){const i=Nd(Object.create(null),[e?ce.get(e):{},ce.get(t),n.defaults]);ce.set(t,i),n.defaultRoutes&&SV(t,n.defaultRoutes),n.descriptors&&ce.describe(t,n.descriptors)}function SV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");ce.route(s,r,l,a)})}function kV(n){return"id"in n&&"defaults"in n}class AV{constructor(){this.controllers=new ag(hd,"datasets",!0),this.elements=new ag(Bs,"elements"),this.plugins=new ag(Object,"plugins"),this.scales=new ag(nh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Lt(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const r=C1(t);Wt(i["before"+r],[],i),e[t](i),Wt(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var vr=new AV;class EV{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[e,r,s.options];if(Wt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Pt(i.options&&i.options.plugins,{}),s=CV(i);return r===!1&&!e?[]:PV(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function CV(n){const t={},e=[],i=Object.keys(vr.plugins.items);for(let s=0;s<i.length;s++)e.push(vr.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function TV(n,t){return!t&&n===!1?null:n===!0?{}:n}function PV(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const a of t){const l=a.id,u=TV(i[l],r);u!==null&&s.push({plugin:a,options:MV(n.config,{plugin:a,local:e[l]},u,o)})}return s}function MV(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qw(n,t){const e=ce.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function RV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function LV(n,t){return n===t?"_index_":"_value_"}function AA(n){if(n==="x"||n==="y"||n==="r")return n}function IV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Xw(n,...t){if(AA(n))return n;for(const e of t){const i=e.axis||IV(e.position)||n.length>1&&AA(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function EA(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function DV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return EA(n,"x",e[0])||EA(n,"y",e[0])}return{}}function OV(n,t){const e=$l[n.type]||{scales:{}},i=t.scales||{},r=qw(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!Et(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Xw(o,a,DV(o,n),ce.scales[a.type]),u=LV(l,r),c=e.scales||{};s[o]=ld(Object.create(null),[{axis:l},a,c[l],c[u]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||qw(a,t),c=($l[a]||{}).scales||{};Object.keys(c).forEach(d=>{const f=RV(d,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),ld(s[p],[{axis:f},i[p],c[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];ld(a,[ce.scales[a.type],ce.scale])}),s}function vL(n){const t=n.options||(n.options={});t.plugins=Pt(t.plugins,{}),t.scales=OV(n,t)}function _L(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function FV(n){return n=n||{},n.data=_L(n.data),vL(n),n}const CA=new Map,SL=new Set;function lg(n,t){let e=CA.get(n);return e||(e=t(),CA.set(n,e),SL.add(e)),e}const kh=(n,t,e)=>{const i=Wc(t,e);i!==void 0&&n.add(i)};class NV{constructor(t){this._config=FV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=_L(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vL(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return lg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(c=>{t&&(l.add(t),c.forEach(d=>kh(l,t,d))),c.forEach(d=>kh(l,r,d)),c.forEach(d=>kh(l,$l[s]||{},d)),c.forEach(d=>kh(l,ce,d)),c.forEach(d=>kh(l,Gw,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),SL.has(e)&&o.set(e,u),u}chartOptionScopes(){const{options:t,type:e}=this;return[t,$l[e]||{},ce.datasets[e]||{},{type:e},ce,Gw]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=TA(this._resolverCache,t,r);let l=o;if(BV(o,e)){s.$shared=!1,i=Ko(i)?i():i;const u=this.createResolver(t,i,a);l=Gc(o,i,u)}for(const u of e)s[u]=l[u];return s}createResolver(t,e,i=[""],r){const{resolver:s}=TA(this._resolverCache,t,i);return Et(e)?Gc(s,e,void 0,r):s}}function TA(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:I1(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const zV=n=>Et(n)&&Object.getOwnPropertyNames(n).some(t=>Ko(n[t]));function BV(n,t){const{isScriptable:e,isIndexable:i}=aL(n);for(const r of t){const s=e(r),o=i(r),a=(o||s)&&n[r];if(s&&(Ko(a)||zV(a))||o&&Se(a))return!0}return!1}var jV="4.4.8";const HV=["top","bottom","left","right","chartArea"];function PA(n,t){return n==="top"||n==="bottom"||HV.indexOf(n)===-1&&t==="x"}function MA(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function RA(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Wt(e&&e.onComplete,[n],t)}function $V(n){const t=n.chart,e=t.options.animation;Wt(e&&e.onProgress,[n],t)}function kL(n){return F1()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const lm={},LA=n=>{const t=kL(n);return Object.values(lm).filter(e=>e.canvas===t).pop()};function UV(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function VV(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function ug(n,t,e){return n.options.clip?n[e]:t[e]}function WV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ug(e,t,"left"),right:ug(e,t,"right"),top:ug(i,t,"top"),bottom:ug(i,t,"bottom")}:t}var qs;let a0=(qs=class{static register(...t){vr.add(...t),IA()}static unregister(...t){vr.remove(...t),IA()}constructor(t,e){const i=this.config=new NV(e),r=kL(t),s=LA(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||lV(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=c$(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new EV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=T$(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],lm[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Qr.listen(this,"complete",RA),Qr.listen(this,"progress",$V),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Nt(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return vr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tA(this.canvas,this.ctx),this}stop(){return Qr.stop(this),this}resize(t,e){Qr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rA(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Wt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Lt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const a=e[o],l=Xw(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Lt(s,o=>{const a=o.options,l=a.id,u=Xw(l,a),c=Pt(a.type,o.dtype);(a.position===void 0||PA(a.position,u)!==PA(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===c)d=i[l];else{const f=vr.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,t)}),Lt(r,(o,a)=>{o||delete i[a]}),Lt(i,o=>{Li.configure(this,o,o.options),Li.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(MA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||qw(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=vr.getController(a),{datasetElementType:u,dataElementType:c}=ce.datasets[a];Object.assign(l,{dataElementType:vr.getElement(c),datasetElementType:u&&vr.getElement(u)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Lt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Lt(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(MA("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Lt(this.scales,t=>{Li.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Vk(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;UV(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!Vk(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Li.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Lt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ko(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qr.has(this)?this.attached&&!Qr.running(this)&&Qr.start(this):(this.draw(),RA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=WV(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&M1(e,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&R1(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return sL(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=HU.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=eh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);zd(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Qr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),tA(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete lm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Lt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,u)=>{e.addEventListener(this,l,u),t[l]=u},r=(l,u)=>{t[l]&&(e.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Lt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Lt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,a,l;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Km(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=s(e,t),a=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,a=this._getActiveElements(t,r,i,o),l=m$(t),u=VV(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Wt(s.onHover,[t,a,this],this),l&&Wt(s.onClick,[t,a,this],this));const c=!Km(a,r);return(c||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=u,c}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},H(qs,"defaults",ce),H(qs,"instances",lm),H(qs,"overrides",$l),H(qs,"registry",vr),H(qs,"version",jV),H(qs,"getChart",LA),qs);function IA(){return Lt(a0.instances,n=>n._plugins.invalidate())}function GV(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let u=r/a;n.beginPath(),n.arc(s,o,a,i-u,e+u),l>r?(u=r/l,n.arc(s,o,l,e+u,i-u,!0)):n.arc(s,o,r,e+$e,i-$e),n.closePath(),n.clip()}function qV(n){return L1(n,["outerStart","outerEnd","innerStart","innerEnd"])}function XV(n,t,e,i){const r=qV(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),a=l=>{const u=(e-Math.min(s,l))*i/2;return Bn(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Bn(r.innerStart,0,o),innerEnd:Bn(r.innerEnd,0,o)}}function Jl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function iy(n,t,e,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=t,d=Math.max(t.outerRadius+i+e-u,0),f=c>0?c+i+e+u:0;let p=0;const g=r-l;if(i){const V=c>0?c-i:0,z=d>0?d-i:0,j=(V+z)/2,B=j!==0?g*j/(j+i):g;p=(g-B)/2}const m=Math.max(.001,g*d-e/De)/d,x=(g-m)/2,y=l+x+p,b=r-x-p,{outerStart:w,outerEnd:k,innerStart:E,innerEnd:A}=XV(t,f,d,b-y),C=d-w,R=d-k,L=y+w/C,P=b-k/R,I=f+E,F=f+A,Y=y+E/I,q=b-A/F;if(n.beginPath(),s){const V=(L+P)/2;if(n.arc(o,a,d,L,V),n.arc(o,a,d,V,P),k>0){const W=Jl(R,P,o,a);n.arc(W.x,W.y,k,P,b+$e)}const z=Jl(F,b,o,a);if(n.lineTo(z.x,z.y),A>0){const W=Jl(F,q,o,a);n.arc(W.x,W.y,A,b+$e,q+Math.PI)}const j=(b-A/f+(y+E/f))/2;if(n.arc(o,a,f,b-A/f,j,!0),n.arc(o,a,f,j,y+E/f,!0),E>0){const W=Jl(I,Y,o,a);n.arc(W.x,W.y,E,Y+Math.PI,y-$e)}const B=Jl(C,y,o,a);if(n.lineTo(B.x,B.y),w>0){const W=Jl(C,L,o,a);n.arc(W.x,W.y,w,y-$e,L)}}else{n.moveTo(o,a);const V=Math.cos(L)*d+o,z=Math.sin(L)*d+a;n.lineTo(V,z);const j=Math.cos(P)*d+o,B=Math.sin(P)*d+a;n.lineTo(j,B)}n.closePath()}function YV(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){iy(n,t,e,i,l,r);for(let u=0;u<s;++u)n.fill();isNaN(a)||(l=o+(a%vn||vn))}return iy(n,t,e,i,l,r),n.fill(),l}function KV(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!u)return;n.setLineDash(d||[]),n.lineDashOffset=f,p?(n.lineWidth=u*2,n.lineJoin=c||"round"):(n.lineWidth=u,n.lineJoin=c||"bevel");let g=t.endAngle;if(s){iy(n,t,e,i,g,r);for(let m=0;m<s;++m)n.stroke();isNaN(a)||(g=o+(a%vn||vn))}p&&GV(n,t,g),s||(iy(n,t,e,i,g,r),n.stroke())}class qh extends Bs{constructor(e){super();H(this,"circumference");H(this,"endAngle");H(this,"fullCircles");H(this,"innerRadius");H(this,"outerRadius");H(this,"pixelMargin");H(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=YR(s,{x:e,y:i}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=Pt(f,u-l),m=KR(o,l,u)&&l!==u,x=g>=vn||m,y=Sa(a,c+p,d+p);return x&&y}getCenterPoint(e){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:c}=this.options,d=(s+o)/2,f=(a+l+c+u)/2;return{x:i+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>vn?Math.floor(r/vn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(De,r||0)),c=s*u;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,YV(e,this,c,o,a),KV(e,this,c,o,a),e.restore()}}H(qh,"id","arc"),H(qh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),H(qh,"defaultRoutes",{backgroundColor:"backgroundColor"}),H(qh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function AL(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,u,c,d;return n.horizontal?(d=o/2,a=Math.min(e,r),l=Math.max(e,r),u=i-d,c=i+d):(d=s/2,a=e-d,l=e+d,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function Do(n,t,e,i){return n?0:Bn(t,e,i)}function QV(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=oL(i);return{t:Do(r.top,s.top,0,e),r:Do(r.right,s.right,0,t),b:Do(r.bottom,s.bottom,0,e),l:Do(r.left,s.left,0,t)}}function JV(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Mu(r),o=Math.min(t,e),a=n.borderSkipped,l=i||Et(r);return{topLeft:Do(!l||a.top||a.left,s.topLeft,0,o),topRight:Do(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Do(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Do(!l||a.bottom||a.right,s.bottomRight,0,o)}}function ZV(n){const t=AL(n),e=t.right-t.left,i=t.bottom-t.top,r=QV(n,e/2,i/2),s=JV(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function bb(n,t,e,i){const r=t===null,s=e===null,a=n&&!(r&&s)&&AL(n,i);return a&&(r||Sa(t,a.left,a.right))&&(s||Sa(e,a.top,a.bottom))}function t6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function e6(n,t){n.rect(t.x,t.y,t.w,t.h)}function xb(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class um extends Bs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=ZV(this),a=t6(o.radius)?ty:e6;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,xb(o,e,s)),t.clip(),a(t,xb(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,xb(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return bb(this,t,e,i)}inXRange(t,e){return bb(this,t,null,e)}inYRange(t,e){return bb(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}H(um,"id","bar"),H(um,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),H(um,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const DA=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},n6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class OA extends Bs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Wt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=an(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=DA(i,s);let u,c;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let d=t;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-c;return this.legendItems.forEach((g,m)=>{const x=i+e/2+s.measureText(g.text).width;(m===0||u[u.length-1]+x+2*a>o)&&(d+=c,u[u.length-(m>0?0:1)]=0,p+=c,f++),l[m]={left:0,top:p,row:f,width:x,height:r},u[u.length-1]+=x+a}),d}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let d=a,f=0,p=0,g=0,m=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:b,itemHeight:w}=i6(i,e,s,x,r);y>0&&p+w+2*a>c&&(d+=f+a,u.push({width:f,height:p}),g+=f+a,m++,f=p=0),l[y]={left:g,top:p,col:m,width:b,height:w},f=Math.max(f,b),p+=w+a}),d+=f,u.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Ru(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=tn(i,this.left+r,this.right-this.lineWidths[a]);for(const u of e)a!==u.row&&(a=u.row,l=tn(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+t+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=tn(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const u of e)u.col!==a&&(a=u.col,l=tn(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;M1(t,this),this._draw(),R1(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=ce.color,l=Ru(t.rtl,this.left,this.width),u=an(o.font),{padding:c}=o,d=u.size,f=d/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:g,boxHeight:m,itemHeight:x}=DA(o,d),y=function(A,C,R){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;r.save();const L=Pt(R.lineWidth,1);if(r.fillStyle=Pt(R.fillStyle,a),r.lineCap=Pt(R.lineCap,"butt"),r.lineDashOffset=Pt(R.lineDashOffset,0),r.lineJoin=Pt(R.lineJoin,"miter"),r.lineWidth=L,r.strokeStyle=Pt(R.strokeStyle,a),r.setLineDash(Pt(R.lineDash,[])),o.usePointStyle){const P={radius:m*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:L},I=l.xPlus(A,g/2),F=C+f;rL(r,P,I,F,o.pointStyleWidth&&g)}else{const P=C+Math.max((d-m)/2,0),I=l.leftForLtr(A,g),F=Mu(R.borderRadius);r.beginPath(),Object.values(F).some(Y=>Y!==0)?ty(r,{x:I,y:P,w:g,h:m,radius:F}):r.rect(I,P,g,m),r.fill(),L!==0&&r.stroke()}r.restore()},b=function(A,C,R){Bd(r,R.text,A,C+x/2,u,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},w=this.isHorizontal(),k=this._computeTitleHeight();w?p={x:tn(s,this.left+c,this.right-i[0]),y:this.top+c+k,line:0}:p={x:this.left+c,y:tn(s,this.top+k+c,this.bottom-e[0].height),line:0},hL(this.ctx,t.textDirection);const E=x+c;this.legendItems.forEach((A,C)=>{r.strokeStyle=A.fontColor,r.fillStyle=A.fontColor;const R=r.measureText(A.text).width,L=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),P=g+f+R;let I=p.x,F=p.y;l.setWidth(this.width),w?C>0&&I+P+c>this.right&&(F=p.y+=E,p.line++,I=p.x=tn(s,this.left+c,this.right-i[p.line])):C>0&&F+E>this.bottom&&(I=p.x=I+e[p.line].width+c,p.line++,F=p.y=tn(s,this.top+k+c,this.bottom-e[p.line].height));const Y=l.x(I);if(y(Y,F,A),I=P$(L,I+g+f,w?I+P:this.right,t.rtl),b(l.x(I),F,A),w)p.x+=P+c;else if(typeof A.text!="string"){const q=u.lineHeight;p.y+=EL(A,q)+c}else p.y+=E}),dL(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=an(e.font),r=zi(e.padding);if(!e.display)return;const s=Ru(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,u=r.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=tn(t.align,d,this.right-f);else{const g=this.columnSizes.reduce((m,x)=>Math.max(m,x.height),0);c=u+tn(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=tn(a,d,d+f);o.textAlign=s.textAlign(P1(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Bd(o,e.text,p,c,i)}_computeTitleHeight(){const t=this.options.title,e=an(t.font),i=zi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Sa(t,this.left,this.right)&&Sa(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Sa(t,r.left,r.left+r.width)&&Sa(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!o6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=n6(r,i);r&&!s&&Wt(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Wt(e.onHover,[t,i,this],this)}else i&&Wt(e.onClick,[t,i,this],this)}}function i6(n,t,e,i,r){const s=r6(i,n,t,e),o=s6(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function r6(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function s6(n,t,e){let i=n;return typeof t.text!="string"&&(i=EL(t,e)),i}function EL(n,t){const e=n.text?n.text.length:0;return t*e}function o6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var a6={id:"legend",_element:OA,start(n,t,e){const i=n.legend=new OA({ctx:n.ctx,options:e,chart:n});Li.configure(n,i,e),Li.addBox(n,i)},stop(n){Li.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Li.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(e?0:void 0),c=zi(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class CL extends Bs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Se(i.text)?i.text.length:1;this._padding=zi(i.padding);const s=r*an(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,c,d;return this.isHorizontal()?(c=tn(a,i,s),d=e+t,u=s-i):(o.position==="left"?(c=i+t,d=tn(a,r,e),l=De*-.5):(c=s-t,d=tn(a,e,r),l=De*.5),u=r-e),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=an(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Bd(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:u,textAlign:P1(e.align),textBaseline:"middle",translation:[o,a]})}}function l6(n,t){const e=new CL({ctx:n.ctx,options:t,chart:n});Li.configure(n,e,t),Li.addBox(n,e),n.titleBlock=e}var u6={id:"title",_element:CL,start(n,t,e){l6(n,e)},stop(n){const t=n.titleBlock;Li.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Li.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xh={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=S$(t,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function br(n,t){return t&&(Se(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Jr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function c6(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function FA(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=t,l=an(t.bodyFont),u=an(t.titleFont),c=an(t.footerFont),d=s.length,f=r.length,p=i.length,g=zi(t.padding);let m=g.height,x=0,y=i.reduce((k,E)=>k+E.before.length+E.lines.length+E.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(m+=d*u.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){const k=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*k+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let b=0;const w=function(k){x=Math.max(x,e.measureText(k).width+b)};return e.save(),e.font=u.string,Lt(n.title,w),e.font=l.string,Lt(n.beforeBody.concat(n.afterBody),w),b=t.displayColors?o+2+t.boxPadding:0,Lt(i,k=>{Lt(k.before,w),Lt(k.lines,w),Lt(k.after,w)}),b=0,e.font=c.string,Lt(n.footer,w),e.restore(),x+=g.width,{width:x,height:m}}function h6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function d6(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function f6(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:a,right:l}}=n;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),d6(u,n,t,e)&&(u="center"),u}function NA(n,t,e){const i=e.yAlign||t.yAlign||h6(n,e);return{xAlign:e.xAlign||t.xAlign||f6(n,t,e,i),yAlign:i}}function p6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function g6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function zA(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,u=r+s,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:p}=Mu(o);let g=p6(t,a);const m=g6(t,l,u);return l==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(c,f)+r:a==="right"&&(g+=Math.max(d,p)+r),{x:Bn(g,0,i.width-t.width),y:Bn(m,0,i.height-t.height)}}function cg(n,t,e){const i=zi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function BA(n){return br([],Jr(n))}function m6(n,t,e){return eh(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function jA(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const TL={beforeTitle:qr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:qr,beforeBody:qr,beforeLabel:qr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Nt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:qr,afterBody:qr,beforeFooter:qr,footer:qr,afterFooter:qr};function Cn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?TL[t].call(e,i):r}class Yw extends Bs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new fL(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=m6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Cn(i,"beforeTitle",this,t),s=Cn(i,"title",this,t),o=Cn(i,"afterTitle",this,t);let a=[];return a=br(a,Jr(r)),a=br(a,Jr(s)),a=br(a,Jr(o)),a}getBeforeBody(t,e){return BA(Cn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Lt(t,s=>{const o={before:[],lines:[],after:[]},a=jA(i,s);br(o.before,Jr(Cn(a,"beforeLabel",this,s))),br(o.lines,Cn(a,"label",this,s)),br(o.after,Jr(Cn(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,e){return BA(Cn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Cn(i,"beforeFooter",this,t),s=Cn(i,"footer",this,t),o=Cn(i,"afterFooter",this,t);let a=[];return a=br(a,Jr(r)),a=br(a,Jr(s)),a=br(a,Jr(o)),a}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=e.length;l<u;++l)a.push(c6(this.chart,e[l]));return t.filter&&(a=a.filter((c,d,f)=>t.filter(c,d,f,i))),t.itemSort&&(a=a.sort((c,d)=>t.itemSort(c,d,i))),Lt(a,c=>{const d=jA(t.callbacks,c);r.push(Cn(d,"labelColor",this,c)),s.push(Cn(d,"labelPointStyle",this,c)),o.push(Cn(d,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Xh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=FA(this,i),u=Object.assign({},a,l),c=NA(this.chart,i,u),d=zA(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Mu(a),{x:f,y:p}=t,{width:g,height:m}=e;let x,y,b,w,k,E;return s==="center"?(k=p+m/2,r==="left"?(x=f,y=x-o,w=k+o,E=k-o):(x=f+g,y=x+o,w=k-o,E=k+o),b=x):(r==="left"?y=f+Math.max(l,c)+o:r==="right"?y=f+g-Math.max(u,d)-o:y=this.caretX,s==="top"?(w=p,k=w-o,x=y-o,b=y+o):(w=p+m,k=w+o,x=y+o,b=y-o),E=w),{x1:x,x2:y,x3:b,y1:w,y2:k,y3:E}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=Ru(i.rtl,this.x,this.width);for(t.x=cg(this,i.titleAlign,i),e.textAlign=u.textAlign(i.titleAlign),e.textBaseline="middle",o=an(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<s;++l)e.fillText(r[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,c=an(s.bodyFont),d=cg(this,"left",s),f=r.x(d),p=l<c.lineHeight?(c.lineHeight-l)/2:0,g=e.y+p;if(s.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=r.leftForLtr(f,u)+u/2,y=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,eA(t,m,x,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,eA(t,m,x,y)}else{t.lineWidth=Et(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=r.leftForLtr(f,u),x=r.leftForLtr(r.xPlus(f,1),u-2),y=Mu(o.borderRadius);Object.values(y).some(b=>b!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,ty(t,{x:m,y:g,w:u,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ty(t,{x,y:g+1,w:u-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(m,g,u,l),t.strokeRect(m,g,u,l),t.fillStyle=o.backgroundColor,t.fillRect(x,g+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,d=an(i.bodyFont);let f=d.lineHeight,p=0;const g=Ru(i.rtl,this.x,this.width),m=function(R){e.fillText(R,g.x(t.x+p),t.y+f/2),t.y+=f+s},x=g.textAlign(o);let y,b,w,k,E,A,C;for(e.textAlign=o,e.textBaseline="middle",e.font=d.string,t.x=cg(this,x,i),e.fillStyle=i.bodyColor,Lt(this.beforeBody,m),p=a&&x!=="right"?o==="center"?u/2+c:u+2+c:0,k=0,A=r.length;k<A;++k){for(y=r[k],b=this.labelTextColors[k],e.fillStyle=b,Lt(y.before,m),w=y.lines,a&&w.length&&(this._drawColorBox(e,t,k,g,i),f=Math.max(d.lineHeight,l)),E=0,C=w.length;E<C;++E)m(w[E]),f=d.lineHeight;Lt(y.after,m)}p=0,f=d.lineHeight,Lt(this.afterBody,m),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Ru(i.rtl,this.x,this.width);for(t.x=cg(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=an(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<s;++a)e.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:c}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=Mu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+d,l),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(a+u-f,l),e.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(a+u,l+c-g),e.quadraticCurveTo(a+u,l+c,a+u-g,l+c),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(a+p,l+c),e.quadraticCurveTo(a,l+c,a,l+c-p),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(a,l+d),e.quadraticCurveTo(a,l,a+d,l),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Xh[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=FA(this,t),l=Object.assign({},o,this._size),u=NA(e,t,l),c=zA(t,l,u,e);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=zi(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),hL(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),dL(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!Km(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),a=this._positionChanged(o,t),l=e||!Km(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=Xh[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}H(Yw,"positioners",Xh);var y6={id:"tooltip",_element:Yw,positioners:Xh,afterInit(n,t,e){e&&(n.tooltip=new Yw({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:TL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const b6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function x6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return b6(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const w6=(n,t)=>n===null?null:Bn(Math.round(n),0,t);function HA(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Kw extends nh{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Nt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:x6(i,t,Pt(e,t),this._addedLabels),w6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return HA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}H(Kw,"id","category"),H(Kw,"defaults",{ticks:{callback:HA}});function v6(n,t){const e=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=n,p=s||1,g=c-1,{min:m,max:x}=t,y=!Nt(o),b=!Nt(a),w=!Nt(u),k=(x-m)/(d+1);let E=Gk((x-m)/g/p)*p,A,C,R,L;if(E<1e-14&&!y&&!b)return[{value:m},{value:x}];L=Math.ceil(x/E)-Math.floor(m/E),L>g&&(E=Gk(L*E/g/p)*p),Nt(l)||(A=Math.pow(10,l),E=Math.ceil(E*A)/A),r==="ticks"?(C=Math.floor(m/E)*E,R=Math.ceil(x/E)*E):(C=m,R=x),y&&b&&s&&w$((a-o)/s,E/1e3)?(L=Math.round(Math.min((a-o)/E,c)),E=(a-o)/L,C=o,R=a):w?(C=y?o:C,R=b?a:R,L=u-1,E=(R-C)/L):(L=(R-C)/E,sm(L,Math.round(L),E/1e3)?L=Math.round(L):L=Math.ceil(L));const P=Math.max(qk(E),qk(C));A=Math.pow(10,Nt(l)?P:l),C=Math.round(C*A)/A,R=Math.round(R*A)/A;let I=0;for(y&&(f&&C!==o?(e.push({value:o}),C<o&&I++,sm(Math.round((C+I*E)*A)/A,o,$A(o,k,n))&&I++):C<o&&I++);I<L;++I){const F=Math.round((C+I*E)*A)/A;if(b&&F>a)break;e.push({value:F})}return b&&f&&R!==a?e.length&&sm(e[e.length-1].value,a,$A(a,k,n))?e[e.length-1].value=a:e.push({value:a}):(!b||R===a)&&e.push({value:R}),e}function $A(n,t,{horizontal:e,minRotation:i}){const r=_a(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class _6 extends nh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Nt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=e?r:l,a=l=>s=i?s:l;if(t){const l=Wo(r),u=Wo(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=v6(r,s);return t.bounds==="ticks"&&v$(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return nL(t,this.chart.options.locale,this.options.ticks.format)}}class Qw extends _6{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ni(t)?t:0,this.max=Ni(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=_a(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}H(Qw,"id","linear"),H(Qw,"defaults",{ticks:{callback:iL.formatters.numeric}});const l0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fn=Object.keys(l0);function UA(n,t){return n-t}function VA(n,t){if(Nt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Ni(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(Zm(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function WA(n,t,e,i){const r=Fn.length;for(let s=Fn.indexOf(n);s<r-1;++s){const o=l0[Fn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return Fn[s]}return Fn[r-1]}function S6(n,t,e,i,r){for(let s=Fn.length-1;s>=Fn.indexOf(e);s--){const o=Fn[s];if(l0[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return Fn[e?Fn.indexOf(e):0]}function k6(n){for(let t=Fn.indexOf(n)+1,e=Fn.length;t<e;++t)if(l0[Fn[t]].common)return Fn[t]}function GA(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=T1(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function A6(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function qA(n,t,e){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!e?i:A6(n,i,r,e)}class ry extends nh{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new FU._date(t.adapters.date);r.init(e),ld(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:VA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Ni(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=Ni(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=E$(r,s,o);return this._unit=e.unit||(i.autoSkip?WA(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):S6(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:k6(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),qA(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Bn(e,0,o),i=Bn(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||WA(s.minUnit,e,i,this._getLabelCapacity(e)),a=Pt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Zm(l)||l===!0,c={};let d=e,f,p;if(u&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,u?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<i;f=+t.add(f,a,o),p++)GA(c,f,g);return(f===i||r.bounds==="ticks"||p===1)&&GA(c,f,g),Object.keys(c).sort(UA).map(m=>+m)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,s=this._unit,o=e||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.ticks.callback;if(o)return Wt(o,[t,e,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],f=i[e],p=u&&d&&f&&f.major;return this._adapter.format(t,r||(p?d:c))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=_a(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,qA(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(VA(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return JR(t.sort(UA))}}H(ry,"id","time"),H(ry,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function hg(n,t,e){let i=0,r=n.length-1,s,o,a,l;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ww(n,"pos",t)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ww(n,"time",t)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);const u=o-s;return u?a+(l-a)*(t-s)/u:a}class XA extends ry{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=hg(e,this.min),this._tableRange=hg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,a,l,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=e&&u<=i&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(hg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return hg(this._table,i*this._tableRange+this._minPos,!0)}}H(XA,"id","timeseries"),H(XA,"defaults",ry.defaults);const PL="label";function YA(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function E6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function ML(n,t){n.labels=t}function RL(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PL;const i=[];n.datasets=t.map(r=>{const s=n.datasets.find(o=>o[e]===r[e]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function C6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PL;const e={labels:[],datasets:[]};return ML(e,n.labels),RL(e,n.datasets,t),e}function T6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...f}=n,p=te.useRef(null),g=te.useRef(null),m=()=>{p.current&&(g.current=new a0(p.current,{type:o,data:C6(a,s),options:l&&{...l},plugins:u}),YA(t,g.current))},x=()=>{YA(t,null),g.current&&(g.current.destroy(),g.current=null)};return te.useEffect(()=>{!r&&g.current&&l&&E6(g.current,l)},[r,l]),te.useEffect(()=>{!r&&g.current&&ML(g.current.config.data,a.labels)},[r,a.labels]),te.useEffect(()=>{!r&&g.current&&a.datasets&&RL(g.current.config.data,a.datasets,s)},[r,a.datasets]),te.useEffect(()=>{g.current&&(r?(x(),setTimeout(m)):g.current.update(d))},[r,l,a.labels,a.datasets,d]),te.useEffect(()=>{g.current&&(x(),setTimeout(m))},[o]),te.useEffect(()=>(m(),()=>x()),[]),Nn.createElement("canvas",{ref:p,role:"img",height:e,width:i,...f},c)}const P6=te.forwardRef(T6);function M6(n,t){return a0.register(t),te.forwardRef((e,i)=>Nn.createElement(P6,{...e,ref:i,type:n}))}const R6=M6("bar",om);a0.register(qh,Kw,Qw,um,u6,y6,a6);const L6=({title:n,content:t,type:e,onPrint:i,onCopy:r,className:s=""})=>{const[o,a]=Nn.useState(!1),l=Nn.useCallback(d=>{const f=d.split(`
`).filter(p=>p.includes("|"));if(f.length<3)return null;try{if(d.includes("Similar Segments Across Both Platforms")){const b=["MOTU Size","TWD Size","Share %"],w=f.slice(2).map(k=>{const E=k.split("|").filter(Boolean).map(L=>L.trim());if(E.length<5)return null;const A=parseFloat(E[1].replace(/[^0-9.-]/g,"")),C=parseFloat(E[3].replace(/[^0-9.-]/g,"")),R=parseFloat(E[4].replace(/[^0-9.-]/g,""));return isNaN(A)||isNaN(C)||isNaN(R)?null:{label:E[0],values:[A,C,R]}}).filter(Boolean);return{headers:b,data:w}}const p=f[0].split("|").filter(Boolean).map(b=>b.trim()),g=f.slice(2).map(b=>{const w=b.split("|").filter(Boolean).map(E=>E.trim());if(w.length<2)return null;const k=w.slice(1).map((E,A)=>{if(E.includes("%"))return parseFloat(E.replace(/[^0-9.-]/g,""));const C=parseFloat(E.replace(/[^0-9.-]/g,""));return isNaN(C)?null:C});return{label:w[0],values:k}}).filter(Boolean),m=p.slice(1).map((b,w)=>g.some(E=>E.values[w]!==null)?w:null).filter(b=>b!==null);return m.length===0?null:{headers:m.map(b=>p[b+1]),data:g.map(b=>({label:b.label,values:m.map(w=>b.values[w])}))}}catch(p){return console.error("Error parsing table data:",p),null}},[]),u=Nn.useCallback(()=>{const d=l(t);if(!d)return null;const{headers:f,data:p}=d,g={"MOTU Size":"rgba(59, 130, 246, 0.8)","TWD Size":"rgba(59, 130, 246, 0.8)","Share %":"rgba(139, 92, 246, 0.8)"};return D.jsx(R6,{data:{labels:p.map(m=>m.label),datasets:f.map((m,x)=>({label:m,data:p.map(y=>y.values[x]),backgroundColor:g[m]||`hsl(${x*50}, 70%, 60%)`,borderColor:"#ffffff",borderWidth:1}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{callbacks:{label:m=>{const x=m.dataset.label,y=m.parsed.y;return`${x}: ${y}${x.includes("%")?"%":""}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(m){const x=this.chart.data.datasets.some(y=>y.label.includes("%"));return m+(x?"%":"")}}}}}})},[t,l]),c=Nn.useCallback(()=>t?D.jsx("div",{className:"prose max-w-none",children:D.jsx(w1,{remarkPlugins:[H5],components:{table:d=>D.jsx("div",{className:"overflow-x-auto my-4",children:D.jsx("table",{className:"min-w-full divide-y divide-gray-200 border",...d})}),th:d=>D.jsx("th",{className:"px-4 py-2 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",...d}),td:d=>D.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 border-b",...d}),ul:d=>D.jsx("ul",{className:"list-disc pl-4 space-y-2",...d}),ol:d=>D.jsx("ol",{className:"list-decimal pl-4 space-y-2",...d}),p:d=>D.jsx("p",{className:"my-2 text-gray-700",...d})},children:t})}):null,[t]);return D.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-6 ${s}`,children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("h3",{className:"text-xl font-semibold text-gray-800 break-words max-w-[80%]",children:n||"Untitled Section"}),D.jsxs("div",{className:"flex gap-2",children:[t&&l(t)&&D.jsx("button",{onClick:()=>a(!o),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Toggle Chart",children:D.jsx(M3,{className:`w-5 h-5 ${o?"text-[#1f1f1f]":"text-gray-600"}`})}),D.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Print",children:D.jsx(L3,{className:"w-5 h-5 text-gray-600"})}),D.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Copy",children:D.jsx(R3,{className:"w-5 h-5 text-gray-600"})})]})]}),o&&D.jsx("div",{className:"mb-6 h-[300px]",children:u()}),c()]})},I6=({results:n})=>{const t=a=>a.includes("|---")?"table":a.match(/^\d+\./m)?"numbered-list":a.match(/^[-*]/m)?"bullet-list":"text";if(!n||typeof n.summary!="string")return console.error("Invalid results:",n),null;const e=n.summary,i=e.split(/(?=# [A-Z])/).filter(Boolean).map(a=>{const l=a.trim().split(`
`),u=l[0].replace(/^#+\s*/,"").trim(),c=l.slice(1).join(`
`).trim();return u.startsWith("Market Segment Analysis:")?null:(["Market Segment Analysis","Similar Segments Across Both Platforms","Unique","Key Insights","Customer Loyalty Analysis","Conversion Opportunities","Targeted Strategies","Differentiated Value Proposition"].some(f=>u.includes(f))||console.warn(`Unexpected section: ${u}`),{title:u,content:c,type:t(c)})}).filter(Boolean),r=i.filter(a=>a.content&&a.content!=="No content available"&&a.title&&a.title.length>0);if(i.length===0)return D.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-4",children:D.jsx(w1,{children:e})});const s=a=>{const l=c=>{const d=c.split(`
`).filter(p=>p.includes("|")).map(p=>p.split("|").filter(g=>g.trim()).map(g=>g.trim()));if(d.length===0)return c;const f=document.createElement("table");return f.style.borderCollapse="collapse",f.style.width="100%",d.forEach((p,g)=>{const m=document.createElement("tr");p.forEach(x=>{const y=document.createElement(g===0?"th":"td");y.style.border="1px solid #ddd",y.style.padding="8px",y.style.textAlign="left",y.textContent=x,m.appendChild(y)}),f.appendChild(m)}),f.outerHTML},u=window.open("","_blank");u.document.write(`
      <html>
        <head>
          <title>${a.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              line-height: 1.6;
              padding: 20px;
            }
            h1 {
              color: #333;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin: 15px 0;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f5f5f5;
            }
          </style>
        </head>
        <body>
          <h1>${a.title}</h1>
          <div>${l(a.content)}</div>
        </body>
      </html>
    `),u.document.close(),u.print()},o=async a=>{try{await navigator.clipboard.writeText(`${a.title}

${a.content}`),alert("Content copied to clipboard!")}catch(l){console.error("Failed to copy:",l)}};return D.jsxs("div",{className:"space-y-6",children:[D.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.summary.split(`
`)[0].replace(/^#+\s*/,"")}),D.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.map((a,l)=>D.jsx(L6,{title:a.title,content:a.content,type:a.type,onPrint:()=>s(a),onCopy:()=>o(a)},l))})]})};function D6(){const[n,t]=te.useState({pdf1:null,pdf2:null}),[e,i]=te.useState({myBrand:"",competitor:""}),[r,s]=te.useState(null),[o,a]=te.useState(!1),[l,u]=te.useState(!1),[c,d]=te.useState([]),[f,p]=te.useState(""),[g,m]=te.useState(!1),[x,y]=te.useState(null),[b,w]=te.useState({pdf1:null,pdf2:null}),k=(C,R)=>{var Y;const L=C.target.files[0],P={"application/pdf":!0,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":!0,"application/vnd.ms-excel":!0,"text/csv":!0,"application/csv":!0,"text/x-csv":!0,"application/x-csv":!0,"text/comma-separated-values":!0,"text/x-comma-separated-values":!0},I=[".pdf",".xlsx",".xls",".csv"],F=(Y=L==null?void 0:L.name.toLowerCase().match(/\.[^.]*$/))==null?void 0:Y[0];L&&(P[L.type]||F&&I.includes(F))?(t(q=>({...q,[R]:L})),w(q=>({...q,[R]:null}))):(w(q=>({...q,[R]:"Please upload a valid PDF, Excel (.xlsx, .xls) or CSV file"})),C.target.value=null)},E=async()=>{if(!(!n.pdf1||!n.pdf2||!e.myBrand||!e.competitor)){u(!0);try{const C=await iz(n.pdf1,n.pdf2,e.myBrand,e.competitor);C&&typeof C=="string"?s({summary:C}):(console.error("Invalid analysis result:",C),s({summary:""}))}catch(C){console.error("Error analyzing PDFs:",C),s({summary:""})}u(!1)}},A=async C=>{if(C.trim()){d(R=>[...R,{role:"user",content:C}]),p(""),m(!0);try{const R=await rz(C,r.summary);d(L=>[...L,{role:"assistant",content:R}])}catch(R){console.error("Error:",R),d(L=>[...L,{role:"assistant",content:"Hubo un error al procesar tu solicitud."}])}finally{m(!1)}}};return D.jsx("div",{className:"max-w-5xl mx-auto p-6",children:D.jsxs("div",{className:"space-y-8",children:[D.jsxs("div",{className:"flex gap-6 justify-center",children:[D.jsxs("div",{className:"flex-1 max-w-md space-y-4",children:[D.jsx("input",{type:"text",placeholder:"Enter your brand name (e.g. Disney+)",value:e.myBrand,onChange:C=>i(R=>({...R,myBrand:C.target.value})),className:"w-full p-2 border border-primary-100 rounded-lg text-gray-900 placeholder:text-gray-400"}),D.jsxs("div",{className:"border-2 border-dashed border-primary-100 rounded-lg p-6 text-center",children:[D.jsx("input",{type:"file",accept:".pdf",onChange:C=>k(C,"pdf1"),className:"hidden",id:"pdf1"}),D.jsxs("label",{htmlFor:"pdf1",className:"cursor-pointer block",children:[D.jsx(uS,{className:"mx-auto text-4xl text-primary-400 mb-2"}),D.jsx("span",{className:"text-primary-600 font-semibold",children:"Upload PDF Report"}),D.jsx("p",{className:"text-sm text-text-tertiary mt-1",children:"Upload PDF report"}),n.pdf1&&D.jsx("p",{className:"mt-2 text-sm text-[#1f1f1f]",children:n.pdf1.name}),b.pdf1&&D.jsx("p",{className:"mt-2 text-sm text-red-500",children:b.pdf1})]})]})]}),D.jsxs("div",{className:"flex-1 max-w-md space-y-4",children:[D.jsx("input",{type:"text",placeholder:"Enter competitor brand name (e.g. Netflix)",value:e.competitor,onChange:C=>i(R=>({...R,competitor:C.target.value})),className:"w-full p-2 border border-primary-100 rounded-lg text-gray-900 placeholder:text-gray-400"}),D.jsxs("div",{className:"border-2 border-dashed border-primary-100 rounded-lg p-6 text-center",children:[D.jsx("input",{type:"file",accept:".pdf",onChange:C=>k(C,"pdf2"),className:"hidden",id:"pdf2"}),D.jsxs("label",{htmlFor:"pdf2",className:"cursor-pointer block",children:[D.jsx(uS,{className:"mx-auto text-4xl text-primary-400 mb-2"}),D.jsx("span",{className:"text-primary-600 font-semibold",children:"Upload PDF Report"}),D.jsx("p",{className:"text-sm text-text-tertiary mt-1",children:"Upload PDF report"}),n.pdf2&&D.jsx("p",{className:"mt-2 text-sm text-[#1f1f1f]",children:n.pdf2.name}),b.pdf2&&D.jsx("p",{className:"mt-2 text-sm text-red-500",children:b.pdf2})]})]})]})]}),D.jsx("div",{className:"text-center text-sm text-purple-400",children:D.jsx("p",{className:"text-text-tertiary",children:"Once the analysis is generated, you can use the AI chat agent to dive deeper into the insights"})}),D.jsx("div",{className:"flex justify-center",children:D.jsx("button",{onClick:E,disabled:!n.pdf1||!n.pdf2||!e.myBrand||!e.competitor||l,className:`bg-primary hover:bg-primary-hover active:bg-primary-pressed active:scale-95 
                     transform transition-all duration-150 text-white px-8 py-3 rounded-lg cursor-pointer flex items-center gap-2`,children:l?D.jsxs(D.Fragment,{children:[D.jsx(P3,{}),D.jsx("span",{children:"Analyzing Reports..."})]}):D.jsxs(D.Fragment,{children:[D.jsx("span",{children:"Analyze Market Position"}),D.jsx(SD,{className:"w-5 h-5"})]})})}),r&&D.jsxs("div",{className:"mt-8",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Analysis Results"}),D.jsx(I6,{results:r})]}),r&&!o&&D.jsxs("button",{onClick:()=>a(!0),className:`fixed bottom-6 right-6 bg-[#1f1f1f] text-white px-4 py-3 rounded-full 
                     shadow-lg flex items-center space-x-2 hover:bg-gray-800 transition-colors`,children:[D.jsx(_D,{className:"w-5 h-5"}),D.jsx("span",{children:"Ask Boty"})]}),o&&D.jsxs("div",{className:"fixed inset-y-0 right-0 w-[400px] bg-white shadow-xl flex flex-col z-50",children:[D.jsxs("div",{className:"bg-[#1f1f1f] text-white p-4 flex justify-between items-center",children:[D.jsx("h3",{className:"font-semibold",children:"Market Intelligence Assistant"}),D.jsx("button",{onClick:()=>a(!1),className:"hover:bg-gray-700 p-1 rounded-full transition-colors",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:D.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),D.jsxs("div",{className:"flex-1 bg-[#f7f7f7] overflow-y-auto p-4 space-y-4",children:[c.map((C,R)=>D.jsx("div",{className:`max-w-[85%] ${C.role==="user"?"bg-white text-gray-800 ml-auto shadow-sm":"bg-white text-gray-800 shadow-sm"} rounded-xl p-4 prose`,children:D.jsx(w1,{children:C.content})},R)),g&&D.jsx("div",{className:"flex",children:D.jsxs("div",{className:"bg-white rounded-xl p-3 flex items-center space-x-2 shadow-sm",children:[D.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),D.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),D.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),D.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:D.jsxs("div",{className:"flex-1 relative",children:[D.jsx("input",{type:"text",value:f,onChange:C=>p(C.target.value),placeholder:"Ask a question...",disabled:g,className:`w-full p-3 pr-10 bg-white border border-gray-300 rounded-lg 
                           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                           disabled:bg-gray-50 text-gray-700 placeholder-gray-500`,onKeyPress:C=>C.key==="Enter"&&!g&&A(f)}),!g&&f.trim()&&D.jsx("button",{onClick:()=>A(f),className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 
                             text-gray-700 hover:text-blue-500 transition-colors`,children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]})})}function O6(){return D.jsx("footer",{className:"bg-white py-16 mt-20",children:D.jsxs("div",{className:"container mx-auto px-4",children:[D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[D.jsxs("div",{className:"space-y-4",children:[D.jsx("img",{src:new URL("/mka/assets/audiense-logo-black-yD5Dkt2M.svg",import.meta.url).href,alt:"Audiense Logo",className:"h-8"}),D.jsx("p",{className:"text-text-tertiary text-sm",children:"Transform audience research into actionable insights. Understand what inspires your audience, moves them, and influences them."})]}),D.jsxs("div",{children:[D.jsx("h4",{className:"text-primary-600 font-semibold mb-4",children:"Resources"}),D.jsxs("ul",{className:"space-y-2",children:[D.jsx("li",{children:D.jsx("a",{href:"https://resources.audiense.com",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary text-sm hover:text-primary-600",children:"Blog"})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/why-audiense",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary text-sm hover:text-primary-600",children:"Why Audiense"})}),D.jsx("li",{children:D.jsx("a",{href:"https://resources.audiense.com/affiliates",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary text-sm hover:text-primary-600",children:"Become an Affiliate"})}),D.jsx("li",{children:D.jsx("a",{href:"https://resources.audiense.com/audiense-knowledge-base",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary text-sm hover:text-primary-600",children:"Knowledge Base"})}),D.jsx("li",{children:D.jsx("a",{href:"https://status.audiense.com/",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary text-sm hover:text-primary-600",children:"Audiense Status"})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/research-and-development",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary text-sm hover:text-primary-600",children:"R+D"})})]})]}),D.jsxs("div",{children:[D.jsx("h4",{className:"text-primary-600 font-semibold mb-4",children:"Products & Plans"}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{children:[D.jsx("p",{className:"font-bold text-primary-600 mb-2",children:"AUDIENCE INTELLIGENCE"}),D.jsxs("ul",{className:"space-y-2",children:[D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/products/audiense-insights",target:"_blank",className:"text-text-secondary text-sm hover:text-primary-600",children:"Social Intelligence"})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/products/digital-intelligence",target:"_blank",className:"text-text-secondary text-sm hover:text-primary-600",children:"Digital Intelligence"})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/products/demand-intelligence",target:"_blank",className:"text-text-secondary text-sm hover:text-primary-600",children:"Demand Intelligence"})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/pricing-pages/audience-intelligence",target:"_blank",className:"text-text-secondary text-sm hover:text-primary-600",children:"Plans"})})]})]}),D.jsxs("div",{children:[D.jsx("p",{className:"font-bold text-primary-600 mb-2",children:"X MARKETING"}),D.jsxs("ul",{className:"space-y-2",children:[D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/products/audiense-connect",target:"_blank",className:"text-text-secondary text-sm hover:text-primary-600",children:"Audiense Connect"})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.tweetbinder.com/",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary text-sm hover:text-primary-600",children:"Tweet Binder"})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.audiense.com/pricing-pages/twitter-marketing",target:"_blank",className:"text-text-secondary text-sm hover:text-primary-600",children:"Plans"})})]})]})]})]}),D.jsxs("div",{className:"text-right",children:[D.jsx("p",{className:"text-primary-600 font-medium mb-2",children:"Ready to understand your audience?"}),D.jsx("a",{href:"https://www.audiense.com/pricing-pages/audience-intelligence",target:"_blank",rel:"noopener noreferrer",className:`inline-block bg-primary hover:bg-primary-hover active:bg-primary-pressed 
                       active:scale-95 transform transition-all duration-150 
                       text-white px-6 py-2 rounded-lg text-sm cursor-pointer`,children:"Start Free Trial"})]})]}),D.jsx("div",{className:"mt-12 pt-6 text-center text-text-tertiary text-sm",children:D.jsxs("p",{children:[" ",new Date().getFullYear()," Audiense. All rights reserved."]})})]})})}function F6(){return D.jsxs("div",{className:"min-h-screen bg-background",children:[D.jsxs("div",{className:"container mx-auto px-4 py-16",children:[D.jsxs("div",{className:"text-center space-y-8 mb-12",children:[D.jsx("img",{src:"https://cdn.prod.website-files.com/61a61781d327712f7cb32e56/67b9dbc1b8f175058773ceae_labs.svg",alt:"Audiense Logo",className:"h-12 mx-auto mb-6",style:{maxWidth:"120px"}}),D.jsxs("div",{className:"mx-auto",children:[D.jsx("h1",{className:"text-6xl font-bold text-primary-600 leading-tight",children:"Market Conquest Agent"}),D.jsx("sub",{className:"text-text-tertiary",children:"Using Audiense Ai technology"})]}),D.jsx("p",{className:"text-2xl text-text-secondary max-w-2xl mx-auto",children:"Transform market research into actionable strategies to convert your competitor's loyal customers into your brand advocates"})]}),D.jsx(D6,{})]}),D.jsx(O6,{})]})}wb.createRoot(document.getElementById("root")).render(D.jsx(Nn.StrictMode,{children:D.jsx(F6,{})}));
